<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Cnavas 绘图基本形状</title>
	<script>
		window.addEventListener('load', eventWindowLoaded, false);

		function eventWindowLoaded() {
			canvasApp();
		}

		function canvasApp() {
			var theCanvas = document.getElementById('canvas');
			var context = theCanvas.getContext('2d');

			drawRect(context);
			drawEllipse(context);
			drawTriangle(context);
		}

		function drawRect(ctx) {
			ctx.fillStyle = '#000000';
			ctx.strokeStyle = '#00ffff';
			ctx.lineWidth = 5;
			ctx.beginPath();
			ctx.rect(200, 0, 80, 120);
			ctx.stroke();

			ctx.strokeStyle = '#00ff00';
			ctx.fillRect(320, 20, 80, 80);
			ctx.strokeRect(0 + 300, 0, 120, 120);
			ctx.clearRect(40 + 300, 40, 40, 32);

			// 清除屏幕
			// ctx.clearRect(0, 0, canvas.width, canvas.height)
		}

		function drawEllipse(ctx) {
			ctx.save();
			ctx.strokeStyle = 'red';
			ctx.lineWidth = 10;
			ctx.beginPath();
			// x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise(默认false)
			ctx.ellipse(100, 100, 50, 75, Math.PI / 4, Math.PI / 2, 2 * Math.PI, false);

			ctx.stroke();
			ctx.restore();
		}

		function drawTriangle(ctx) {
			ctx.save();
			ctx.beginPath();
			ctx.strokeStyle = '#ff6600';
			ctx.lineWidth = 10;
			ctx.triangle(10, 210, 100, 200, 10, 300)
		}

		// 扩展 context
		CanvasRenderingContext2D.prototype.triangle = function (x1, y1, x2, y2, x3, y3) {
			this.moveTo(x1, y1);
			this.lineTo(x2, y2);
			this.lineTo(x3, y3);
			this.closePath();
			this.stroke();
		}
	</script>
</head>
<body>
	<div>
		<canvas id="canvas" width="500" height="500">
			Your browser does not support the HTML 5 Canvas.
		</canvas>
	</div>
</body>
</html>