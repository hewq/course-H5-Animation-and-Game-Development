<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Canvas 用户交互</title>
	<script>
		window.addEventListener('load', eventWindowLoaded, false);

		function eventWindowLoaded() {
			canvasApp();
		}

		function canvasApp() {
			var theCanvas = document.getElementById('canvas');
			var context = theCanvas.getContext('2d');

			context.beginPath();
			context.strokeStyle = 'red';
			context.lineWidth = 5;
			for (var i = 0; i < 5; i++) {
				context.rect(40 * i + 10, 30 * i + 10, 30, 30);
			}

			context.moveTo(0, 0 + 200);
			context.lineTo(200, 0 + 200);
			context.lineTo(200, 150 + 200);
			context.closePath();
			context.stroke();

			theCanvas.onmouseup = function (e) {
				var x = e.clientX - theCanvas.getBoundingClientRect().left;
				var y = e.clientY - theCanvas.getBoundingClientRect().top;
				console.log(x, y);
				console.log(context.isPointInPath(x, y), context.isPointInStroke(x, y));
			}
		}
	</script>
</head>
<body>
	<canvas id="canvas" width="500" height="500" style="border: 2px solid #ccc; display: block; margin: 0 auto;">
		Your browser does not support the HTML 5 Canvas.
	</canvas>
</body>
</html>