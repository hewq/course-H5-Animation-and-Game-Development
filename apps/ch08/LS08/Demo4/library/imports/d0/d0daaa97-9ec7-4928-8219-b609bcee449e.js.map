{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/external/gaf/Library/assets/frameworks/cocos2d-html5/external/gaf/Library/GAFMask.js"],"names":["gaf","Mask","Object","extend","_className","_clippingNode","ctor","gafSpriteProto","_super","cc","assert","_gafproto","_init","maskNodeProto","getMaskNodeProto","getIdRef","_maskNode","_gafConstruct","ClippingNode","create","setAlphaThreshold","addChild","setExternalTransform","affineTransform","affineTransformEqualToTransform","_additionalTransform","setAdditionalTransform","_getNode"],"mappings":";;;;;;AACAA,IAAIC,IAAJ,GAAWD,IAAIE,MAAJ,CAAWC,MAAX,CACV;AACGC,gBAAY,SADf;AAEGC,mBAAe,IAFlB;;AAIGC,UAAO,cAASC,cAAT,EACP;AACI,aAAKC,MAAL;AACAC,WAAGC,MAAH,CAAUH,cAAV,EAA0B,qCAA1B;AACA,aAAKI,SAAL,GAAiBJ,cAAjB;AACH,KATJ;;AAWGK,WAAQ,iBACR;AACI,YAAIC,gBAAgB,KAAKF,SAAL,CAAeG,gBAAf,EAApB;AACAL,WAAGC,MAAH,CAAUG,aAAV,EAAyB,iCAAiC,KAAKF,SAAL,CAAeI,QAAf,EAAjC,GAA6D,aAAtF;AACA,aAAKC,SAAL,GAAiBH,cAAcI,aAAd,EAAjB;AACI,aAAKZ,aAAL,GAAqBI,GAAGS,YAAH,CAAgBC,MAAhB,CAAuB,KAAKH,SAA5B,CAArB;AACJ,aAAKX,aAAL,CAAmBe,iBAAnB,CAAqC,GAArC;AACA,aAAKC,QAAL,CAAc,KAAKhB,aAAnB;AACH,KAnBJ;;AAqBGiB,0BAAuB,8BAASC,eAAT,EACvB;AACI,YAAG,CAACd,GAAGe,+BAAH,CAAmC,KAAKR,SAAL,CAAeS,oBAAlD,EAAwEF,eAAxE,CAAJ,EACA;AACI,iBAAKP,SAAL,CAAeU,sBAAf,CAAsCH,eAAtC;AACH;AACJ,KA3BJ;;AA6BGI,cAAW,oBACX;AACI,eAAO,KAAKtB,aAAZ;AACH;AAhCJ,CADU,CAAX","file":"GAFMask.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/external/gaf/Library","sourcesContent":["\ngaf.Mask = gaf.Object.extend\n({\n    _className: \"GAFMask\",\n    _clippingNode: null,\n\n    ctor : function(gafSpriteProto)\n    {\n        this._super();\n        cc.assert(gafSpriteProto, \"Error! Missing mandatory parameter.\");\n        this._gafproto = gafSpriteProto;\n    },\n\n    _init : function()\n    {\n        var maskNodeProto = this._gafproto.getMaskNodeProto();\n        cc.assert(maskNodeProto, \"Error. Mask node for id ref \" + this._gafproto.getIdRef() + \" not found.\");\n        this._maskNode = maskNodeProto._gafConstruct();\n            this._clippingNode = cc.ClippingNode.create(this._maskNode);\n        this._clippingNode.setAlphaThreshold(0.5);\n        this.addChild(this._clippingNode);\n    },\n\n    setExternalTransform : function(affineTransform)\n    {\n        if(!cc.affineTransformEqualToTransform(this._maskNode._additionalTransform, affineTransform))\n        {\n            this._maskNode.setAdditionalTransform(affineTransform);\n        }\n    },\n\n    _getNode : function()\n    {\n        return this._clippingNode;\n    }\n});"]}