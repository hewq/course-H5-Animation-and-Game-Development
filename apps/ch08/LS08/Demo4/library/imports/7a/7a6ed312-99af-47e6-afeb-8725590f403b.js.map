{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/jsb_boot.js"],"names":["cc","AsyncPool","srcObj","limit","iterator","onEnd","target","self","_srcObj","_limit","_pool","_iterator","_iteratorTarget","_onEnd","_onEndTarget","_results","Array","_isErr","each","value","index","push","size","length","finishedSize","_workingSize","onIterator","endCb","endCbTarget","_handleItem","item","shift","call","err","arr","prototype","slice","arguments","bind","flow","i","async","series","tasks","cb","asyncPool","func","cb1","parallel","waterfall","args","lastResults","concat","apply","map","callback","locIterator","iteratorTarget","mapLimit","path","normalizeRE","join","l","result","replace","extname","pathStr","temp","exec","mainFileName","fileName","idx","lastIndexOf","substring","basename","indexOf","reg","baseName","toLowerCase","dirname","changeExtname","tempStr","changeBasename","isSameExt","ext","_normalize","url","oldUrl","String","loader","_resPath","_audioPath","_register","cache","_langPathCache","getXMLHttpRequest","XMLHttpRequest","_jsCache","_getArgs4Js","a0","a1","a2","results","Error","loadJs","baseDir","jsList","localJsCache","ccPath","li","require","loadJsWithImg","loadTxt","jsb","fileUtils","getStringFromFile","loadJson","txt","JSON","parse","e","loadImg","option","cachedTex","textureCache","getTextureForKey","match","urlRegExp","loadRemoteImg","succeed","tex","_addImageAsync","Texture2D","loadBinary","getDataFromFile","loadBinarySync","_loadResIterator","type","src","name","obj","error","basePath","getBasePath","resPath","realUrl","getUrl","load","data","log","langPathCache","undefined","sys","language","resources","loadCallback","len","trigger","cbTarget","AsyncPoolCallback","aPool","triggerTarget","loadAliases","loadFilenameLookup","register","extNames","trim","getRes","cached","release","releaseAll","locCache","key","defineGetterSetter","addSearchPath","audioPath","formatStr","REGEXP_NUM_OR_STR","str","hasSubstitution","test","REGEXP_STR","arg","regExpToTest","director","Director","getInstance","_actionManager","getActionManager","_scheduler","getScheduler","winSize","getWinSize","view","getOpenGLView","getDevicePixelRatio","getRetinaFactor","convertToLocationInView","tx","ty","relatedPos","_devicePixelRatio","x","left","y","top","height","enableRetina","enabled","isRetinaEnabled","os","OS_IOS","OS_OSX","adjustViewPort","resizeWithBrowserSize","setResizeCallback","enableAutoFullScreen","isAutoFullScreenEnabled","_setDesignResolutionSize","setDesignResolutionSize","width","resolutionPolicy","visibleRect","init","setRealPixelResolution","setResolutionPolicy","getDesignResolutionSize","getCanvasSize","getFrameSize","getVisibleSizeInPixel","getVisibleSize","getVisibleOriginInPixel","getVisibleOrigin","setContentTranslateLeftTop","getContentTranslateLeftTop","setFrameZoomFactor","setOrientation","DENSITYDPI_DEVICE","DENSITYDPI_HIGH","DENSITYDPI_MEDIUM","DENSITYDPI_LOW","setTargetDensityDPI","getTargetDensityDPI","eventManager","getEventDispatcher","audioEngine","AudioEngine","end","stopMusic","stopAllEffects","features","MULTI_CHANNEL","AUTOPLAY","configuration","Configuration","getTextureCache","TextureCache","addImageAsync","localTex","_addImage","addImage","shaderCache","ShaderCache","animationCache","AnimationCache","spriteFrameCache","SpriteFrameCache","plistParser","PlistParser","FileUtils","setPopupNotify","screen","fullScreen","requestFullScreen","element","onFullScreenChange","exitFullScreen","autoFullScreen","reflection","callStaticMethod","_initSys","window","LANGUAGE_ENGLISH","LANGUAGE_CHINESE","LANGUAGE_FRENCH","LANGUAGE_ITALIAN","LANGUAGE_GERMAN","LANGUAGE_SPANISH","LANGUAGE_DUTCH","LANGUAGE_RUSSIAN","LANGUAGE_KOREAN","LANGUAGE_JAPANESE","LANGUAGE_HUNGARIAN","LANGUAGE_PORTUGUESE","LANGUAGE_ARABIC","LANGUAGE_NORWEGIAN","LANGUAGE_POLISH","LANGUAGE_TURKISH","LANGUAGE_UKRAINIAN","LANGUAGE_ROMANIAN","LANGUAGE_BULGARIAN","LANGUAGE_BELARUSIAN","LANGUAGE_UNKNOWN","OS_ANDROID","OS_WINDOWS","OS_MARMALADE","OS_LINUX","OS_BADA","OS_BLACKBERRY","OS_WP8","OS_WINRT","OS_UNKNOWN","UNKNOWN","WIN32","LINUX","MACOS","ANDROID","IPHONE","IPAD","BLACKBERRY","NACL","EMSCRIPTEN","TIZEN","WINRT","WP8","MOBILE_BROWSER","DESKTOP_BROWSER","BROWSER_TYPE_WECHAT","BROWSER_TYPE_ANDROID","BROWSER_TYPE_IE","BROWSER_TYPE_QQ","BROWSER_TYPE_MOBILE_QQ","BROWSER_TYPE_UC","BROWSER_TYPE_360","BROWSER_TYPE_BAIDU_APP","BROWSER_TYPE_BAIDU","BROWSER_TYPE_MAXTHON","BROWSER_TYPE_OPERA","BROWSER_TYPE_OUPENG","BROWSER_TYPE_MIUI","BROWSER_TYPE_FIREFOX","BROWSER_TYPE_SAFARI","BROWSER_TYPE_CHROME","BROWSER_TYPE_LIEBAO","BROWSER_TYPE_QZONE","BROWSER_TYPE_SOUGOU","BROWSER_TYPE_UNKNOWN","isNative","platform","__getPlatform","isMobile","_application","Application","getCurrentLanguage","__getOS","browserType","browserVersion","windowPixelResolution","capabilities","garbageCollect","__jsc__","dumpRoot","restartVM","__restartVM","cleanScript","jsFile","__cleanScript","isObjectValid","__isObjectValid","dump","stringify","openURL","now","Date","JavascriptJavaBridge","JavaScriptObjCBridge","_initDebugSetting","mode","ccGame","game","bakLog","_cocosplayerLog","console","warn","assert","DEBUG_MODE_NONE","cond","msg","DEBUG_MODE_ERROR","DEBUG_MODE_ERROR_FOR_WEB_PAGE","DEBUG_MODE_INFO","DEBUG_MODE_INFO_FOR_WEB_PAGE","_engineLoaded","initEngine","config","_renderType","RENDER_TYPE_OPENGL","CONFIG_KEY","debugMode","ENGINE_VERSION","DEBUG_MODE_WARN","DEBUG_MODE_WARN_FOR_WEB_PAGE","EVENT_HIDE","EVENT_SHOW","EVENT_RESIZE","RENDER_TYPE_CANVAS","RENDER_TYPE_WEBGL","_eventHide","_eventShow","engineDir","modules","showFPS","frameRate","id","renderMode","_paused","_prepareCalled","_prepared","_intervalId","onStart","onStop","setFrameRate","setAnimationInterval","step","mainLoop","pause","resume","isPaused","restart","close","prepare","_loadConfig","run","_initConfig","setDisplayStats","Function","oThis","isFunction","TypeError","aArgs","fToBind","fNOP","fBound","RegExp"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;AAEA;AACA;;;;;;;;;AASAA,GAAGC,SAAH,GAAe,UAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,KAAlC,EAAyCC,MAAzC,EAAgD;AAC3D,QAAIC,OAAO,IAAX;AACAA,SAAKC,OAAL,GAAeN,MAAf;AACAK,SAAKE,MAAL,GAAcN,KAAd;AACAI,SAAKG,KAAL,GAAa,EAAb;AACAH,SAAKI,SAAL,GAAiBP,QAAjB;AACAG,SAAKK,eAAL,GAAuBN,MAAvB;AACAC,SAAKM,MAAL,GAAcR,KAAd;AACAE,SAAKO,YAAL,GAAoBR,MAApB;AACAC,SAAKQ,QAAL,GAAgBb,kBAAkBc,KAAlB,GAA0B,EAA1B,GAA+B,EAA/C;AACAT,SAAKU,MAAL,GAAc,KAAd;;AAEAjB,OAAGkB,IAAH,CAAQhB,MAAR,EAAgB,UAASiB,KAAT,EAAgBC,KAAhB,EAAsB;AAClCb,aAAKG,KAAL,CAAWW,IAAX,CAAgB,EAACD,OAAQA,KAAT,EAAgBD,OAAQA,KAAxB,EAAhB;AACH,KAFD;;AAIAZ,SAAKe,IAAL,GAAYf,KAAKG,KAAL,CAAWa,MAAvB;AACAhB,SAAKiB,YAAL,GAAoB,CAApB;AACAjB,SAAKkB,YAAL,GAAoB,CAApB;;AAEAlB,SAAKE,MAAL,GAAcF,KAAKE,MAAL,IAAeF,KAAKe,IAAlC;;AAEAf,SAAKmB,UAAL,GAAkB,UAAStB,QAAT,EAAmBE,MAAnB,EAA0B;AACxCC,aAAKI,SAAL,GAAiBP,QAAjB;AACAG,aAAKK,eAAL,GAAuBN,MAAvB;AACH,KAHD;;AAKAC,SAAKF,KAAL,GAAa,UAASsB,KAAT,EAAgBC,WAAhB,EAA4B;AACrCrB,aAAKM,MAAL,GAAcc,KAAd;AACApB,aAAKO,YAAL,GAAoBc,WAApB;AACH,KAHD;;AAKArB,SAAKsB,WAAL,GAAmB,YAAU;AACzB,YAAItB,OAAO,IAAX;AACA,YAAGA,KAAKG,KAAL,CAAWa,MAAX,IAAqB,CAAxB,EACI,OAHqB,CAG2C;AACpE,YAAGhB,KAAKkB,YAAL,IAAqBlB,KAAKE,MAA7B,EACI,OALqB,CAK2C;AACpE,YAAIqB,OAAOvB,KAAKG,KAAL,CAAWqB,KAAX,EAAX;AACA,YAAIZ,QAAQW,KAAKX,KAAjB;AAAA,YAAwBC,QAAQU,KAAKV,KAArC;AACAb,aAAKkB,YAAL;AACAlB,aAAKI,SAAL,CAAeqB,IAAf,CAAoBzB,KAAKK,eAAzB,EAA0CO,KAA1C,EAAiDC,KAAjD,EAAwD,UAASa,GAAT,EAAa;AACjE,gBAAG1B,KAAKU,MAAR,EACI;;AAEJV,iBAAKiB,YAAL;AACAjB,iBAAKkB,YAAL;AACA,gBAAGQ,GAAH,EAAQ;AACJ1B,qBAAKU,MAAL,GAAc,IAAd;AACA,oBAAGV,KAAKM,MAAR,EACIN,KAAKM,MAAL,CAAYmB,IAAZ,CAAiBzB,KAAKO,YAAtB,EAAoCmB,GAApC;AACJ;AACH;;AAED,gBAAIC,MAAMlB,MAAMmB,SAAN,CAAgBC,KAAhB,CAAsBJ,IAAtB,CAA2BK,SAA3B,EAAsC,CAAtC,CAAV;AACA9B,iBAAKQ,QAAL,CAAc,KAAKK,KAAnB,IAA4Bc,IAAI,CAAJ,CAA5B;AACA,gBAAI3B,KAAKiB,YAAL,KAAsBjB,KAAKe,IAA/B,EAAqC;AACjC,oBAAIf,KAAKM,MAAT,EACIN,KAAKM,MAAL,CAAYmB,IAAZ,CAAiBzB,KAAKO,YAAtB,EAAoC,IAApC,EAA0CP,KAAKQ,QAA/C;AACJ;AACH;AACDR,iBAAKsB,WAAL;AACH,SArBuD,CAqBtDS,IArBsD,CAqBjDR,IArBiD,CAAxD,EAqBcvB,IArBd;AAsBH,KA/BD;;AAiCAA,SAAKgC,IAAL,GAAY,YAAU;AAClB,YAAIhC,OAAO,IAAX;AACA,YAAGA,KAAKG,KAAL,CAAWa,MAAX,KAAsB,CAAzB,EAA4B;AACxB,gBAAGhB,KAAKM,MAAR,EACIN,KAAKM,MAAL,CAAYmB,IAAZ,CAAiBzB,KAAKO,YAAtB,EAAoC,IAApC,EAA0C,EAA1C;AACJ;AACH;AACD,aAAI,IAAI0B,IAAI,CAAZ,EAAeA,IAAIjC,KAAKE,MAAxB,EAAgC+B,GAAhC;AACIjC,iBAAKsB,WAAL;AADJ;AAEH,KATD;AAUH,CA3ED;;AA6EA;;;AAGA7B,GAAGyC,KAAH,GAAW,uBAAuB;AAC9B;;;;;;;AAOAC,YAAS,gBAASC,KAAT,EAAgBC,EAAhB,EAAoBtC,MAApB,EAA2B;AAChC,YAAIuC,YAAY,IAAI7C,GAAGC,SAAP,CAAiB0C,KAAjB,EAAwB,CAAxB,EAA2B,UAASG,IAAT,EAAe1B,KAAf,EAAsB2B,GAAtB,EAA0B;AACjED,iBAAKd,IAAL,CAAU1B,MAAV,EAAkByC,GAAlB;AACH,SAFe,EAEbH,EAFa,EAETtC,MAFS,CAAhB;AAGAuC,kBAAUN,IAAV;AACA,eAAOM,SAAP;AACH,KAd6B;;AAgB9B;;;;;;;AAOAG,cAAW,kBAASL,KAAT,EAAgBC,EAAhB,EAAoBtC,MAApB,EAA2B;AAClC,YAAIuC,YAAY,IAAI7C,GAAGC,SAAP,CAAiB0C,KAAjB,EAAwB,CAAxB,EAA2B,UAASG,IAAT,EAAe1B,KAAf,EAAsB2B,GAAtB,EAA0B;AACjED,iBAAKd,IAAL,CAAU1B,MAAV,EAAkByC,GAAlB;AACH,SAFe,EAEbH,EAFa,EAETtC,MAFS,CAAhB;AAGAuC,kBAAUN,IAAV;AACA,eAAOM,SAAP;AACH,KA7B6B;;AA+B9B;;;;;;;AAOAI,eAAY,mBAASN,KAAT,EAAgBC,EAAhB,EAAoBtC,MAApB,EAA2B;AACnC,YAAI4C,OAAO,EAAX;AACA,YAAIC,cAAc,CAAC,IAAD,CAAlB,CAFmC,CAEV;AACzB,YAAIN,YAAY,IAAI7C,GAAGC,SAAP,CAAiB0C,KAAjB,EAAwB,CAAxB,EACZ,UAAUG,IAAV,EAAgB1B,KAAhB,EAAuB2B,GAAvB,EAA4B;AACxBG,iBAAK7B,IAAL,CAAU,UAAUY,GAAV,EAAe;AACrBiB,uBAAOlC,MAAMmB,SAAN,CAAgBC,KAAhB,CAAsBJ,IAAtB,CAA2BK,SAA3B,EAAsC,CAAtC,CAAP;AACA,oBAAGM,MAAMpB,MAAN,GAAe,CAAf,KAAqBH,KAAxB,EAA+B+B,cAAcA,YAAYC,MAAZ,CAAmBF,IAAnB,CAAd,CAFV,CAEiD;AACtEH,oBAAIM,KAAJ,CAAU,IAAV,EAAgBhB,SAAhB;AACH,aAJD;AAKAS,iBAAKO,KAAL,CAAW/C,MAAX,EAAmB4C,IAAnB;AACH,SARW,EAQT,UAAUjB,GAAV,EAAe;AACd,gBAAI,CAACW,EAAL,EACI;AACJ,gBAAIX,GAAJ,EACI,OAAOW,GAAGZ,IAAH,CAAQ1B,MAAR,EAAgB2B,GAAhB,CAAP;AACJW,eAAGS,KAAH,CAAS/C,MAAT,EAAiB6C,WAAjB;AACH,SAdW,CAAhB;AAeAN,kBAAUN,IAAV;AACA,eAAOM,SAAP;AACH,KA1D6B;;AA4D9B;;;;;;;;AAQAS,SAAM,aAASX,KAAT,EAAgBvC,QAAhB,EAA0BmD,QAA1B,EAAoCjD,MAApC,EAA2C;AAC7C,YAAIkD,cAAcpD,QAAlB;AACA,YAAG,QAAOA,QAAP,yCAAOA,QAAP,OAAqB,QAAxB,EAAiC;AAC7BmD,uBAAWnD,SAASwC,EAApB;AACAtC,qBAASF,SAASqD,cAAlB;AACAD,0BAAcpD,SAASA,QAAvB;AACH;AACD,YAAIyC,YAAY,IAAI7C,GAAGC,SAAP,CAAiB0C,KAAjB,EAAwB,CAAxB,EAA2Ba,WAA3B,EAAwCD,QAAxC,EAAkDjD,MAAlD,CAAhB;AACAuC,kBAAUN,IAAV;AACA,eAAOM,SAAP;AACH,KA9E6B;;AAgF9B;;;;;;;;AAQAa,cAAW,kBAASf,KAAT,EAAgBxC,KAAhB,EAAuBC,QAAvB,EAAiCwC,EAAjC,EAAqCtC,MAArC,EAA4C;AACnD,YAAIuC,YAAY,IAAI7C,GAAGC,SAAP,CAAiB0C,KAAjB,EAAwBxC,KAAxB,EAA+BC,QAA/B,EAAyCwC,EAAzC,EAA6CtC,MAA7C,CAAhB;AACAuC,kBAAUN,IAAV;AACA,eAAOM,SAAP;AACH;AA5F6B,CAAlC;AA8FA;;AAEA;AACA;;;AAGA7C,GAAG2D,IAAH,GAAU,sBAAsB;AAC5BC,iBAAa,kBADe;;AAG5B;;;;;;;;;;AAUAC,UAAM,gBAAY;AACd,YAAIC,IAAIzB,UAAUd,MAAlB;AACA,YAAIwC,SAAS,EAAb;AACA,aAAK,IAAIvB,IAAI,CAAb,EAAgBA,IAAIsB,CAApB,EAAuBtB,GAAvB,EAA4B;AACxBuB,qBAAS,CAACA,UAAUA,WAAW,EAAX,GAAgB,EAAhB,GAAqB,GAA/B,IAAsC1B,UAAUG,CAAV,CAAvC,EAAqDwB,OAArD,CAA6D,YAA7D,EAA2E,EAA3E,CAAT;AACH;AACD,eAAOD,MAAP;AACH,KApB2B;;AAsB5B;;;;;;;;;;AAUAE,aAAS,iBAAUC,OAAV,EAAmB;AACxB,YAAIC,OAAO,2BAA2BC,IAA3B,CAAgCF,OAAhC,CAAX;AACA,eAAOC,OAAOA,KAAK,CAAL,CAAP,GAAiB,IAAxB;AACH,KAnC2B;;AAqC5B;;;;;AAKAE,kBAAc,sBAASC,QAAT,EAAkB;AAC5B,YAAGA,QAAH,EAAY;AACT,gBAAIC,MAAMD,SAASE,WAAT,CAAqB,GAArB,CAAV;AACC,gBAAGD,QAAQ,CAAC,CAAZ,EACG,OAAOD,SAASG,SAAT,CAAmB,CAAnB,EAAqBF,GAArB,CAAP;AACN;AACD,eAAOD,QAAP;AACH,KAjD2B;;AAmD5B;;;;;;;;;;;;AAYAI,cAAU,kBAAUR,OAAV,EAAmBD,OAAnB,EAA4B;AAClC,YAAI7C,QAAQ8C,QAAQS,OAAR,CAAgB,GAAhB,CAAZ;AACA,YAAIvD,QAAQ,CAAZ,EAAe8C,UAAUA,QAAQO,SAAR,CAAkB,CAAlB,EAAqBrD,KAArB,CAAV;AACf,YAAIwD,MAAM,4BAAV;AACA,YAAIb,SAASa,IAAIR,IAAJ,CAASF,QAAQF,OAAR,CAAgB,YAAhB,EAA8B,EAA9B,CAAT,CAAb;AACA,YAAI,CAACD,MAAL,EAAa,OAAO,IAAP;AACb,YAAIc,WAAWd,OAAO,CAAP,CAAf;AACA,YAAIE,WAAWC,QAAQO,SAAR,CAAkBP,QAAQ3C,MAAR,GAAiB0C,QAAQ1C,MAA3C,EAAmDuD,WAAnD,OAAqEb,QAAQa,WAAR,EAApF,EACI,OAAOD,SAASJ,SAAT,CAAmB,CAAnB,EAAsBI,SAAStD,MAAT,GAAkB0C,QAAQ1C,MAAhD,CAAP;AACJ,eAAOsD,QAAP;AACH,KAzE2B;;AA2E5B;;;;;;;;;;;;;;AAcAE,aAAS,iBAAUb,OAAV,EAAmB;AACxB,eAAOA,QAAQF,OAAR,CAAgB,gCAAhB,EAAkD,IAAlD,CAAP;AACH,KA3F2B;;AA6F5B;;;;;;;;;AASAgB,mBAAe,uBAAUd,OAAV,EAAmBD,OAAnB,EAA4B;AACvCA,kBAAUA,WAAW,EAArB;AACA,YAAI7C,QAAQ8C,QAAQS,OAAR,CAAgB,GAAhB,CAAZ;AACA,YAAIM,UAAU,EAAd;AACA,YAAI7D,QAAQ,CAAZ,EAAe;AACX6D,sBAAUf,QAAQO,SAAR,CAAkBrD,KAAlB,CAAV;AACA8C,sBAAUA,QAAQO,SAAR,CAAkB,CAAlB,EAAqBrD,KAArB,CAAV;AACH;AACDA,gBAAQ8C,QAAQM,WAAR,CAAoB,GAApB,CAAR;AACA,YAAIpD,QAAQ,CAAZ,EAAe,OAAO8C,UAAUD,OAAV,GAAoBgB,OAA3B;AACf,eAAOf,QAAQO,SAAR,CAAkB,CAAlB,EAAqBrD,KAArB,IAA8B6C,OAA9B,GAAwCgB,OAA/C;AACH,KAjH2B;AAkH5B;;;;;;;;;;;;;AAaAC,oBAAgB,wBAAUhB,OAAV,EAAmBQ,QAAnB,EAA6BS,SAA7B,EAAwC;AACpD,YAAIT,SAASC,OAAT,CAAiB,GAAjB,MAA0B,CAA9B,EAAiC,OAAO,KAAKK,aAAL,CAAmBd,OAAnB,EAA4BQ,QAA5B,CAAP;AACjC,YAAItD,QAAQ8C,QAAQS,OAAR,CAAgB,GAAhB,CAAZ;AACA,YAAIM,UAAU,EAAd;AACA,YAAIG,MAAMD,YAAY,KAAKlB,OAAL,CAAaC,OAAb,CAAZ,GAAoC,EAA9C;AACA,YAAI9C,QAAQ,CAAZ,EAAe;AACX6D,sBAAUf,QAAQO,SAAR,CAAkBrD,KAAlB,CAAV;AACA8C,sBAAUA,QAAQO,SAAR,CAAkB,CAAlB,EAAqBrD,KAArB,CAAV;AACH;AACDA,gBAAQ8C,QAAQM,WAAR,CAAoB,GAApB,CAAR;AACApD,gBAAQA,SAAS,CAAT,GAAa,CAAb,GAAiBA,QAAQ,CAAjC;AACA,eAAO8C,QAAQO,SAAR,CAAkB,CAAlB,EAAqBrD,KAArB,IAA8BsD,QAA9B,GAAyCU,GAAzC,GAA+CH,OAAtD;AACH,KA3I2B;AA4I5B;AACAI,gBAAY,oBAASC,GAAT,EAAa;AACrB,YAAIC,SAASD,MAAME,OAAOF,GAAP,CAAnB;;AAEA;AACA,WAAG;AACCC,qBAASD,GAAT;AACAA,kBAAMA,IAAItB,OAAJ,CAAY,KAAKJ,WAAjB,EAA8B,EAA9B,CAAN;AACH,SAHD,QAGQ2B,OAAOhE,MAAP,KAAkB+D,IAAI/D,MAH9B;AAIA,eAAO+D,GAAP;AACH;AAtJ2B,CAAhC;AAwJA;;AAEA;AACAtF,GAAGyF,MAAH,GAAY;AACRC,cAAW,EADH;AAERC,gBAAa,EAFL;AAGRC,eAAY,EAHJ,EAGO;AACfC,WAAQ,EAJA,EAIG;AACXC,oBAAiB,EALT,EAKY;;AAEpB;;;;AAIAC,uBAAoB,6BAAY;AAC5B,eAAO,IAAIC,cAAJ,EAAP;AACH,KAbO;;AAgBR;;AAEAC,cAAW,EAlBH,EAkBM;;AAEdC,iBAAa,qBAAUhD,IAAV,EAAgB;AACzB,YAAIiD,KAAKjD,KAAK,CAAL,CAAT;AAAA,YAAkBkD,KAAKlD,KAAK,CAAL,CAAvB;AAAA,YAAgCmD,KAAKnD,KAAK,CAAL,CAArC;AAAA,YAA8CoD,UAAU,CAAC,EAAD,EAAK,IAAL,EAAW,IAAX,CAAxD;;AAEA,YAAIpD,KAAK3B,MAAL,KAAgB,CAApB,EAAuB;AACnB+E,oBAAQ,CAAR,IAAaH,cAAcnF,KAAd,GAAsBmF,EAAtB,GAA2B,CAACA,EAAD,CAAxC;AACH,SAFD,MAEO,IAAIjD,KAAK3B,MAAL,KAAgB,CAApB,EAAuB;AAC1B,gBAAI,OAAO6E,EAAP,KAAc,UAAlB,EAA8B;AAC1BE,wBAAQ,CAAR,IAAaH,cAAcnF,KAAd,GAAsBmF,EAAtB,GAA2B,CAACA,EAAD,CAAxC;AACAG,wBAAQ,CAAR,IAAaF,EAAb;AACH,aAHD,MAGO;AACHE,wBAAQ,CAAR,IAAaH,MAAM,EAAnB;AACAG,wBAAQ,CAAR,IAAaF,cAAcpF,KAAd,GAAsBoF,EAAtB,GAA2B,CAACA,EAAD,CAAxC;AACH;AACJ,SARM,MAQA,IAAIlD,KAAK3B,MAAL,KAAgB,CAApB,EAAuB;AAC1B+E,oBAAQ,CAAR,IAAaH,MAAM,EAAnB;AACAG,oBAAQ,CAAR,IAAaF,cAAcpF,KAAd,GAAsBoF,EAAtB,GAA2B,CAACA,EAAD,CAAxC;AACAE,oBAAQ,CAAR,IAAaD,EAAb;AACH,SAJM,MAIA,MAAM,IAAIE,KAAJ,CAAU,6BAAV,CAAN;AACP,eAAOD,OAAP;AACH,KAvCO;;AAyCR;;;;;;;;;AASAE,YAAQ,gBAAUC,OAAV,EAAmBC,MAAnB,EAA2B9D,EAA3B,EAA+B;AACnC,YAAIrC,OAAO,IAAX;AAAA,YAAiBoG,eAAepG,KAAK0F,QAArC;AAAA,YACI/C,OAAO3C,KAAK2F,WAAL,CAAiB7D,SAAjB,CADX;AAEAoE,kBAAUvD,KAAK,CAAL,CAAV;AACAwD,iBAASxD,KAAK,CAAL,CAAT;AACAN,aAAKM,KAAK,CAAL,CAAL;AACA,YAAI0D,SAAS5G,GAAG2D,IAAhB;AACA,aAAI,IAAInB,IAAI,CAAR,EAAWqE,KAAKH,OAAOnF,MAA3B,EAAmCiB,IAAIqE,EAAvC,EAA2C,EAAErE,CAA7C,EAA+C;AAC3CsE,oBAAQF,OAAO/C,IAAP,CAAY4C,OAAZ,EAAqBC,OAAOlE,CAAP,CAArB,CAAR;AACH;AACD,YAAGI,EAAH,EAAOA;AACV,KA7DO;AA8DR;;;;;;;AAOAmE,mBAAgB,uBAASN,OAAT,EAAkBC,MAAlB,EAA0B9D,EAA1B,EAA6B;AACzC,aAAK4D,MAAL,CAAYnD,KAAZ,CAAkB,IAAlB,EAAwBhB,SAAxB;AACH,KAvEO;;AAyER;;AAEA;;;;;AAKA2E,aAAU,iBAAS1B,GAAT,EAAc1C,EAAd,EAAiB;AACvBA,WAAG,IAAH,EAASqE,IAAIC,SAAJ,CAAcC,iBAAd,CAAgC7B,GAAhC,CAAT;AACH,KAlFO;;AAoFR8B,cAAW,kBAAS9B,GAAT,EAAc1C,EAAd,EAAiB;AACxB,aAAKoE,OAAL,CAAa1B,GAAb,EAAkB,UAASrD,GAAT,EAAcoF,GAAd,EAAkB;AAChC,gBAAG;AACCpF,sBAAMW,GAAGX,GAAH,CAAN,GAAgBW,GAAG,IAAH,EAAS0E,KAAKC,KAAL,CAAWF,GAAX,CAAT,CAAhB;AACH,aAFD,CAEC,OAAMG,CAAN,EAAQ;AACL,sBAAMA,CAAN;AACA5E,mBAAG,gBAAgB0C,GAAhB,GAAsB,aAAtB,GAAsCkC,CAAzC;AACH;AACJ,SAPD;AAQH,KA7FO;;AA+FR;;;;;;;AAOAC,aAAS,iBAAUnC,GAAV,EAAeoC,MAAf,EAAuB9E,EAAvB,EAA0B;AAC/B,YAAIkB,IAAIzB,UAAUd,MAAlB;AACA,YAAGuC,KAAK,CAAR,EAAWlB,KAAK8E,MAAL;;AAEX,YAAIC,YAAY3H,GAAG4H,YAAH,CAAgBC,gBAAhB,CAAiCvC,GAAjC,CAAhB;AACA,YAAIqC,SAAJ,EAAe;AACX/E,kBAAMA,GAAG,IAAH,EAAS+E,SAAT,CAAN;AACH,SAFD,MAGK,IAAIrC,IAAIwC,KAAJ,CAAUb,IAAIc,SAAd,CAAJ,EAA8B;AAC/Bd,gBAAIe,aAAJ,CAAkB1C,GAAlB,EAAuB,UAAS2C,OAAT,EAAkBC,GAAlB,EAAuB;AAC1C,oBAAID,OAAJ,EAAa;AACTrF,0BAAMA,GAAG,IAAH,EAASsF,GAAT,CAAN;AACH,iBAFD,MAGK;AACDtF,0BAAMA,GAAG,mBAAH,CAAN;AACH;AACJ,aAPD;AAQH,SATI,MAUA;AACD5C,eAAG4H,YAAH,CAAgBO,cAAhB,CAA+B7C,GAA/B,EAAoC,UAAU4C,GAAV,EAAc;AAC9C,oBAAIA,eAAelI,GAAGoI,SAAtB,EACIxF,MAAMA,GAAG,IAAH,EAASsF,GAAT,CAAN,CADJ,KAEKtF,MAAMA,GAAG,mBAAH,CAAN;AACR,aAJD;AAKH;AACJ,KA/HO;AAgIR;;;;;AAKAyF,gBAAa,oBAAS/C,GAAT,EAAc1C,EAAd,EAAiB;AAC1BA,WAAG,IAAH,EAASqE,IAAIC,SAAJ,CAAcoB,eAAd,CAA8BhD,GAA9B,CAAT;AACH,KAvIO;AAwIRiD,oBAAiB,wBAASjD,GAAT,EAAa;AAC1B,eAAO2B,IAAIC,SAAJ,CAAcoB,eAAd,CAA8BhD,GAA9B,CAAP;AACH,KA1IO;;AA4IR;;;;;;;;AAQAkD,sBAAkB,0BAAU1G,IAAV,EAAgBV,KAAhB,EAAuBwB,EAAvB,EAA2B;AACzC,YAAIrC,OAAO,IAAX;AAAA,YAAiB+E,MAAM,IAAvB;AACA,YAAImD,OAAO3G,KAAK2G,IAAhB;AACA,YAAIA,IAAJ,EAAU;AACNA,mBAAO,MAAMA,KAAK3D,WAAL,EAAb;AACAQ,kBAAMxD,KAAK4G,GAAL,GAAW5G,KAAK4G,GAAhB,GAAsB5G,KAAK6G,IAAL,GAAYF,IAAxC;AACH,SAHD,MAGO;AACHnD,kBAAMxD,IAAN;AACA2G,mBAAOzI,GAAG2D,IAAH,CAAQM,OAAR,CAAgBqB,GAAhB,CAAP;AACH;;AAED,YAAIsD,MAAMrI,KAAKsF,KAAL,CAAWP,GAAX,CAAV;AACA,YAAIsD,GAAJ,EACI,OAAOhG,GAAG,IAAH,EAASgG,GAAT,CAAP;AACJ,YAAInD,SAAS,IAAb;AACA,YAAIgD,IAAJ,EAAU;AACNhD,qBAASlF,KAAKqF,SAAL,CAAe6C,KAAK3D,WAAL,EAAf,CAAT;AACH;AACD,YAAI,CAACW,MAAL,EAAa;AACTzF,eAAG6I,KAAH,CAAS,iBAAiBJ,IAAjB,GAAwB,eAAjC;AACA,mBAAO7F,IAAP;AACH;AACD,YAAIkG,WAAWrD,OAAOsD,WAAP,GAAqBtD,OAAOsD,WAAP,EAArB,GAA4CxI,KAAKyI,OAAhE;AACA,YAAIC,UAAU1I,KAAK2I,MAAL,CAAYJ,QAAZ,EAAsBxD,GAAtB,CAAd;;AAEAG,eAAO0D,IAAP,CAAYF,OAAZ,EAAqB3D,GAArB,EAA0BxD,IAA1B,EAAgC,UAAUG,GAAV,EAAemH,IAAf,EAAqB;AACjD,gBAAInH,GAAJ,EAAS;AACLjC,mBAAGqJ,GAAH,CAAOpH,GAAP;AACA1B,qBAAKsF,KAAL,CAAWP,GAAX,IAAkB,IAAlB;AACA,uBAAO/E,KAAKsF,KAAL,CAAWP,GAAX,CAAP;AACA1C;AACH,aALD,MAKO;AACHrC,qBAAKsF,KAAL,CAAWP,GAAX,IAAkB8D,IAAlB;AACAxG,mBAAG,IAAH,EAASwG,IAAT;AACH;AACJ,SAVD;AAWH,KAxLO;;AA0LR;;;;;;AAMAF,YAAQ,gBAAUJ,QAAV,EAAoBxD,GAApB,EAAyB;AAC7B,YAAI/E,OAAO,IAAX;AAAA,YAAiB+I,gBAAgB/I,KAAKuF,cAAtC;AAAA,YAAsDnC,OAAO3D,GAAG2D,IAAhE;AACA,YAAImF,aAAaS,SAAb,IAA0BjE,QAAQiE,SAAtC,EAAiD;AAC7CjE,kBAAMwD,QAAN;AACA,gBAAIL,OAAO9E,KAAKM,OAAL,CAAaqB,GAAb,CAAX;AACAmD,mBAAOA,OAAOA,KAAK3D,WAAL,EAAP,GAA4B,EAAnC;AACA,gBAAIW,SAASlF,KAAKqF,SAAL,CAAe6C,IAAf,CAAb;AACA,gBAAI,CAAChD,MAAL,EACIqD,WAAWvI,KAAKyI,OAAhB,CADJ,KAGIF,WAAWrD,OAAOsD,WAAP,GAAqBtD,OAAOsD,WAAP,EAArB,GAA4CxI,KAAKyI,OAA5D;AACP;AACD1D,cAAMtF,GAAG2D,IAAH,CAAQE,IAAR,CAAaiF,YAAY,EAAzB,EAA6BxD,GAA7B,CAAN;AACA,YAAIA,IAAIwC,KAAJ,CAAU,2BAAV,CAAJ,EAA4C;AACxC,gBAAIwB,cAAchE,GAAd,CAAJ,EACI,OAAOgE,cAAchE,GAAd,CAAP;AACJ,gBAAIrB,UAAUN,KAAKM,OAAL,CAAaqB,GAAb,KAAqB,EAAnC;AACAA,kBAAMgE,cAAchE,GAAd,IAAqBA,IAAIb,SAAJ,CAAc,CAAd,EAAiBa,IAAI/D,MAAJ,GAAa0C,QAAQ1C,MAAtC,IAAgD,GAAhD,GAAsDvB,GAAGwJ,GAAH,CAAOC,QAA7D,GAAwExF,OAAnG;AACH;AACD,eAAOqB,GAAP;AACH,KApNO;;AAsNR;;;;;;;AAOA6D,UAAO,cAASO,SAAT,EAAoBhC,MAApB,EAA4BiC,YAA5B,EAAyC;AAC5C,YAAIpJ,OAAO,IAAX;AACA,YAAIqJ,MAAMvH,UAAUd,MAApB;AACA,YAAGqI,QAAQ,CAAX,EACI,MAAM,IAAIrD,KAAJ,CAAU,kBAAV,CAAN;;AAEJ,YAAGqD,QAAQ,CAAX,EAAa;AACT,gBAAG,OAAOlC,MAAP,KAAkB,UAArB,EAAgC;AAC5B,oBAAG,OAAOiC,YAAP,KAAwB,UAA3B,EACIjC,SAAS,EAACmC,SAAUnC,MAAX,EAAmB9E,IAAK+G,YAAxB,EAAT,CADJ,KAGIjC,SAAS,EAAE9E,IAAK8E,MAAP,EAAeoC,UAAWH,YAA1B,EAAT;AACP;AACJ,SAPD,MAOM,IAAGC,QAAQ,CAAX,EAAa;AACf,gBAAG,OAAOlC,MAAP,KAAkB,UAArB,EACIA,SAAS,EAAC9E,IAAK8E,MAAN,EAAT;AACP,SAHK,MAGA,IAAGkC,QAAQ,CAAX,EAAa;AACflC,qBAAS,EAAT;AACH;;AAED,YAAG,EAAEgC,qBAAqB1I,KAAvB,CAAH,EACI0I,YAAY,CAACA,SAAD,CAAZ;AACJ,YAAI7G,YAAY,IAAI7C,GAAGC,SAAP,CACZyJ,SADY,EACD,CADC,EAEZ,UAAUvI,KAAV,EAAiBC,KAAjB,EAAwB2I,iBAAxB,EAA2CC,KAA3C,EAAkD;AAC9CzJ,iBAAKiI,gBAAL,CAAsBrH,KAAtB,EAA6BC,KAA7B,EAAoC,UAAUa,GAAV,EAAe;AAC/C,oBAAIC,MAAMlB,MAAMmB,SAAN,CAAgBC,KAAhB,CAAsBJ,IAAtB,CAA2BK,SAA3B,EAAsC,CAAtC,CAAV;AACA,oBAAIqF,OAAOmC,OAAX,EACInC,OAAOmC,OAAP,CAAe7H,IAAf,CAAoB0F,OAAOuC,aAA3B,EAA0C/H,IAAI,CAAJ,CAA1C,EAAkD8H,MAAM1I,IAAxD,EAA8D0I,MAAMxI,YAApE,EAH2C,CAG0C;AACzFuI,kCAAkB9H,GAAlB,EAAuBC,IAAI,CAAJ,CAAvB;AACH,aALD;AAMH,SATW,EAUZwF,OAAO9E,EAVK,EAUD8E,OAAOoC,QAVN,CAAhB;AAWAjH,kBAAUN,IAAV;AACA,eAAOM,SAAP;AACH,KAhQO;;AAkQR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BAqH,iBAAc,qBAAS5E,GAAT,EAAc1C,EAAd,EAAiB;AAC3BqE,YAAIC,SAAJ,CAAciD,kBAAd,CAAiC7E,GAAjC;AACA,YAAG1C,EAAH,EAAOA;AACV,KAlSO;;AAoSR;;;;;AAKAwH,cAAU,kBAAUC,QAAV,EAAoB5E,MAApB,EAA4B;AAClC,YAAI,CAAC4E,QAAD,IAAa,CAAC5E,MAAlB,EAA0B;AAC1B,YAAIlF,OAAO,IAAX;AACA,YAAI,OAAO8J,QAAP,KAAoB,QAAxB,EACI,OAAO,KAAKzE,SAAL,CAAeyE,SAASC,IAAT,GAAgBxF,WAAhB,EAAf,IAAgDW,MAAvD;AACJ,aAAK,IAAIjD,IAAI,CAAR,EAAWqE,KAAKwD,SAAS9I,MAA9B,EAAsCiB,IAAIqE,EAA1C,EAA8CrE,GAA9C,EAAmD;AAC/CjC,iBAAKqF,SAAL,CAAe,MAAMyE,SAAS7H,CAAT,EAAY8H,IAAZ,GAAmBxF,WAAnB,EAArB,IAAyDW,MAAzD;AACH;AACJ,KAjTO;;AAmTR;;;;;AAKA8E,YAAS,gBAASjF,GAAT,EAAa;AAClB,YAAIkF,SAAS,KAAK3E,KAAL,CAAWP,GAAX,CAAb;AACA,YAAIkF,MAAJ,EACI,OAAOA,MAAP;AACJ,YAAI/B,OAAOzI,GAAG2D,IAAH,CAAQM,OAAR,CAAgBqB,GAAhB,CAAX;AACA,YAAI,CAACmD,IAAL,EAAW,OAAOzI,GAAGqJ,GAAH,CAAO,+BAAP,CAAP;AACX,YAAI5D,SAAS,KAAKG,SAAL,CAAe6C,KAAK3D,WAAL,EAAf,CAAb;AACA,YAAI,CAACW,MAAL,EAAa,OAAOzF,GAAGqJ,GAAH,CAAO,mCAAmCZ,IAAnC,GAA0C,eAAjD,CAAP;AACb,YAAIK,WAAWrD,OAAOsD,WAAP,GAAqBtD,OAAOsD,WAAP,EAArB,GAA4C,KAAKC,OAAhE;AACA,YAAIC,UAAU,KAAKC,MAAL,CAAYJ,QAAZ,EAAsBxD,GAAtB,CAAd;AACA,eAAOG,OAAO0D,IAAP,CAAYF,OAAZ,EAAqB3D,GAArB,CAAP;AACH,KAnUO;;AAqUR;;;;AAIAmF,aAAS,iBAAUnF,GAAV,EAAe;AACpB,YAAIO,QAAQ,KAAKA,KAAjB;AACA,eAAOA,MAAMP,GAAN,CAAP;AACH,KA5UO;;AA8UR;;;AAGAoF,gBAAY,sBAAY;AACpB,YAAIC,WAAW,KAAK9E,KAApB;AACA,aAAK,IAAI+E,GAAT,IAAgBD,QAAhB;AACI,mBAAOA,SAASC,GAAT,CAAP;AADJ;AAEH;AArVO,CAAZ;AAuVA5K,GAAG6K,kBAAH,CAAsB7K,GAAGyF,MAAzB,EAAiC,SAAjC,EAA4C,YAAU;AAClD,WAAO,KAAKC,QAAZ;AACH,CAFD,EAEG,UAASsD,OAAT,EAAiB;AAChB,SAAKtD,QAAL,GAAgBsD,WAAW,EAA3B;AACA/B,QAAIC,SAAJ,CAAc4D,aAAd,CAA4B,KAAKpF,QAAjC;AACH,CALD;AAMA1F,GAAG6K,kBAAH,CAAsB7K,GAAGyF,MAAzB,EAAiC,WAAjC,EAA8C,YAAU;AACpD,WAAO,KAAKE,UAAZ;AACH,CAFD,EAEG,UAASoF,SAAT,EAAmB;AAClB,SAAKpF,UAAL,GAAkBoF,aAAa,EAA/B;AACA9D,QAAIC,SAAJ,CAAc4D,aAAd,CAA4B,KAAKnF,UAAjC;AACH,CALD;;AAOA;;AAEA;;;;;;;AAOA3F,GAAGgL,SAAH,GAAe,YAAU;AACrB,QAAI9H,OAAOb,SAAX;AACA,QAAIyB,IAAIZ,KAAK3B,MAAb;AACA,QAAIuC,IAAI,CAAR,EAAW,OAAO,EAAP;AACX,QAAImH,oBAAoB,WAAxB;;AAEA,QAAIzI,IAAI,CAAR;AACA,QAAI0I,MAAMhI,KAAK,CAAL,CAAV;AACA,QAAIiI,kBAAkB,OAAOD,GAAP,KAAe,QAAf,IAA2BD,kBAAkBG,IAAlB,CAAuBF,GAAvB,CAAjD;AACA,QAAIC,eAAJ,EAAqB;AACjB,YAAIE,aAAa,IAAjB;AACA,eAAO7I,IAAIsB,CAAX,EAAc,EAAEtB,CAAhB,EAAmB;AACf,gBAAI8I,MAAMpI,KAAKV,CAAL,CAAV;AACA,gBAAI+I,eAAe,OAAOD,GAAP,KAAe,QAAf,GAA0BL,iBAA1B,GAA8CI,UAAjE;AACA,gBAAIE,aAAaH,IAAb,CAAkBF,GAAlB,CAAJ,EACIA,MAAMA,IAAIlH,OAAJ,CAAYuH,YAAZ,EAA0BD,GAA1B,CAAN,CADJ,KAGIJ,OAAO,MAAMI,GAAb;AACP;AACJ,KAVD,MAWK;AACD,YAAIxH,IAAI,CAAR,EAAW;AACP,mBAAOtB,IAAIsB,CAAX,EAAc,EAAEtB,CAAhB,EAAmB;AACf0I,uBAAO,MAAMhI,KAAKV,CAAL,CAAb;AACH;AACJ,SAJD,MAKK;AACD0I,kBAAM,KAAKA,GAAX;AACH;AACJ;AACD,WAAOA,GAAP;AACH,CA/BD;;AAkCA;;AAEA;AACAlL,GAAGwL,QAAH,GAAcxL,GAAGyL,QAAH,CAAYC,WAAZ,EAAd;AACA1L,GAAGwL,QAAH,CAAYG,cAAZ,GAA6B3L,GAAGwL,QAAH,CAAYI,gBAAZ,EAA7B;AACA5L,GAAGwL,QAAH,CAAYK,UAAZ,GAAyB7L,GAAGwL,QAAH,CAAYM,YAAZ,EAAzB;AACA9L,GAAG+L,OAAH,GAAa/L,GAAGwL,QAAH,CAAYQ,UAAZ,EAAb;;AAEAhM,GAAGiM,IAAH,GAAUjM,GAAGwL,QAAH,CAAYU,aAAZ,EAAV;AACAlM,GAAGiM,IAAH,CAAQE,mBAAR,GAA8BnM,GAAGiM,IAAH,CAAQG,eAAtC;AACApM,GAAGiM,IAAH,CAAQI,uBAAR,GAAkC,UAAUC,EAAV,EAAcC,EAAd,EAAkBC,UAAlB,EAA8B;AAC5D,QAAIC,oBAAoBzM,GAAGiM,IAAH,CAAQE,mBAAR,EAAxB;AACA,WAAO,EAACO,GAAGD,qBAAqBH,KAAKE,WAAWG,IAArC,CAAJ,EAAgDC,GAAGH,qBAAqBD,WAAWK,GAAX,GAAiBL,WAAWM,MAA5B,GAAqCP,EAA1D,CAAnD,EAAP;AACH,CAHD;AAIAvM,GAAGiM,IAAH,CAAQc,YAAR,GAAuB,UAASC,OAAT,EAAkB,CAAE,CAA3C;AACAhN,GAAGiM,IAAH,CAAQgB,eAAR,GAA0B,YAAW;AACjC,QAAIzD,MAAMxJ,GAAGwJ,GAAb;AACA,WAAQA,IAAI0D,EAAJ,IAAU1D,IAAI2D,MAAd,IAAwB3D,IAAI0D,EAAJ,IAAU1D,IAAI4D,MAAvC,GAAiD,IAAjD,GAAwD,KAA/D;AACH,CAHD;AAIApN,GAAGiM,IAAH,CAAQoB,cAAR,GAAyB,YAAW,CAAE,CAAtC;AACArN,GAAGiM,IAAH,CAAQqB,qBAAR,GAAgC,YAAY;AAAC;AAAQ,CAArD;AACAtN,GAAGiM,IAAH,CAAQsB,iBAAR,GAA4B,YAAW;AAAC;AAAQ,CAAhD;AACAvN,GAAGiM,IAAH,CAAQuB,oBAAR,GAA+B,YAAY;AAAC;AAAQ,CAApD;AACAxN,GAAGiM,IAAH,CAAQwB,uBAAR,GAAkC,YAAW;AAAC,WAAO,IAAP;AAAa,CAA3D;AACAzN,GAAGiM,IAAH,CAAQyB,wBAAR,GAAmC1N,GAAGiM,IAAH,CAAQ0B,uBAA3C;AACA3N,GAAGiM,IAAH,CAAQ0B,uBAAR,GAAkC,UAASC,KAAT,EAAed,MAAf,EAAsBe,gBAAtB,EAAuC;AACrE7N,OAAGiM,IAAH,CAAQyB,wBAAR,CAAiCE,KAAjC,EAAuCd,MAAvC,EAA8Ce,gBAA9C;AACA7N,OAAG+L,OAAH,GAAa/L,GAAGwL,QAAH,CAAYQ,UAAZ,EAAb;AACAhM,OAAG8N,WAAH,CAAeC,IAAf;AACH,CAJD;AAKA/N,GAAGiM,IAAH,CAAQ+B,sBAAR,GAAiChO,GAAGiM,IAAH,CAAQ0B,uBAAzC;AACA3N,GAAGiM,IAAH,CAAQgC,mBAAR,GAA8B,UAASJ,gBAAT,EAA0B;AACpD,QAAIvM,OAAOtB,GAAGiM,IAAH,CAAQiC,uBAAR,EAAX;AACAlO,OAAGiM,IAAH,CAAQ0B,uBAAR,CAAgCrM,KAAKsM,KAArC,EAA2CtM,KAAKwL,MAAhD,EAAuDe,gBAAvD;AACH,CAHD;AAIA7N,GAAGiM,IAAH,CAAQkC,aAAR,GAAwBnO,GAAGiM,IAAH,CAAQmC,YAAhC;AACApO,GAAGiM,IAAH,CAAQoC,qBAAR,GAAgCrO,GAAGiM,IAAH,CAAQqC,cAAxC;AACAtO,GAAGiM,IAAH,CAAQsC,uBAAR,GAAkCvO,GAAGiM,IAAH,CAAQuC,gBAA1C;AACAxO,GAAGiM,IAAH,CAAQwC,0BAAR,GAAqC,YAAU;AAAC;AAAQ,CAAxD;AACAzO,GAAGiM,IAAH,CAAQyC,0BAAR,GAAqC,YAAU;AAAC,WAAO,IAAP;AAAa,CAA7D;AACA1O,GAAGiM,IAAH,CAAQ0C,kBAAR,GAA6B,YAAU;AAAC;AAAQ,CAAhD;AACA3O,GAAGiM,IAAH,CAAQ2C,cAAR,GAAyB,YAAY,CAAE,CAAvC;AACA5O,GAAG6O,iBAAH,GAAuB,YAAvB;AACA7O,GAAG8O,eAAH,GAAqB,UAArB;AACA9O,GAAG+O,iBAAH,GAAuB,YAAvB;AACA/O,GAAGgP,cAAH,GAAoB,SAApB;AACAhP,GAAGiM,IAAH,CAAQgD,mBAAR,GAA8B,YAAW,CAAE,CAA3C;AACAjP,GAAGiM,IAAH,CAAQiD,mBAAR,GAA8B,YAAW;AAAC,WAAOlP,GAAG6O,iBAAV;AAA6B,CAAvE;;AAEA7O,GAAGmP,YAAH,GAAkBnP,GAAGwL,QAAH,CAAY4D,kBAAZ,EAAlB;;AAEApP,GAAGqP,WAAH,GAAiBrP,GAAGsP,WAAH,CAAe5D,WAAf,EAAjB;AACA1L,GAAGqP,WAAH,CAAeE,GAAf,GAAqB,YAAU;AAC3B,SAAKC,SAAL;AACA,SAAKC,cAAL;AACH,CAHD;AAIAzP,GAAGqP,WAAH,CAAeK,QAAf,GAA0B;AACtBC,mBAAe,IADO;AAEtBC,cAAU;AAFY,CAA1B;;AAKA5P,GAAG6P,aAAH,GAAmB7P,GAAG8P,aAAH,CAAiBpE,WAAjB,EAAnB;;AAEA1L,GAAG4H,YAAH,GAAkB5H,GAAGwL,QAAH,CAAYuE,eAAZ,EAAlB;AACA/P,GAAGgQ,YAAH,CAAgB7N,SAAhB,CAA0BgG,cAA1B,GAA2CnI,GAAGgQ,YAAH,CAAgB7N,SAAhB,CAA0B8N,aAArE;AACAjQ,GAAGgQ,YAAH,CAAgB7N,SAAhB,CAA0B8N,aAA1B,GAA0C,UAAS3K,GAAT,EAAc1C,EAAd,EAAkBtC,MAAlB,EAA0B;AAChE,QAAI4P,WAAW,IAAf;AACAlQ,OAAGyF,MAAH,CAAUgC,OAAV,CAAkBnC,GAAlB,EAAuB,UAASrD,GAAT,EAAciG,GAAd,EAAmB;AACtC,YAAIjG,GAAJ,EAASiG,MAAM,IAAN;AACT,YAAItF,EAAJ,EAAQ;AACJA,eAAGZ,IAAH,CAAQ1B,MAAR,EAAgB4H,GAAhB;AACH;AACDgI,mBAAWhI,GAAX;AACH,KAND;AAOA,WAAOgI,QAAP;AACH,CAVD;AAWA;AACAlQ,GAAGgQ,YAAH,CAAgB7N,SAAhB,CAA0BgO,SAA1B,GAAsCnQ,GAAGgQ,YAAH,CAAgB7N,SAAhB,CAA0BiO,QAAhE;AACApQ,GAAGgQ,YAAH,CAAgB7N,SAAhB,CAA0BiO,QAA1B,GAAqC,UAAS9K,GAAT,EAAc1C,EAAd,EAAkBtC,MAAlB,EAA0B;AAC3D,QAAI,OAAOsC,EAAP,KAAc,UAAlB,EAA8B;AAC1B,eAAO,KAAKqN,aAAL,CAAmB3K,GAAnB,EAAwB1C,EAAxB,EAA4BtC,MAA5B,CAAP;AACH,KAFD,MAGK;AACD,YAAIsC,EAAJ,EAAQ;AACJ,mBAAO,KAAKuN,SAAL,CAAe7K,GAAf,EAAoB1C,EAApB,CAAP;AACH,SAFD,MAGK;AACD,mBAAO,KAAKuN,SAAL,CAAe7K,GAAf,CAAP;AACH;AACJ;AACJ,CAZD;;AAcAtF,GAAGqQ,WAAH,GAAiBrQ,GAAGsQ,WAAH,CAAe5E,WAAf,EAAjB;AACA1L,GAAGuQ,cAAH,GAAoBvQ,GAAGwQ,cAAH,CAAkB9E,WAAlB,EAApB;AACA1L,GAAGyQ,gBAAH,GAAsBzQ,GAAG0Q,gBAAH,CAAoBhF,WAApB,EAAtB;;AAEA1L,GAAG2Q,WAAH,GAAiB3Q,GAAG4Q,WAAH,CAAelF,WAAf,EAAjB;;AAEA;AACA1L,GAAGkH,SAAH,GAAelH,GAAG6Q,SAAH,CAAanF,WAAb,EAAf;AACA1L,GAAGkH,SAAH,CAAa4J,cAAb,CAA4B,KAA5B;;AAEA9Q,GAAG+Q,MAAH,GAAY;AACRhD,UAAM,gBAAW,CAAE,CADX;AAERiD,gBAAY,sBAAW;AACnB,eAAO,IAAP;AACH,KAJO;AAKRC,uBAAmB,2BAASC,OAAT,EAAkBC,kBAAlB,EAAsC;AACrDA,2BAAmBnP,IAAnB;AACH,KAPO;AAQRoP,oBAAgB,0BAAW;AACvB,eAAO,KAAP;AACH,KAVO;AAWRC,oBAAgB,wBAASH,OAAT,EAAkBC,kBAAlB,EAAsC;AAClDA,2BAAmBnP,IAAnB;AACH;AAbO,CAAZ;;AAgBA;;;;;;;AAOAiF,IAAIC,SAAJ,GAAgBlH,GAAGkH,SAAnB;AACA,OAAOlH,GAAG6Q,SAAV;AACA,OAAO7Q,GAAGkH,SAAV;;AAEA;;;;;;;AAOAD,IAAIqK,UAAJ,GAAiB;AACbC,sBAAmB,4BAAU;AACzBvR,WAAGqJ,GAAH,CAAO,mCAAP;AACH;AAHY,CAAjB;;AAOA,IAAImI,WAAW,SAAXA,QAAW,GAAY;AACvB;;;;;AAKAxR,OAAGwJ,GAAH,GAASiI,OAAOjI,GAAP,IAAc,EAAvB;AACA,QAAIA,MAAMxJ,GAAGwJ,GAAb;;AAEA;;;;;;;AAOAA,QAAIkI,gBAAJ,GAAuB,IAAvB;;AAEA;;;;;;;AAOAlI,QAAImI,gBAAJ,GAAuB,IAAvB;;AAEA;;;;;;;AAOAnI,QAAIoI,eAAJ,GAAsB,IAAtB;;AAEA;;;;;;;AAOApI,QAAIqI,gBAAJ,GAAuB,IAAvB;;AAEA;;;;;;;AAOArI,QAAIsI,eAAJ,GAAsB,IAAtB;;AAEA;;;;;;;AAOAtI,QAAIuI,gBAAJ,GAAuB,IAAvB;;AAEA;;;;;;;AAOAvI,QAAIwI,cAAJ,GAAqB,IAArB;;AAEA;;;;;;;AAOAxI,QAAIyI,gBAAJ,GAAuB,IAAvB;;AAEA;;;;;;;AAOAzI,QAAI0I,eAAJ,GAAsB,IAAtB;;AAEA;;;;;;;AAOA1I,QAAI2I,iBAAJ,GAAwB,IAAxB;;AAEA;;;;;;;AAOA3I,QAAI4I,kBAAJ,GAAyB,IAAzB;;AAEA;;;;;;;AAOA5I,QAAI6I,mBAAJ,GAA0B,IAA1B;;AAEA;;;;;;;AAOA7I,QAAI8I,eAAJ,GAAsB,IAAtB;;AAEA;;;;;;;AAOA9I,QAAI+I,kBAAJ,GAAyB,IAAzB;;AAEA;;;;;;;AAOA/I,QAAIgJ,eAAJ,GAAsB,IAAtB;;AAEA;;;;;;AAMAhJ,QAAIiJ,gBAAJ,GAAuB,IAAvB;;AAEA;;;;;;AAMAjJ,QAAIkJ,kBAAJ,GAAyB,IAAzB;;AAEA;;;;;;AAMAlJ,QAAImJ,iBAAJ,GAAwB,IAAxB;;AAEA;;;;;;AAMAnJ,QAAIoJ,kBAAJ,GAAyB,IAAzB;;AAEA;;;;;;AAMApJ,QAAIqJ,mBAAJ,GAA0B,IAA1B;;AAEA;;;;;;;AAOArJ,QAAIsJ,gBAAJ,GAAuB,SAAvB;;AAEA;;;;;;AAMAtJ,QAAI2D,MAAJ,GAAa,KAAb;AACA;;;;;;AAMA3D,QAAIuJ,UAAJ,GAAiB,SAAjB;AACA;;;;;;AAMAvJ,QAAIwJ,UAAJ,GAAiB,SAAjB;AACA;;;;;;AAMAxJ,QAAIyJ,YAAJ,GAAmB,WAAnB;AACA;;;;;;AAMAzJ,QAAI0J,QAAJ,GAAe,OAAf;AACA;;;;;;AAMA1J,QAAI2J,OAAJ,GAAc,MAAd;AACA;;;;;;AAMA3J,QAAI4J,aAAJ,GAAoB,YAApB;AACA;;;;;;AAMA5J,QAAI4D,MAAJ,GAAa,MAAb;AACA;;;;;;AAMA5D,QAAI6J,MAAJ,GAAa,KAAb;AACA;;;;;;AAMA7J,QAAI8J,QAAJ,GAAe,OAAf;AACA;;;;;;AAMA9J,QAAI+J,UAAJ,GAAiB,SAAjB;;AAEA;;;;;;;AAOA/J,QAAIgK,OAAJ,GAAc,CAAC,CAAf;AACA;;;;;;;AAOAhK,QAAIiK,KAAJ,GAAY,CAAZ;AACA;;;;;;;AAOAjK,QAAIkK,KAAJ,GAAY,CAAZ;AACA;;;;;;;AAOAlK,QAAImK,KAAJ,GAAY,CAAZ;AACA;;;;;;;AAOAnK,QAAIoK,OAAJ,GAAc,CAAd;AACA;;;;;;;AAOApK,QAAIqK,MAAJ,GAAa,CAAb;AACA;;;;;;;AAOArK,QAAIsK,IAAJ,GAAW,CAAX;AACA;;;;;;;AAOAtK,QAAIuK,UAAJ,GAAiB,CAAjB;AACA;;;;;;;AAOAvK,QAAIwK,IAAJ,GAAW,CAAX;AACA;;;;;;;AAOAxK,QAAIyK,UAAJ,GAAiB,CAAjB;AACA;;;;;;;AAOAzK,QAAI0K,KAAJ,GAAY,CAAZ;AACA;;;;;;;AAOA1K,QAAI2K,KAAJ,GAAY,EAAZ;AACA;;;;;;;AAOA3K,QAAI4K,GAAJ,GAAU,EAAV;AACA;;;;;;;AAOA5K,QAAI6K,cAAJ,GAAqB,GAArB;AACA;;;;;;;AAOA7K,QAAI8K,eAAJ,GAAsB,GAAtB;;AAEA9K,QAAI+K,mBAAJ,GAA0B,QAA1B;AACA/K,QAAIgL,oBAAJ,GAA2B,gBAA3B;AACAhL,QAAIiL,eAAJ,GAAsB,IAAtB;AACAjL,QAAIkL,eAAJ,GAAsB,WAAtB;AACAlL,QAAImL,sBAAJ,GAA6B,YAA7B;AACAnL,QAAIoL,eAAJ,GAAsB,WAAtB;AACApL,QAAIqL,gBAAJ,GAAuB,YAAvB;AACArL,QAAIsL,sBAAJ,GAA6B,aAA7B;AACAtL,QAAIuL,kBAAJ,GAAyB,cAAzB;AACAvL,QAAIwL,oBAAJ,GAA2B,SAA3B;AACAxL,QAAIyL,kBAAJ,GAAyB,OAAzB;AACAzL,QAAI0L,mBAAJ,GAA0B,QAA1B;AACA1L,QAAI2L,iBAAJ,GAAwB,aAAxB;AACA3L,QAAI4L,oBAAJ,GAA2B,SAA3B;AACA5L,QAAI6L,mBAAJ,GAA0B,QAA1B;AACA7L,QAAI8L,mBAAJ,GAA0B,QAA1B;AACA9L,QAAI+L,mBAAJ,GAA0B,QAA1B;AACA/L,QAAIgM,kBAAJ,GAAyB,OAAzB;AACAhM,QAAIiM,mBAAJ,GAA0B,OAA1B;AACAjM,QAAIkM,oBAAJ,GAA2B,SAA3B;;AAEA;;;;;;AAMAlM,QAAImM,QAAJ,GAAe,IAAf;;AAEA;;;;;;AAMA,QAAIC,WAAWpM,IAAIoM,QAAJ,GAAeC,eAA9B;;AAEA;;;;;;AAMArM,QAAIsM,QAAJ,GAAgBF,aAAapM,IAAIoK,OAAjB,IACAgC,aAAapM,IAAIsK,IADjB,IAEA8B,aAAapM,IAAIqK,MAFjB,IAGA+B,aAAapM,IAAI4K,GAHjB,IAIAwB,aAAapM,IAAI0K,KAJjB,IAKA0B,aAAapM,IAAIuK,UALlB,GAKgC,IALhC,GAKuC,KALtD;;AAOAvK,QAAIuM,YAAJ,GAAmB/V,GAAGgW,WAAH,CAAetK,WAAf,EAAnB;;AAEA;;;;;;AAMAlC,QAAIC,QAAJ,GAAgB,YAAU;AACtB,YAAIA,WAAWD,IAAIuM,YAAJ,CAAiBE,kBAAjB,EAAf;AACA,gBAAOxM,QAAP;AACI,iBAAK,CAAL;AAAQ,uBAAOD,IAAIkI,gBAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOlI,IAAImI,gBAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOnI,IAAIoI,eAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOpI,IAAIqI,gBAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOrI,IAAIsI,eAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOtI,IAAIuI,gBAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOvI,IAAIwI,cAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOxI,IAAIyI,gBAAX;AACR,iBAAK,CAAL;AAAQ,uBAAOzI,IAAI0I,eAAX;AACR,iBAAK,CAAL;AAAQ,uBAAO1I,IAAI2I,iBAAX;AACR,iBAAK,EAAL;AAAS,uBAAO3I,IAAI4I,kBAAX;AACT,iBAAK,EAAL;AAAS,uBAAO5I,IAAI6I,mBAAX;AACT,iBAAK,EAAL;AAAS,uBAAO7I,IAAI8I,eAAX;AACT,iBAAK,EAAL;AAAS,uBAAO9I,IAAI+I,kBAAX;AACT,iBAAK,EAAL;AAAS,uBAAO/I,IAAIgJ,eAAX;AACT,iBAAK,EAAL;AAAS,uBAAOhJ,IAAIiJ,gBAAX;AACT,iBAAK,EAAL;AAAS,uBAAOjJ,IAAIkJ,kBAAX;AACT,iBAAK,EAAL;AAAS,uBAAOlJ,IAAImJ,iBAAX;AACT,iBAAK,EAAL;AAAS,uBAAOnJ,IAAIoJ,kBAAX;AACT,iBAAK,EAAL;AAAS,uBAAOpJ,IAAIqJ,mBAAX;AACT;AAAU,uBAAOrJ,IAAIkI,gBAAX;AArBd;AAuBH,KAzBc,EAAf;;AA2BA;;;;;;AAMAlI,QAAI0D,EAAJ,GAASgJ,SAAT;;AAEA;;;;;;AAMA1M,QAAI2M,WAAJ,GAAkB,IAAlB,CA3euB,CA2eC;;AAExB;;;;;;AAMA3M,QAAI4M,cAAJ,GAAqB,IAArB,CAnfuB,CAmfI;;AAE3B;;;;;;AAMA5M,QAAI6M,qBAAJ,GAA4BrW,GAAGiM,IAAH,CAAQmC,YAAR,EAA5B;;AAEA;;;;;;AAMA,QAAIkI,eAAe9M,IAAI8M,YAAJ,GAAmB;AAClC,kBAAU,KADwB;AAElC,kBAAU;AAFwB,KAAtC;AAIA,QAAI9M,IAAIsM,QAAR,EAAmB;AACfQ,qBAAa,eAAb,IAAgC,IAAhC;AACAA,qBAAa,SAAb,IAA0B,IAA1B;AACA,YAAIV,aAAapM,IAAI2K,KAAjB,IAA0ByB,aAAapM,IAAI4K,GAA/C,EAAoD;AAChDkC,yBAAa,UAAb,IAA2B,IAA3B;AACH;AACJ,KAND,MAMO;AACH;AACAA,qBAAa,UAAb,IAA2B,IAA3B;AACAA,qBAAa,OAAb,IAAwB,IAAxB;AACA;AACA,YAAIV,aAAapM,IAAI2K,KAAjB,IAA0ByB,aAAapM,IAAI4K,GAA/C,EACA;AACIkC,yBAAa,SAAb,IAA0B,IAA1B;AACAA,yBAAa,OAAb,IAAwB,KAAxB;AACH;AACJ;;AAED;;;;;;AAMA9M,QAAI+M,cAAJ,GAAqB,YAAW;AAC5BC,gBAAQD,cAAR;AACH,KAFD;;AAIA;;;;;;AAMA/M,QAAIiN,QAAJ,GAAe,YAAW;AACtBD,gBAAQC,QAAR;AACH,KAFD;;AAIA;;;;;;AAMAjN,QAAIkN,SAAJ,GAAgB,YAAW;AACvBC;AACH,KAFD;;AAIA;;;;;;;AAOAnN,QAAIoN,WAAJ,GAAkB,UAASC,MAAT,EAAiB;AAC/BC,sBAAcD,MAAd;AACH,KAFD;;AAIA;;;;;;;;;;AAUArN,QAAIuN,aAAJ,GAAoB,UAASnO,GAAT,EAAc;AAC9B,eAAOoO,gBAAgBpO,GAAhB,CAAP;AACH,KAFD;;AAIA;;;;;;AAMAY,QAAIyN,IAAJ,GAAW,YAAY;AACnB,YAAI1W,OAAO,IAAX;AACA,YAAI2K,MAAM,EAAV;AACAA,eAAO,gBAAgB3K,KAAKuV,QAArB,GAAgC,MAAvC;AACA5K,eAAO,gBAAgB3K,KAAKkJ,QAArB,GAAgC,MAAvC;AACAyB,eAAO,mBAAmB3K,KAAK4V,WAAxB,GAAsC,MAA7C;AACAjL,eAAO,oBAAoB5D,KAAK4P,SAAL,CAAe3W,KAAK+V,YAApB,CAApB,GAAwD,MAA/D;AACApL,eAAO,UAAU3K,KAAK2M,EAAf,GAAoB,MAA3B;AACAhC,eAAO,gBAAgB3K,KAAKqV,QAArB,GAAgC,MAAvC;AACA5V,WAAGqJ,GAAH,CAAO6B,GAAP;AACH,KAVD;;AAYA;;;;;;AAMA1B,QAAI2N,OAAJ,GAAc,UAAS7R,GAAT,EAAa;AACvBkE,YAAIuM,YAAJ,CAAiBoB,OAAjB,CAAyB7R,GAAzB;AACH,KAFD;;AAIAkE,QAAI4N,GAAJ,GAAU,YAAY;AAClB,eAAOC,KAAKD,GAAL,EAAP;AACH,KAFD;;AAIA;AACA,QAAG3F,OAAO6F,oBAAP,IAA+BtX,GAAGwJ,GAAH,CAAO0D,EAAP,IAAalN,GAAGwJ,GAAH,CAAOuJ,UAAtD,EAAiE;AAC7D9L,YAAIqK,UAAJ,GAAiB,IAAIgG,oBAAJ,EAAjB;AACAtX,WAAGwJ,GAAH,CAAO8M,YAAP,CAAoB,UAApB,IAAkC,IAAlC;AACH,KAHD,MAIK,IAAG7E,OAAO8F,oBAAP,KAAgCvX,GAAGwJ,GAAH,CAAO0D,EAAP,IAAalN,GAAGwJ,GAAH,CAAO2D,MAApB,IAA8BnN,GAAGwJ,GAAH,CAAO0D,EAAP,IAAalN,GAAGwJ,GAAH,CAAO4D,MAAlF,CAAH,EAA6F;AAC9FnG,YAAIqK,UAAJ,GAAiB,IAAIiG,oBAAJ,EAAjB;AACH;AACJ,CAxnBD;AAynBA/F;;AAEA;;;;AAIAxR,GAAGwX,iBAAH,GAAuB,UAAUC,IAAV,EAAgB;AACnC,QAAIC,SAAS1X,GAAG2X,IAAhB;AACA,QAAIC,SAAS5X,GAAG6X,eAAH,IAAsBC,QAAQzO,GAA9B,IAAqCA,GAAlD;AACArJ,OAAGqJ,GAAH,GAASrJ,GAAG+X,IAAH,GAAU/X,GAAG6I,KAAH,GAAW7I,GAAGgY,MAAH,GAAY,YAAY,CAAE,CAAxD;AACA,QAAIP,OAAOC,OAAOO,eAAlB,EAAmC;AAC/BH,gBAAQzO,GAAR,GAAc,YAAY;AACtBuO,mBAAO5X,GAAGgL,SAAH,CAAa3H,KAAb,CAAmB,IAAnB,EAAyBhB,SAAzB,CAAP;AACH,SAFD;AAGAyV,gBAAQjP,KAAR,GAAgB,YAAY;AACxB+O,mBAAO,cAAc5X,GAAGgL,SAAH,CAAa3H,KAAb,CAAmBrD,EAAnB,EAAuBqC,SAAvB,CAArB;AACH,SAFD;AAGAyV,gBAAQC,IAAR,GAAe,YAAY;AACvBH,mBAAO,aAAa5X,GAAGgL,SAAH,CAAa3H,KAAb,CAAmBrD,EAAnB,EAAuBqC,SAAvB,CAApB;AACH,SAFD;;AAIArC,WAAG6I,KAAH,GAAWiP,QAAQjP,KAAnB;AACA7I,WAAGgY,MAAH,GAAY,UAAUE,IAAV,EAAgBC,GAAhB,EAAqB;AAC7B,gBAAI,CAACD,IAAD,IAASC,GAAb,EAAkB;AACd,oBAAIjV,OAAO,EAAX;AACA,qBAAK,IAAIV,IAAI,CAAb,EAAgBA,IAAIH,UAAUd,MAA9B,EAAsCiB,GAAtC;AACIU,yBAAK7B,IAAL,CAAUgB,UAAUG,CAAV,CAAV;AADJ,iBAEAsV,QAAQzO,GAAR,CAAY,aAAarJ,GAAGgL,SAAH,CAAa3H,KAAb,CAAmBrD,EAAnB,EAAuBkD,IAAvB,CAAzB;AACH;AACJ,SAPD;AAQA,YAAIuU,QAAQC,OAAOU,gBAAf,IAAmCX,QAAQC,OAAOW,6BAAtD,EAAqF;AACjFrY,eAAG+X,IAAH,GAAUD,QAAQC,IAAlB;AACH;AACD,YAAIN,QAAQC,OAAOY,eAAf,IAAkCb,QAAQC,OAAOa,4BAArD,EAAmF;AAC/EvY,eAAGqJ,GAAH,GAASyO,QAAQzO,GAAjB;AACH;AACJ;AACJ,CA/BD;;AAiCArJ,GAAGwY,aAAH,GAAmB,KAAnB;;AAEAxY,GAAGyY,UAAH,GAAgB,UAAUC,MAAV,EAAkB9V,EAAlB,EAAsB;AAClCkE,YAAQ,eAAR;AACA9G,OAAG2Y,WAAH,GAAiB3Y,GAAG2X,IAAH,CAAQiB,kBAAzB;AACA5Y,OAAGwX,iBAAH,CAAqBkB,OAAO1Y,GAAG2X,IAAH,CAAQkB,UAAR,CAAmBC,SAA1B,CAArB;AACA9Y,OAAGwY,aAAH,GAAmB,IAAnB;AACAxY,OAAGqJ,GAAH,CAAOrJ,GAAG+Y,cAAV;AACA,QAAInW,EAAJ,EAAQA;AACX,CAPD;;AASA;;AAEA;;;;;AAKA5C,GAAG2X,IAAH,GAAU,sBAAsB;AAC5BM,qBAAiB,CADW;AAE5BK,qBAAiB,CAFW;AAG5BU,qBAAiB,CAHW;AAI5BZ,sBAAkB,CAJU;AAK5BG,kCAA8B,CALF;AAM5BU,kCAA8B,CANF;AAO5BZ,mCAA+B,CAPH;;AAS5Ba,gBAAY,cATgB;AAU5BC,gBAAY,cAVgB;AAW5BC,kBAAc,gBAXc;;AAa5BC,wBAAoB,CAbQ;AAc5BC,uBAAmB,CAdS;AAe5BV,wBAAoB,CAfQ;;AAiB5BW,gBAAY,IAjBgB;AAkB5BC,gBAAY,IAlBgB;;AAoB5B;;;;;AAKAX,gBAAY;AACRjL,eAAO,OADC;AAERd,gBAAQ,QAFA;AAGR2M,mBAAW,WAHH;AAIRC,iBAAS,SAJD;AAKRZ,mBAAW,WALH;AAMRa,iBAAS,SAND;AAORC,mBAAW,WAPH;AAQRC,YAAI,IARI;AASRC,oBAAY,YATJ;AAURpT,gBAAQ;AAVA,KAzBgB;;AAsC5B;AACAqT,aAAS,KAvCmB,EAuCb;AACfC,oBAAgB,KAxCY,EAwCN;AACtBC,eAAW,KAzCiB,EAyCX;;AAEjBC,iBAAa,IA3Ce,EA2CV;;AAElB;;;;AAIAxB,YAAQ,IAjDoB;;AAmD5B;;;;AAIAyB,aAAS,IAvDmB;;AAyD5B;;;;AAIAC,YAAQ,IA7DoB;;AA+DhC;;AAEA;AACI;;;;AAIAC,kBAAc,sBAAUT,SAAV,EAAqB;AAC/B,YAAIrZ,OAAO,IAAX;AAAA,YAAiBmY,SAASnY,KAAKmY,MAA/B;AAAA,YAAuCG,aAAatY,KAAKsY,UAAzD;AACAH,eAAOG,WAAWe,SAAlB,IAA+BA,SAA/B;AACA5Z,WAAGwL,QAAH,CAAY8O,oBAAZ,CAAiC,MAAIV,SAArC;AACH,KA1E2B;;AA4E5B;;;AAGAW,UAAM,gBAAY;AACdva,WAAGwL,QAAH,CAAYgP,QAAZ;AACH,KAjF2B;;AAmF5B;;;AAGAC,WAAO,iBAAY;AACf,aAAKV,OAAL,GAAe,IAAf;AACA/Z,WAAGwL,QAAH,CAAYiP,KAAZ;AACH,KAzF2B;;AA2F5B;;;AAGAC,YAAQ,kBAAY;AAChB,aAAKX,OAAL,GAAe,KAAf;AACA/Z,WAAGwL,QAAH,CAAYkP,MAAZ;AACH,KAjG2B;;AAmG5B;;;AAGAC,cAAU,oBAAY;AAClB,eAAO,KAAKZ,OAAZ;AACH,KAxG2B;;AA0G5B;;;AAGAa,aAAS,mBAAY;AACjBjE;AACH,KA/G2B;;AAiH5B;;;AAGApH,SAAK,eAAY;AACbsL;AACH,KAtH2B;;AAwHhC;AACI;;;;AAIAC,aAAS,iBAAUlY,EAAV,EAAc;AACnB,YAAIrC,OAAO,IAAX;AAAA,YACImY,SAASnY,KAAKmY,MADlB;AAAA,YAEIG,aAAatY,KAAKsY,UAFtB;;AAIA,aAAKkC,WAAL;;AAEA;AACA,YAAI,KAAKd,SAAT,EAAoB;AAChB,gBAAIrX,EAAJ,EAAQA;AACR;AACH;AACD;AACA,YAAI,KAAKoX,cAAT,EAAyB;AACrB;AACH;AACD;AACA,YAAIha,GAAGwY,aAAP,EAAsB;AAClB,iBAAKwB,cAAL,GAAsB,IAAtB;;AAEA;AACA,gBAAItT,SAASgS,OAAOG,WAAWnS,MAAlB,CAAb;AACA,gBAAIA,MAAJ,EAAY;AACR1G,mBAAGyF,MAAH,CAAUsB,aAAV,CAAwBL,MAAxB,EAAgC,UAAUzE,GAAV,EAAe;AAC3C,wBAAIA,GAAJ,EAAS,MAAM,IAAIsE,KAAJ,CAAUtE,GAAV,CAAN;AACT1B,yBAAK0Z,SAAL,GAAiB,IAAjB;AACA,wBAAIrX,EAAJ,EAAQA;AACX,iBAJD;AAKH,aAND,MAOK;AACD,oBAAIA,EAAJ,EAAQA;AACX;;AAED;AACH;;AAED;AACA5C,WAAGyY,UAAH,CAAc,KAAKC,MAAnB,EAA2B,YAAY;AACnCnY,iBAAKua,OAAL,CAAalY,EAAb;AACH,SAFD;AAGH,KArK2B;;AAuK5B;;;;;AAKAoY,SAAK,aAAUtC,MAAV,EAAkByB,OAAlB,EAA2B;AAC5B,YAAI,OAAOzB,MAAP,KAAkB,UAAtB,EAAkC;AAC9B1Y,eAAG2X,IAAH,CAAQwC,OAAR,GAAkBzB,MAAlB;AACH,SAFD,MAGK;AACD,gBAAIA,MAAJ,EAAY;AACR1Y,mBAAG2X,IAAH,CAAQe,MAAR,GAAiBA,MAAjB;AACH;AACD,gBAAI,OAAOyB,OAAP,KAAmB,UAAvB,EAAmC;AAC/Bna,mBAAG2X,IAAH,CAAQwC,OAAR,GAAkBA,OAAlB;AACH;AACJ;;AAED,aAAKW,OAAL,CAAa9a,GAAG2X,IAAH,CAAQwC,OAAR,IAAmBna,GAAG2X,IAAH,CAAQwC,OAAR,CAAgB7X,IAAhB,CAAqBtC,GAAG2X,IAAxB,CAAhC;AACH,KA1L2B;;AA4LhC;;AAEIoD,iBAAa,uBAAY;AACrB;AACA;AACA,YAAI,KAAKrC,MAAT,EAAiB;AACb,iBAAKuC,WAAL,CAAiB,KAAKvC,MAAtB;AACH;AACD;AAHA,aAIK;AACD,oBAAI;AACA,wBAAIrR,MAAMJ,IAAIC,SAAJ,CAAcC,iBAAd,CAAgC,cAAhC,CAAV;AACA,wBAAIiC,OAAO9B,KAAKC,KAAL,CAAWF,GAAX,CAAX;AACA,yBAAK4T,WAAL,CAAiB7R,QAAQ,EAAzB;AACH,iBAJD,CAIE,OAAO5B,CAAP,EAAU;AACRsQ,4BAAQzO,GAAR,CAAY,sCAAZ;AACA,yBAAK4R,WAAL,CAAiB,EAAjB;AACH;AACJ;AACJ,KA/M2B;;AAiN5BA,iBAAa,qBAAUvC,MAAV,EAAkB;AAC3B,YAAIG,aAAa,KAAKA,UAAtB;;AAEA;AACAH,eAAOG,WAAWc,OAAlB,IAA6B,OAAOjB,OAAOG,WAAWc,OAAlB,CAAP,KAAsC,WAAtC,GAAoD,IAApD,GAA2DjB,OAAOG,WAAWc,OAAlB,CAAxF;AACAjB,eAAOG,WAAWY,SAAlB,IAA+Bf,OAAOG,WAAWY,SAAlB,KAAgC,0BAA/D;AACA,YAAIf,OAAOG,WAAWC,SAAlB,KAAgC,IAApC,EACIJ,OAAOG,WAAWC,SAAlB,IAA+B,CAA/B;AACJJ,eAAOG,WAAWe,SAAlB,IAA+BlB,OAAOG,WAAWe,SAAlB,KAAgC,EAA/D;AACA,YAAIlB,OAAOG,WAAWiB,UAAlB,KAAiC,IAArC,EACIpB,OAAOG,WAAWiB,UAAlB,IAAgC,CAAhC;;AAEJ,aAAKpB,MAAL,GAAcA,MAAd;;AAEA1Y,WAAGwL,QAAH,CAAY0P,eAAZ,CAA4B,KAAKxC,MAAL,CAAYG,WAAWc,OAAvB,CAA5B;AACA3Z,WAAGwL,QAAH,CAAY8O,oBAAZ,CAAiC,MAAI,KAAK5B,MAAL,CAAYG,WAAWe,SAAvB,CAArC;AACH;AAjO2B,CAAhC;;AAoOA;;AAEA;AACAuB,SAAShZ,SAAT,CAAmBG,IAAnB,GAA0B,UAAU8Y,KAAV,EAAiB;AACvC,QAAI,CAACpb,GAAGqb,UAAH,CAAc,IAAd,CAAL,EAA0B;AACtB;AACA;AACA,cAAM,IAAIC,SAAJ,CAAc,sEAAd,CAAN;AACH;;AAED,QAAIC,QAAQva,MAAMmB,SAAN,CAAgBC,KAAhB,CAAsBJ,IAAtB,CAA2BK,SAA3B,EAAsC,CAAtC,CAAZ;AAAA,QACImZ,UAAU,IADd;AAAA,QAEIC,OAAO,SAAPA,IAAO,GAAY,CAAE,CAFzB;AAAA,QAGIC,SAAS,SAATA,MAAS,GAAY;AACjB,eAAOF,QAAQnY,KAAR,CAAc,gBAAgBoY,IAAhB,IAAwBL,KAAxB,GACf,IADe,GAEfA,KAFC,EAGHG,MAAMnY,MAAN,CAAapC,MAAMmB,SAAN,CAAgBC,KAAhB,CAAsBJ,IAAtB,CAA2BK,SAA3B,CAAb,CAHG,CAAP;AAIH,KARL;;AAUAoZ,SAAKtZ,SAAL,GAAiB,KAAKA,SAAtB;AACAuZ,WAAOvZ,SAAP,GAAmB,IAAIsZ,IAAJ,EAAnB;;AAEA,WAAOC,MAAP;AACH,CArBD;;AAuBAzU,IAAIc,SAAJ,GAAgB,IAAI4T,MAAJ,CACZ;AACI;AACA,uBAFJ;AAGI;AACA,sBAJJ,GAKI,KALJ;AAMQ;AACA;AACA;AACA;AACA;AACA,wCAXR,GAYQ,4CAZR,GAaQ,gDAbR,GAcI,GAdJ;AAeQ;AACA,4DAhBR;AAiBQ;AACA,gEAlBR;AAmBQ;AACA,qCApBR,GAqBI,GArBJ,GAsBQ,eAtBR,GAuBI,GAvBJ;AAwBI;AACA,gBAzBJ;AA0BI;AACA,YA3BJ,GA4BA,GA7BY,EA6BP,GA7BO,CAAhB","file":"jsb_boot.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script","sourcesContent":["/*\n * Copyright (c) 2015-2016 Chukong Technologies Inc.\n * Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n//\n// cocos2d boot\n//\n\n//+++++++++++++++++++++++++something about async begin+++++++++++++++++++++++++++++++\n/**\n * Async Pool class, a helper of cc.async\n * @param {Object|Array} srcObj\n * @param {Number} limit the limit of parallel number\n * @param {function} iterator\n * @param {function} onEnd\n * @param {object} target\n * @constructor\n */\ncc.AsyncPool = function(srcObj, limit, iterator, onEnd, target){\n    var self = this;\n    self._srcObj = srcObj;\n    self._limit = limit;\n    self._pool = [];\n    self._iterator = iterator;\n    self._iteratorTarget = target;\n    self._onEnd = onEnd;\n    self._onEndTarget = target;\n    self._results = srcObj instanceof Array ? [] : {};\n    self._isErr = false;\n\n    cc.each(srcObj, function(value, index){\n        self._pool.push({index : index, value : value});\n    });\n\n    self.size = self._pool.length;\n    self.finishedSize = 0;\n    self._workingSize = 0;\n\n    self._limit = self._limit || self.size;\n\n    self.onIterator = function(iterator, target){\n        self._iterator = iterator;\n        self._iteratorTarget = target;\n    };\n\n    self.onEnd = function(endCb, endCbTarget){\n        self._onEnd = endCb;\n        self._onEndTarget = endCbTarget;\n    };\n\n    self._handleItem = function(){\n        var self = this;\n        if(self._pool.length == 0)\n            return;                                                         //return directly if the array's length = 0\n        if(self._workingSize >= self._limit)\n            return;                                                         //return directly if the working size great equal limit number\n        var item = self._pool.shift();\n        var value = item.value, index = item.index;\n        self._workingSize++;\n        self._iterator.call(self._iteratorTarget, value, index, function(err){\n            if(self._isErr)\n                return;\n\n            self.finishedSize++;\n            self._workingSize--;\n            if(err) {\n                self._isErr = true;\n                if(self._onEnd)\n                    self._onEnd.call(self._onEndTarget, err);\n                return\n            }\n\n            var arr = Array.prototype.slice.call(arguments, 1);\n            self._results[this.index] = arr[0];\n            if (self.finishedSize === self.size) {\n                if (self._onEnd)\n                    self._onEnd.call(self._onEndTarget, null, self._results);\n                return;\n            }\n            self._handleItem();\n        }.bind(item), self);\n    };\n\n    self.flow = function(){\n        var self = this;\n        if(self._pool.length === 0) {\n            if(self._onEnd)\n                self._onEnd.call(self._onEndTarget, null, []);\n            return;\n        }\n        for(var i = 0; i < self._limit; i++)\n            self._handleItem();\n    }\n};\n\n/**\n * @class\n */\ncc.async = /** @lends cc.async# */{\n    /**\n     * Do tasks series.\n     * @param {Array|Object} tasks\n     * @param {function} [cb] callback\n     * @param {Object} [target]\n     * @return {cc.AsyncPool}\n     */\n    series : function(tasks, cb, target){\n        var asyncPool = new cc.AsyncPool(tasks, 1, function(func, index, cb1){\n            func.call(target, cb1);\n        }, cb, target);\n        asyncPool.flow();\n        return asyncPool;\n    },\n\n    /**\n     * Do tasks parallel.\n     * @param {Array|Object} tasks\n     * @param {function} cb callback\n     * @param {Object} [target]\n     * @return {cc.AsyncPool}\n     */\n    parallel : function(tasks, cb, target){\n        var asyncPool = new cc.AsyncPool(tasks, 0, function(func, index, cb1){\n            func.call(target, cb1);\n        }, cb, target);\n        asyncPool.flow();\n        return asyncPool;\n    },\n\n    /**\n     * Do tasks waterfall.\n     * @param {Array|Object} tasks\n     * @param {function} cb callback\n     * @param {Object} [target]\n     * @return {cc.AsyncPool}\n     */\n    waterfall : function(tasks, cb, target){\n        var args = [];\n        var lastResults = [null];//the array to store the last results\n        var asyncPool = new cc.AsyncPool(tasks, 1,\n            function (func, index, cb1) {\n                args.push(function (err) {\n                    args = Array.prototype.slice.call(arguments, 1);\n                    if(tasks.length - 1 === index) lastResults = lastResults.concat(args);//while the last task\n                    cb1.apply(null, arguments);\n                });\n                func.apply(target, args);\n            }, function (err) {\n                if (!cb)\n                    return;\n                if (err)\n                    return cb.call(target, err);\n                cb.apply(target, lastResults);\n            });\n        asyncPool.flow();\n        return asyncPool;\n    },\n\n    /**\n     * Do tasks by iterator.\n     * @param {Array|Object} tasks\n     * @param {function|Object} iterator\n     * @param {function} [callback]\n     * @param {Object} [target]\n     * @return {cc.AsyncPool}\n     */\n    map : function(tasks, iterator, callback, target){\n        var locIterator = iterator;\n        if(typeof(iterator) === \"object\"){\n            callback = iterator.cb;\n            target = iterator.iteratorTarget;\n            locIterator = iterator.iterator;\n        }\n        var asyncPool = new cc.AsyncPool(tasks, 0, locIterator, callback, target);\n        asyncPool.flow();\n        return asyncPool;\n    },\n\n    /**\n     * Do tasks by iterator limit.\n     * @param {Array|Object} tasks\n     * @param {Number} limit\n     * @param {function} iterator\n     * @param {function} cb callback\n     * @param {Object} [target]\n     */\n    mapLimit : function(tasks, limit, iterator, cb, target){\n        var asyncPool = new cc.AsyncPool(tasks, limit, iterator, cb, target);\n        asyncPool.flow();\n        return asyncPool;\n    }\n};\n//+++++++++++++++++++++++++something about async end+++++++++++++++++++++++++++++++++\n\n//+++++++++++++++++++++++++something about path begin++++++++++++++++++++++++++++++++\n/**\n * @class\n */\ncc.path = /** @lends cc.path# */{\n    normalizeRE: /[^\\.\\/]+\\/\\.\\.\\//,\n\n    /**\n     * Join strings to be a path.\n     * @example\n     cc.path.join(\"a\", \"b.png\");//-->\"a/b.png\"\n     cc.path.join(\"a\", \"b\", \"c.png\");//-->\"a/b/c.png\"\n     cc.path.join(\"a\", \"b\");//-->\"a/b\"\n     cc.path.join(\"a\", \"b\", \"/\");//-->\"a/b/\"\n     cc.path.join(\"a\", \"b/\", \"/\");//-->\"a/b/\"\n     * @returns {string}\n     */\n    join: function () {\n        var l = arguments.length;\n        var result = \"\";\n        for (var i = 0; i < l; i++) {\n            result = (result + (result === \"\" ? \"\" : \"/\") + arguments[i]).replace(/(\\/|\\\\\\\\)$/, \"\");\n        }\n        return result;\n    },\n\n    /**\n     * Get the ext name of a path.\n     * @example\n     cc.path.extname(\"a/b.png\");//-->\".png\"\n     cc.path.extname(\"a/b.png?a=1&b=2\");//-->\".png\"\n     cc.path.extname(\"a/b\");//-->null\n     cc.path.extname(\"a/b?a=1&b=2\");//-->null\n     * @param {string} pathStr\n     * @returns {*}\n     */\n    extname: function (pathStr) {\n        var temp = /(\\.[^\\.\\/\\?\\\\]*)(\\?.*)?$/.exec(pathStr);\n        return temp ? temp[1] : null;\n    },\n\n    /**\n     * Get the main name of a file name\n     * @param {string} fileName\n     * @returns {string}\n     */\n    mainFileName: function(fileName){\n        if(fileName){\n           var idx = fileName.lastIndexOf(\".\");\n            if(idx !== -1)\n               return fileName.substring(0,idx);\n        }\n        return fileName;\n    },\n\n    /**\n     * Get the file name of a file path.\n     * @example\n     cc.path.basename(\"a/b.png\");//-->\"b.png\"\n     cc.path.basename(\"a/b.png?a=1&b=2\");//-->\"b.png\"\n     cc.path.basename(\"a/b.png\", \".png\");//-->\"b\"\n     cc.path.basename(\"a/b.png?a=1&b=2\", \".png\");//-->\"b\"\n     cc.path.basename(\"a/b.png\", \".txt\");//-->\"b.png\"\n     * @param {string} pathStr\n     * @param {string} [extname]\n     * @returns {*}\n     */\n    basename: function (pathStr, extname) {\n        var index = pathStr.indexOf(\"?\");\n        if (index > 0) pathStr = pathStr.substring(0, index);\n        var reg = /(\\/|\\\\\\\\)([^(\\/|\\\\\\\\)]+)$/g;\n        var result = reg.exec(pathStr.replace(/(\\/|\\\\\\\\)$/, \"\"));\n        if (!result) return null;\n        var baseName = result[2];\n        if (extname && pathStr.substring(pathStr.length - extname.length).toLowerCase() === extname.toLowerCase())\n            return baseName.substring(0, baseName.length - extname.length);\n        return baseName;\n    },\n\n    /**\n     * Get dirname of a file path.\n     * @example\n     * unix\n     cc.path.driname(\"a/b/c.png\");//-->\"a/b\"\n     cc.path.driname(\"a/b/c.png?a=1&b=2\");//-->\"a/b\"\n     cc.path.dirname(\"a/b/\");//-->\"a/b\"\n     cc.path.dirname(\"c.png\");//-->\"\"\n     * windows\n     cc.path.driname(\"a\\\\b\\\\c.png\");//-->\"a\\b\"\n     cc.path.driname(\"a\\\\b\\\\c.png?a=1&b=2\");//-->\"a\\b\"\n     * @param {string} pathStr\n     * @returns {*}\n     */\n    dirname: function (pathStr) {\n        return pathStr.replace(/((.*)(\\/|\\\\|\\\\\\\\))?(.*?\\..*$)?/, '$2');\n    },\n\n    /**\n     * Change extname of a file path.\n     * @example\n     cc.path.changeExtname(\"a/b.png\", \".plist\");//-->\"a/b.plist\"\n     cc.path.changeExtname(\"a/b.png?a=1&b=2\", \".plist\");//-->\"a/b.plist?a=1&b=2\"\n     * @param {string} pathStr\n     * @param {string} [extname]\n     * @returns {string}\n     */\n    changeExtname: function (pathStr, extname) {\n        extname = extname || \"\";\n        var index = pathStr.indexOf(\"?\");\n        var tempStr = \"\";\n        if (index > 0) {\n            tempStr = pathStr.substring(index);\n            pathStr = pathStr.substring(0, index);\n        }\n        index = pathStr.lastIndexOf(\".\");\n        if (index < 0) return pathStr + extname + tempStr;\n        return pathStr.substring(0, index) + extname + tempStr;\n    },\n    /**\n     * Change file name of a file path.\n     * @example\n     cc.path.changeBasename(\"a/b/c.plist\", \"b.plist\");//-->\"a/b/b.plist\"\n     cc.path.changeBasename(\"a/b/c.plist?a=1&b=2\", \"b.plist\");//-->\"a/b/b.plist?a=1&b=2\"\n     cc.path.changeBasename(\"a/b/c.plist\", \".png\");//-->\"a/b/c.png\"\n     cc.path.changeBasename(\"a/b/c.plist\", \"b\");//-->\"a/b/b\"\n     cc.path.changeBasename(\"a/b/c.plist\", \"b\", true);//-->\"a/b/b.plist\"\n     * @param {String} pathStr\n     * @param {String} basename\n     * @param {Boolean} [isSameExt]\n     * @returns {string}\n     */\n    changeBasename: function (pathStr, basename, isSameExt) {\n        if (basename.indexOf(\".\") === 0) return this.changeExtname(pathStr, basename);\n        var index = pathStr.indexOf(\"?\");\n        var tempStr = \"\";\n        var ext = isSameExt ? this.extname(pathStr) : \"\";\n        if (index > 0) {\n            tempStr = pathStr.substring(index);\n            pathStr = pathStr.substring(0, index);\n        }\n        index = pathStr.lastIndexOf(\"/\");\n        index = index <= 0 ? 0 : index + 1;\n        return pathStr.substring(0, index) + basename + ext + tempStr;\n    },\n    //todo make public after verification\n    _normalize: function(url){\n        var oldUrl = url = String(url);\n\n        //removing all ../\n        do {\n            oldUrl = url;\n            url = url.replace(this.normalizeRE, \"\");\n        } while(oldUrl.length !== url.length);\n        return url;\n    }\n};\n//+++++++++++++++++++++++++something about path end++++++++++++++++++++++++++++++++\n\n//+++++++++++++++++++++++++something about loader start+++++++++++++++++++++++++++\ncc.loader = {\n    _resPath : \"\",\n    _audioPath : \"\",\n    _register : {},//register of loaders\n    cache : {},//cache for data loaded\n    _langPathCache : {},//cache for lang path\n    \n    /**\n     * Get XMLHttpRequest.\n     * @returns {XMLHttpRequest}\n     */\n    getXMLHttpRequest : function () {\n        return new XMLHttpRequest();\n    },\n    \n    \n    //@MODE_BEGIN DEV\n    \n    _jsCache : {},//cache for js\n    \n    _getArgs4Js: function (args) {\n        var a0 = args[0], a1 = args[1], a2 = args[2], results = [\"\", null, null];\n\n        if (args.length === 1) {\n            results[1] = a0 instanceof Array ? a0 : [a0];\n        } else if (args.length === 2) {\n            if (typeof a1 === \"function\") {\n                results[1] = a0 instanceof Array ? a0 : [a0];\n                results[2] = a1;\n            } else {\n                results[0] = a0 || \"\";\n                results[1] = a1 instanceof Array ? a1 : [a1];\n            }\n        } else if (args.length === 3) {\n            results[0] = a0 || \"\";\n            results[1] = a1 instanceof Array ? a1 : [a1];\n            results[2] = a2;\n        } else throw new Error(\"arguments error to load js!\");\n        return results;\n    },\n\n    /**\n     * Load js files.\n     * @param {?string=} baseDir   The pre path for jsList.\n     * @param {array.<string>} jsList    List of js path.\n     * @param {function} cb        Callback function\n     *\n     *      If the arguments.length == 2, then the baseDir turns to be \"\".\n     * @returns {*}\n     */\n    loadJs: function (baseDir, jsList, cb) {\n        var self = this, localJsCache = self._jsCache,\n            args = self._getArgs4Js(arguments);\n        baseDir = args[0];\n        jsList = args[1];\n        cb = args[2];\n        var ccPath = cc.path;\n        for(var i = 0, li = jsList.length; i < li; ++i){\n            require(ccPath.join(baseDir, jsList[i]));\n        }\n        if(cb) cb();\n    },\n    /**\n     * Load js width loading image.\n     *\n     * @param {string} [baseDir]\n     * @param {array} jsList\n     * @param {function} [cb]\n     */\n    loadJsWithImg : function(baseDir, jsList, cb){\n        this.loadJs.apply(this, arguments);\n    },\n    \n    //@MODE_END DEV\n    \n    /**\n     * Load a single resource as txt.\n     * @param {!string} url\n     * @param {function} cb arguments are : err, txt\n     */\n    loadTxt : function(url, cb){\n        cb(null, jsb.fileUtils.getStringFromFile(url));\n    },\n    \n    loadJson : function(url, cb){\n        this.loadTxt(url, function(err, txt){\n            try{\n                err ? cb(err) : cb(null, JSON.parse(txt));\n            }catch(e){\n                throw e;\n                cb(\"load json [\" + url + \"] failed : \" + e);\n            }\n        });\n    },\n    \n    /**\n     * Load a single image.\n     * @param {!string} url\n     * @param {object} [option]\n     * @param {function} cb\n     * @returns {Image}\n     */\n    loadImg: function (url, option, cb){\n        var l = arguments.length;\n        if(l == 2) cb = option;\n\n        var cachedTex = cc.textureCache.getTextureForKey(url);\n        if (cachedTex) {\n            cb && cb(null, cachedTex);\n        }\n        else if (url.match(jsb.urlRegExp)) {\n            jsb.loadRemoteImg(url, function(succeed, tex) {\n                if (succeed) {\n                    cb && cb(null, tex);\n                }\n                else {\n                    cb && cb(\"Load image failed\");\n                }\n            });\n        }\n        else {\n            cc.textureCache._addImageAsync(url, function (tex){\n                if (tex instanceof cc.Texture2D)\n                    cb && cb(null, tex);\n                else cb && cb(\"Load image failed\");\n            });\n        }\n    },\n    /**\n     * Load binary data by url.\n     * @param {String} url\n     * @param {Function} cb\n     */\n    loadBinary : function(url, cb){\n        cb(null, jsb.fileUtils.getDataFromFile(url));\n    },\n    loadBinarySync : function(url){\n        return jsb.fileUtils.getDataFromFile(url);\n    },\n    \n    /**\n     * Iterator function to load res\n     * @param {object} item\n     * @param {number} index\n     * @param {function} [cb]\n     * @returns {*}\n     * @private\n     */\n    _loadResIterator: function (item, index, cb) {\n        var self = this, url = null;\n        var type = item.type;\n        if (type) {\n            type = \".\" + type.toLowerCase();\n            url = item.src ? item.src : item.name + type;\n        } else {\n            url = item;\n            type = cc.path.extname(url);\n        }\n\n        var obj = self.cache[url];\n        if (obj)\n            return cb(null, obj);\n        var loader = null;\n        if (type) {\n            loader = self._register[type.toLowerCase()];\n        }\n        if (!loader) {\n            cc.error(\"loader for [\" + type + \"] not exists!\");\n            return cb();\n        }\n        var basePath = loader.getBasePath ? loader.getBasePath() : self.resPath;\n        var realUrl = self.getUrl(basePath, url);\n\n        loader.load(realUrl, url, item, function (err, data) {\n            if (err) {\n                cc.log(err);\n                self.cache[url] = null;\n                delete self.cache[url];\n                cb();\n            } else {\n                self.cache[url] = data;\n                cb(null, data);\n            }\n        });\n    },\n    \n    /**\n     * Get url with basePath.\n     * @param {string} basePath\n     * @param {string} [url]\n     * @returns {*}\n     */\n    getUrl: function (basePath, url) {\n        var self = this, langPathCache = self._langPathCache, path = cc.path;\n        if (basePath !== undefined && url === undefined) {\n            url = basePath;\n            var type = path.extname(url);\n            type = type ? type.toLowerCase() : \"\";\n            var loader = self._register[type];\n            if (!loader)\n                basePath = self.resPath;\n            else\n                basePath = loader.getBasePath ? loader.getBasePath() : self.resPath;\n        }\n        url = cc.path.join(basePath || \"\", url);\n        if (url.match(/[\\/(\\\\\\\\)]lang[\\/(\\\\\\\\)]/i)) {\n            if (langPathCache[url])\n                return langPathCache[url];\n            var extname = path.extname(url) || \"\";\n            url = langPathCache[url] = url.substring(0, url.length - extname.length) + \"_\" + cc.sys.language + extname;\n        }\n        return url;\n    },\n\n    /**\n     * Load resources then call the callback.\n     * @param {string} resources\n     * @param {function} [option] callback or trigger\n     * @param {function|Object} [loadCallback]\n     * @return {cc.AsyncPool}\n     */\n    load : function(resources, option, loadCallback){\n        var self = this;\n        var len = arguments.length;\n        if(len === 0)\n            throw new Error(\"arguments error!\");\n\n        if(len === 3){\n            if(typeof option === \"function\"){\n                if(typeof loadCallback === \"function\")\n                    option = {trigger : option, cb : loadCallback };\n                else\n                    option = { cb : option, cbTarget : loadCallback};\n            }\n        }else if(len === 2){\n            if(typeof option === \"function\")\n                option = {cb : option};\n        }else if(len === 1){\n            option = {};\n        }\n\n        if(!(resources instanceof Array))\n            resources = [resources];\n        var asyncPool = new cc.AsyncPool(\n            resources, 0,\n            function (value, index, AsyncPoolCallback, aPool) {\n                self._loadResIterator(value, index, function (err) {\n                    var arr = Array.prototype.slice.call(arguments, 1);\n                    if (option.trigger)\n                        option.trigger.call(option.triggerTarget, arr[0], aPool.size, aPool.finishedSize);   //call trigger\n                    AsyncPoolCallback(err, arr[0]);\n                });\n            },\n            option.cb, option.cbTarget);\n        asyncPool.flow();\n        return asyncPool;\n    },\n\n    /**\n     * <p>\n     *     Loads alias map from the contents of a filename.                                        <br/>\n     *                                                                                                                 <br/>\n     *     @note The plist file name should follow the format below:                                                   <br/>\n     *     <?xml version=\"1.0\" encoding=\"UTF-8\"?>                                                                      <br/>\n     *         <!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">  <br/>\n     *             <plist version=\"1.0\">                                                                               <br/>\n     *                 <dict>                                                                                          <br/>\n     *                     <key>filenames</key>                                                                        <br/>\n     *                     <dict>                                                                                      <br/>\n     *                         <key>sounds/click.wav</key>                                                             <br/>\n     *                         <string>sounds/click.caf</string>                                                       <br/>\n     *                         <key>sounds/endgame.wav</key>                                                           <br/>\n     *                         <string>sounds/endgame.caf</string>                                                     <br/>\n     *                         <key>sounds/gem-0.wav</key>                                                             <br/>\n     *                         <string>sounds/gem-0.caf</string>                                                       <br/>\n     *                     </dict>                                                                                     <br/>\n     *                     <key>metadata</key>                                                                         <br/>\n     *                     <dict>                                                                                      <br/>\n     *                         <key>version</key>                                                                      <br/>\n     *                         <integer>1</integer>                                                                    <br/>\n     *                     </dict>                                                                                     <br/>\n     *                 </dict>                                                                                         <br/>\n     *              </plist>                                                                                           <br/>\n     * </p>\n     * @param {String} filename  The plist file name.\n     * @param {Function} cb     callback\n     */\n    loadAliases : function(url, cb){\n        jsb.fileUtils.loadFilenameLookup(url);\n        if(cb) cb();\n    },\n\n    /**\n     * Register a resource loader into loader.\n     * @param {string} extNames\n     * @param {function} loader\n     */\n    register: function (extNames, loader) {\n        if (!extNames || !loader) return;\n        var self = this;\n        if (typeof extNames === \"string\")\n            return this._register[extNames.trim().toLowerCase()] = loader;\n        for (var i = 0, li = extNames.length; i < li; i++) {\n            self._register[\".\" + extNames[i].trim().toLowerCase()] = loader;\n        }\n    },\n\n    /**\n     * Get resource data by url.\n     * @param url\n     * @returns {*}\n     */\n    getRes : function(url){\n        var cached = this.cache[url];\n        if (cached)\n            return cached;\n        var type = cc.path.extname(url);\n        if (!type) return cc.log(\"cc.loader.getRes: Invalid url\");\n        var loader = this._register[type.toLowerCase()];\n        if (!loader) return cc.log(\"cc.loader.getRes: loader for [\" + type + \"] not exists!\");\n        var basePath = loader.getBasePath ? loader.getBasePath() : this.resPath;\n        var realUrl = this.getUrl(basePath, url);\n        return loader.load(realUrl, url);\n    },\n\n    /**\n     * Release the cache of resource by url.\n     * @param url\n     */\n    release: function (url) {\n        var cache = this.cache;\n        delete cache[url];\n    },\n\n    /**\n     * Resource cache of all resources.\n     */\n    releaseAll: function () {\n        var locCache = this.cache;\n        for (var key in locCache)\n            delete locCache[key];\n    }\n};\ncc.defineGetterSetter(cc.loader, \"resPath\", function(){\n    return this._resPath;\n}, function(resPath){\n    this._resPath = resPath || \"\";\n    jsb.fileUtils.addSearchPath(this._resPath);\n});\ncc.defineGetterSetter(cc.loader, \"audioPath\", function(){\n    return this._audioPath;\n}, function(audioPath){\n    this._audioPath = audioPath || \"\";\n    jsb.fileUtils.addSearchPath(this._audioPath);\n});\n\n//+++++++++++++++++++++++++something about loader end+++++++++++++++++++++++++++++\n\n/**\n * A string tool to construct a string with format string.\n * for example:\n *      cc.formatStr(\"a: %d, b: %b\", a, b);\n *      cc.formatStr(a, b, c);\n * @returns {String}\n */\ncc.formatStr = function(){\n    var args = arguments;\n    var l = args.length;\n    if (l < 1) return '';\n    var REGEXP_NUM_OR_STR = /(%d)|(%s)/;\n\n    var i = 1;\n    var str = args[0];\n    var hasSubstitution = typeof str === 'string' && REGEXP_NUM_OR_STR.test(str);\n    if (hasSubstitution) {\n        var REGEXP_STR = /%s/;\n        for (; i < l; ++i) {\n            var arg = args[i];\n            var regExpToTest = typeof arg === 'number' ? REGEXP_NUM_OR_STR : REGEXP_STR;\n            if (regExpToTest.test(str))\n                str = str.replace(regExpToTest, arg);\n            else\n                str += ' ' + arg;\n        }\n    }\n    else {\n        if (l > 1) {\n            for (; i < l; ++i) {\n                str += ' ' + args[i];\n            }\n        }\n        else {\n            str = '' + str;\n        }\n    }\n    return str;\n};\n\n\n//+++++++++++++++++++++++++Engine initialization function begin+++++++++++++++++++++++++++\n\n// Define singleton objects\ncc.director = cc.Director.getInstance();\ncc.director._actionManager = cc.director.getActionManager();\ncc.director._scheduler = cc.director.getScheduler();\ncc.winSize = cc.director.getWinSize();\n\ncc.view = cc.director.getOpenGLView();\ncc.view.getDevicePixelRatio = cc.view.getRetinaFactor;\ncc.view.convertToLocationInView = function (tx, ty, relatedPos) {\n    var _devicePixelRatio = cc.view.getDevicePixelRatio();\n    return {x: _devicePixelRatio * (tx - relatedPos.left), y: _devicePixelRatio * (relatedPos.top + relatedPos.height - ty)};\n};\ncc.view.enableRetina = function(enabled) {};\ncc.view.isRetinaEnabled = function() {\n    var sys = cc.sys;\n    return (sys.os == sys.OS_IOS || sys.os == sys.OS_OSX) ? true : false;\n};\ncc.view.adjustViewPort = function() {};\ncc.view.resizeWithBrowserSize = function () {return;};\ncc.view.setResizeCallback = function() {return;};\ncc.view.enableAutoFullScreen = function () {return;};\ncc.view.isAutoFullScreenEnabled = function() {return true;};\ncc.view._setDesignResolutionSize = cc.view.setDesignResolutionSize;\ncc.view.setDesignResolutionSize = function(width,height,resolutionPolicy){\n    cc.view._setDesignResolutionSize(width,height,resolutionPolicy);\n    cc.winSize = cc.director.getWinSize();\n    cc.visibleRect.init();\n};\ncc.view.setRealPixelResolution = cc.view.setDesignResolutionSize;\ncc.view.setResolutionPolicy = function(resolutionPolicy){\n    var size = cc.view.getDesignResolutionSize();\n    cc.view.setDesignResolutionSize(size.width,size.height,resolutionPolicy);\n};\ncc.view.getCanvasSize = cc.view.getFrameSize;\ncc.view.getVisibleSizeInPixel = cc.view.getVisibleSize;\ncc.view.getVisibleOriginInPixel = cc.view.getVisibleOrigin;\ncc.view.setContentTranslateLeftTop = function(){return;};\ncc.view.getContentTranslateLeftTop = function(){return null;};\ncc.view.setFrameZoomFactor = function(){return;};\ncc.view.setOrientation = function () {};\ncc.DENSITYDPI_DEVICE = \"device-dpi\";\ncc.DENSITYDPI_HIGH = \"high-dpi\";\ncc.DENSITYDPI_MEDIUM = \"medium-dpi\";\ncc.DENSITYDPI_LOW = \"low-dpi\";\ncc.view.setTargetDensityDPI = function() {};\ncc.view.getTargetDensityDPI = function() {return cc.DENSITYDPI_DEVICE;};\n\ncc.eventManager = cc.director.getEventDispatcher();\n\ncc.audioEngine = cc.AudioEngine.getInstance();\ncc.audioEngine.end = function(){\n    this.stopMusic();\n    this.stopAllEffects();\n};\ncc.audioEngine.features = {\n    MULTI_CHANNEL: true, \n    AUTOPLAY: true\n};\n\ncc.configuration = cc.Configuration.getInstance();\n\ncc.textureCache = cc.director.getTextureCache();\ncc.TextureCache.prototype._addImageAsync = cc.TextureCache.prototype.addImageAsync;\ncc.TextureCache.prototype.addImageAsync = function(url, cb, target) {\n    var localTex = null;\n    cc.loader.loadImg(url, function(err, tex) {\n        if (err) tex = null;\n        if (cb) {\n            cb.call(target, tex);\n        }\n        localTex = tex;\n    });\n    return localTex;\n};\n// Fix for compatibility with old APIs\ncc.TextureCache.prototype._addImage = cc.TextureCache.prototype.addImage;\ncc.TextureCache.prototype.addImage = function(url, cb, target) {\n    if (typeof cb === \"function\") {\n        return this.addImageAsync(url, cb, target);\n    }\n    else {\n        if (cb) {\n            return this._addImage(url, cb);\n        }\n        else {\n            return this._addImage(url);\n        }\n    }\n};\n\ncc.shaderCache = cc.ShaderCache.getInstance();\ncc.animationCache = cc.AnimationCache.getInstance();\ncc.spriteFrameCache = cc.SpriteFrameCache.getInstance();\n\ncc.plistParser = cc.PlistParser.getInstance();\n\n// File utils (Temporary, won't be accessible)\ncc.fileUtils = cc.FileUtils.getInstance();\ncc.fileUtils.setPopupNotify(false);\n\ncc.screen = {\n    init: function() {},\n    fullScreen: function() {\n        return true;\n    },\n    requestFullScreen: function(element, onFullScreenChange) {\n        onFullScreenChange.call();\n    },\n    exitFullScreen: function() {\n        return false;\n    },\n    autoFullScreen: function(element, onFullScreenChange) {\n        onFullScreenChange.call();\n    }\n};\n\n/**\n * @type {Object}\n * @name jsb.fileUtils\n * jsb.fileUtils is the native file utils singleton object,\n * please refer to Cocos2d-x API to know how to use it.\n * Only available in JSB\n */\njsb.fileUtils = cc.fileUtils;\ndelete cc.FileUtils;\ndelete cc.fileUtils;\n\n/**\n * @type {Object}\n * @name jsb.reflection\n * jsb.reflection is a bridge to let you invoke Java static functions.\n * please refer to this document to know how to use it: http://www.cocos2d-x.org/docs/manual/framework/html5/v3/reflection/en\n * Only available on Android platform\n */\njsb.reflection = {\n    callStaticMethod : function(){\n        cc.log(\"not supported on current platform\");\n    }\n};\n\n\nvar _initSys = function () {\n    /**\n     * System variables\n     * @namespace\n     * @name cc.sys\n     */\n    cc.sys = window.sys || {};\n    var sys = cc.sys;\n\n    /**\n     * English language code\n     * @memberof cc.sys\n     * @name LANGUAGE_ENGLISH\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_ENGLISH = \"en\";\n\n    /**\n     * Chinese language code\n     * @memberof cc.sys\n     * @name LANGUAGE_CHINESE\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_CHINESE = \"zh\";\n\n    /**\n     * French language code\n     * @memberof cc.sys\n     * @name LANGUAGE_FRENCH\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_FRENCH = \"fr\";\n\n    /**\n     * Italian language code\n     * @memberof cc.sys\n     * @name LANGUAGE_ITALIAN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_ITALIAN = \"it\";\n\n    /**\n     * German language code\n     * @memberof cc.sys\n     * @name LANGUAGE_GERMAN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_GERMAN = \"de\";\n\n    /**\n     * Spanish language code\n     * @memberof cc.sys\n     * @name LANGUAGE_SPANISH\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_SPANISH = \"es\";\n\n    /**\n     * Spanish language code\n     * @memberof cc.sys\n     * @name LANGUAGE_DUTCH\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_DUTCH = \"du\";\n\n    /**\n     * Russian language code\n     * @memberof cc.sys\n     * @name LANGUAGE_RUSSIAN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_RUSSIAN = \"ru\";\n\n    /**\n     * Korean language code\n     * @memberof cc.sys\n     * @name LANGUAGE_KOREAN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_KOREAN = \"ko\";\n\n    /**\n     * Japanese language code\n     * @memberof cc.sys\n     * @name LANGUAGE_JAPANESE\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_JAPANESE = \"ja\";\n\n    /**\n     * Hungarian language code\n     * @memberof cc.sys\n     * @name LANGUAGE_HUNGARIAN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_HUNGARIAN = \"hu\";\n\n    /**\n     * Portuguese language code\n     * @memberof cc.sys\n     * @name LANGUAGE_PORTUGUESE\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_PORTUGUESE = \"pt\";\n\n    /**\n     * Arabic language code\n     * @memberof cc.sys\n     * @name LANGUAGE_ARABIC\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_ARABIC = \"ar\";\n\n    /**\n     * Norwegian language code\n     * @memberof cc.sys\n     * @name LANGUAGE_NORWEGIAN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_NORWEGIAN = \"no\";\n\n    /**\n     * Polish language code\n     * @memberof cc.sys\n     * @name LANGUAGE_POLISH\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_POLISH = \"pl\";\n\n    /**\n     * Turkish language code\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.LANGUAGE_TURKISH = \"tr\";\n\n    /**\n     * Ukrainian language code\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.LANGUAGE_UKRAINIAN = \"uk\";\n\n    /**\n     * Romanian language code\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.LANGUAGE_ROMANIAN = \"ro\";\n\n    /**\n     * Bulgarian language code\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.LANGUAGE_BULGARIAN = \"bg\";\n\n    /**\n     * Belarusian language code\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.LANGUAGE_BELARUSIAN = \"be\";\n\n    /**\n     * Unknown language code\n     * @memberof cc.sys\n     * @name LANGUAGE_UNKNOWN\n     * @constant\n     * @type {Number}\n     */\n    sys.LANGUAGE_UNKNOWN = \"unknown\";\n\n    /**\n     * @memberof cc.sys\n     * @name OS_IOS\n     * @constant\n     * @type {string}\n     */\n    sys.OS_IOS = \"iOS\";\n    /**\n     * @memberof cc.sys\n     * @name OS_ANDROID\n     * @constant\n     * @type {string}\n     */\n    sys.OS_ANDROID = \"Android\";\n    /**\n     * @memberof cc.sys\n     * @name OS_WINDOWS\n     * @constant\n     * @type {string}\n     */\n    sys.OS_WINDOWS = \"Windows\";\n    /**\n     * @memberof cc.sys\n     * @name OS_MARMALADE\n     * @constant\n     * @type {string}\n     */\n    sys.OS_MARMALADE = \"Marmalade\";\n    /**\n     * @memberof cc.sys\n     * @name OS_LINUX\n     * @constant\n     * @type {string}\n     */\n    sys.OS_LINUX = \"Linux\";\n    /**\n     * @memberof cc.sys\n     * @name OS_BADA\n     * @constant\n     * @type {string}\n     */\n    sys.OS_BADA = \"Bada\";\n    /**\n     * @memberof cc.sys\n     * @name OS_BLACKBERRY\n     * @constant\n     * @type {string}\n     */\n    sys.OS_BLACKBERRY = \"Blackberry\";\n    /**\n     * @memberof cc.sys\n     * @name OS_OSX\n     * @constant\n     * @type {string}\n     */\n    sys.OS_OSX = \"OS X\";\n    /**\n     * @memberof cc.sys\n     * @name OS_WP8\n     * @constant\n     * @type {string}\n     */\n    sys.OS_WP8 = \"WP8\";\n    /**\n     * @memberof cc.sys\n     * @name OS_WINRT\n     * @constant\n     * @type {string}\n     */\n    sys.OS_WINRT = \"WINRT\";\n    /**\n     * @memberof cc.sys\n     * @name OS_UNKNOWN\n     * @constant\n     * @type {string}\n     */\n    sys.OS_UNKNOWN = \"Unknown\";\n\n    /**\n     * @memberof cc.sys\n     * @name UNKNOWN\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.UNKNOWN = -1;\n    /**\n     * @memberof cc.sys\n     * @name WIN32\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.WIN32 = 0;\n    /**\n     * @memberof cc.sys\n     * @name LINUX\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.LINUX = 1;\n    /**\n     * @memberof cc.sys\n     * @name MACOS\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.MACOS = 2;\n    /**\n     * @memberof cc.sys\n     * @name ANDROID\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.ANDROID = 3;\n    /**\n     * @memberof cc.sys\n     * @name IOS\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.IPHONE = 4;\n    /**\n     * @memberof cc.sys\n     * @name IOS\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.IPAD = 5;\n    /**\n     * @memberof cc.sys\n     * @name BLACKBERRY\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.BLACKBERRY = 6;\n    /**\n     * @memberof cc.sys\n     * @name NACL\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.NACL = 7;\n    /**\n     * @memberof cc.sys\n     * @name EMSCRIPTEN\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.EMSCRIPTEN = 8;\n    /**\n     * @memberof cc.sys\n     * @name TIZEN\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.TIZEN = 9;\n    /**\n     * @memberof cc.sys\n     * @name WINRT\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.WINRT = 10;\n    /**\n     * @memberof cc.sys\n     * @name WP8\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.WP8 = 11;\n    /**\n     * @memberof cc.sys\n     * @name MOBILE_BROWSER\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.MOBILE_BROWSER = 100;\n    /**\n     * @memberof cc.sys\n     * @name DESKTOP_BROWSER\n     * @constant\n     * @default\n     * @type {Number}\n     */\n    sys.DESKTOP_BROWSER = 101;\n\n    sys.BROWSER_TYPE_WECHAT = \"wechat\";\n    sys.BROWSER_TYPE_ANDROID = \"androidbrowser\";\n    sys.BROWSER_TYPE_IE = \"ie\";\n    sys.BROWSER_TYPE_QQ = \"qqbrowser\";\n    sys.BROWSER_TYPE_MOBILE_QQ = \"mqqbrowser\";\n    sys.BROWSER_TYPE_UC = \"ucbrowser\";\n    sys.BROWSER_TYPE_360 = \"360browser\";\n    sys.BROWSER_TYPE_BAIDU_APP = \"baiduboxapp\";\n    sys.BROWSER_TYPE_BAIDU = \"baidubrowser\";\n    sys.BROWSER_TYPE_MAXTHON = \"maxthon\";\n    sys.BROWSER_TYPE_OPERA = \"opera\";\n    sys.BROWSER_TYPE_OUPENG = \"oupeng\";\n    sys.BROWSER_TYPE_MIUI = \"miuibrowser\";\n    sys.BROWSER_TYPE_FIREFOX = \"firefox\";\n    sys.BROWSER_TYPE_SAFARI = \"safari\";\n    sys.BROWSER_TYPE_CHROME = \"chrome\";\n    sys.BROWSER_TYPE_LIEBAO = \"liebao\";\n    sys.BROWSER_TYPE_QZONE = \"qzone\";\n    sys.BROWSER_TYPE_SOUGOU = \"sogou\";\n    sys.BROWSER_TYPE_UNKNOWN = \"unknown\";\n\n    /**\n     * Is native ? This is set to be true in jsb auto.\n     * @memberof cc.sys\n     * @name isNative\n     * @type {Boolean}\n     */\n    sys.isNative = true;\n\n    /**\n     * Indicate the running platform\n     * @memberof cc.sys\n     * @name platform\n     * @type {Number}\n     */\n    var platform = sys.platform = __getPlatform();\n\n    /**\n     * Indicate whether system is mobile system\n     * @memberof cc.sys\n     * @name isMobile\n     * @type {Boolean}\n     */\n    sys.isMobile = (platform === sys.ANDROID || \n                    platform === sys.IPAD || \n                    platform === sys.IPHONE || \n                    platform === sys.WP8 || \n                    platform === sys.TIZEN ||\n                    platform === sys.BLACKBERRY) ? true : false;\n    \n    sys._application = cc.Application.getInstance();\n\n    /**\n     * Indicate the current language of the running system\n     * @memberof cc.sys\n     * @name language\n     * @type {String}\n     */\n    sys.language = (function(){\n        var language = sys._application.getCurrentLanguage();\n        switch(language){\n            case 0: return sys.LANGUAGE_ENGLISH;\n            case 1: return sys.LANGUAGE_CHINESE;\n            case 2: return sys.LANGUAGE_FRENCH;\n            case 3: return sys.LANGUAGE_ITALIAN;\n            case 4: return sys.LANGUAGE_GERMAN;\n            case 5: return sys.LANGUAGE_SPANISH;\n            case 6: return sys.LANGUAGE_DUTCH;\n            case 7: return sys.LANGUAGE_RUSSIAN;\n            case 8: return sys.LANGUAGE_KOREAN;\n            case 9: return sys.LANGUAGE_JAPANESE;\n            case 10: return sys.LANGUAGE_HUNGARIAN;\n            case 11: return sys.LANGUAGE_PORTUGUESE;\n            case 12: return sys.LANGUAGE_ARABIC;\n            case 13: return sys.LANGUAGE_NORWEGIAN;\n            case 14: return sys.LANGUAGE_POLISH;\n            case 15: return sys.LANGUAGE_TURKISH;\n            case 16: return sys.LANGUAGE_UKRAINIAN;\n            case 17: return sys.LANGUAGE_ROMANIAN;\n            case 18: return sys.LANGUAGE_BULGARIAN;\n            case 19: return sys.LANGUAGE_BELARUSIAN;\n            default : return sys.LANGUAGE_ENGLISH;\n        }\n    })();\n\n    /**\n     * Indicate the running os name\n     * @memberof cc.sys\n     * @name os\n     * @type {String}\n     */\n    sys.os = __getOS();\n\n    /**\n     * Indicate the running browser type\n     * @memberof cc.sys\n     * @name browserType\n     * @type {String}\n     */\n    sys.browserType = null; //null in jsb\n\n    /**\n     * Indicate the running browser version\n     * @memberof cc.sys\n     * @name browserVersion\n     * @type {Number}\n     */\n    sys.browserVersion = null; //null in jsb\n\n    /**\n     * Indicate the real pixel resolution of the whole game window\n     * @memberof cc.sys\n     * @name windowPixelResolution\n     * @type {Number}\n     */\n    sys.windowPixelResolution = cc.view.getFrameSize();\n\n    /**\n     * The capabilities of the current platform\n     * @memberof cc.sys\n     * @name capabilities\n     * @type {Object}\n     */\n    var capabilities = sys.capabilities = {\n        \"canvas\": false,\n        \"opengl\": true\n    };\n    if( sys.isMobile ) {\n        capabilities[\"accelerometer\"] = true;\n        capabilities[\"touches\"] = true;\n        if (platform === sys.WINRT || platform === sys.WP8) {\n            capabilities[\"keyboard\"] = true;\n        }\n    } else {\n        // desktop\n        capabilities[\"keyboard\"] = true;\n        capabilities[\"mouse\"] = true;\n        // winrt can't suppot mouse in current version\n        if (platform === sys.WINRT || platform === sys.WP8)\n        {\n            capabilities[\"touches\"] = true;\n            capabilities[\"mouse\"] = false;\n        }\n    }\n\n    /**\n     * Forces the garbage collection, only available in JSB\n     * @memberof cc.sys\n     * @name garbageCollect\n     * @function\n     */\n    sys.garbageCollect = function() {\n        __jsc__.garbageCollect();\n    };\n\n    /**\n     * Dumps rooted objects, only available in JSB\n     * @memberof cc.sys\n     * @name dumpRoot\n     * @function\n     */\n    sys.dumpRoot = function() {\n        __jsc__.dumpRoot();\n    };\n\n    /**\n     * Restart the JS VM, only available in JSB\n     * @memberof cc.sys\n     * @name restartVM\n     * @function\n     */\n    sys.restartVM = function() {\n        __restartVM();\n    };\n\n    /**\n     * Clean a script in the JS VM, only available in JSB\n     * @memberof cc.sys\n     * @name cleanScript\n     * @param {String} jsfile\n     * @function\n     */\n    sys.cleanScript = function(jsFile) {\n        __cleanScript(jsFile);\n    };\n\n    /**\n     * Check whether an object is valid,\n     * In web engine, it will return true if the object exist\n     * In native engine, it will return true if the JS object and the correspond native object are both valid\n     * @memberof cc.sys\n     * @name isObjectValid\n     * @param {Object} obj\n     * @return {boolean} Validity of the object\n     * @function\n     */\n    sys.isObjectValid = function(obj) {\n        return __isObjectValid(obj);\n    };\n\n    /**\n     * Dump system informations\n     * @memberof cc.sys\n     * @name dump\n     * @function\n     */\n    sys.dump = function () {\n        var self = this;\n        var str = \"\";\n        str += \"isMobile : \" + self.isMobile + \"\\r\\n\";\n        str += \"language : \" + self.language + \"\\r\\n\";\n        str += \"browserType : \" + self.browserType + \"\\r\\n\";\n        str += \"capabilities : \" + JSON.stringify(self.capabilities) + \"\\r\\n\";\n        str += \"os : \" + self.os + \"\\r\\n\";\n        str += \"platform : \" + self.platform + \"\\r\\n\";\n        cc.log(str);\n    };\n\n    /**\n     * Open a url in browser\n     * @memberof cc.sys\n     * @name openURL\n     * @param {String} url\n     */\n    sys.openURL = function(url){\n        sys._application.openURL(url);\n    };\n\n    sys.now = function () {\n        return Date.now();\n    };\n\n    // JS to Native bridges\n    if(window.JavascriptJavaBridge && cc.sys.os == cc.sys.OS_ANDROID){\n        jsb.reflection = new JavascriptJavaBridge();\n        cc.sys.capabilities[\"keyboard\"] = true;\n    }\n    else if(window.JavaScriptObjCBridge && (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX)){\n        jsb.reflection = new JavaScriptObjCBridge();\n    }\n};\n_initSys();\n\n/**\n * Init Debug setting.\n * @function\n */\ncc._initDebugSetting = function (mode) {\n    var ccGame = cc.game;\n    var bakLog = cc._cocosplayerLog || console.log || log;\n    cc.log = cc.warn = cc.error = cc.assert = function () {};\n    if (mode > ccGame.DEBUG_MODE_NONE) {\n        console.log = function () {\n            bakLog(cc.formatStr.apply(null, arguments));\n        };\n        console.error = function () {\n            bakLog(\"ERROR :  \" + cc.formatStr.apply(cc, arguments));\n        };\n        console.warn = function () {\n            bakLog(\"WARN :  \" + cc.formatStr.apply(cc, arguments));\n        };\n\n        cc.error = console.error;\n        cc.assert = function (cond, msg) {\n            if (!cond && msg) {\n                var args = [];\n                for (var i = 1; i < arguments.length; i++)\n                    args.push(arguments[i]);\n                console.log(\"Assert: \" + cc.formatStr.apply(cc, args));\n            }\n        };\n        if (mode != ccGame.DEBUG_MODE_ERROR && mode != ccGame.DEBUG_MODE_ERROR_FOR_WEB_PAGE) {\n            cc.warn = console.warn;\n        }\n        if (mode == ccGame.DEBUG_MODE_INFO || mode == ccGame.DEBUG_MODE_INFO_FOR_WEB_PAGE) {\n            cc.log = console.log;\n        }\n    }\n};\n\ncc._engineLoaded = false;\n\ncc.initEngine = function (config, cb) {\n    require(\"script/jsb.js\");\n    cc._renderType = cc.game.RENDER_TYPE_OPENGL;\n    cc._initDebugSetting(config[cc.game.CONFIG_KEY.debugMode]);\n    cc._engineLoaded = true;\n    cc.log(cc.ENGINE_VERSION);\n    if (cb) cb();\n};\n\n//+++++++++++++++++++++++++something about CCGame begin+++++++++++++++++++++++++++\n\n/**\n * An object to boot the game.\n * @class\n * @name cc.game\n */\ncc.game = /** @lends cc.game# */{\n    DEBUG_MODE_NONE: 0,\n    DEBUG_MODE_INFO: 1,\n    DEBUG_MODE_WARN: 2,\n    DEBUG_MODE_ERROR: 3,\n    DEBUG_MODE_INFO_FOR_WEB_PAGE: 4,\n    DEBUG_MODE_WARN_FOR_WEB_PAGE: 5,\n    DEBUG_MODE_ERROR_FOR_WEB_PAGE: 6,\n\n    EVENT_HIDE: \"game_on_hide\",\n    EVENT_SHOW: \"game_on_show\",\n    EVENT_RESIZE: \"game_on_resize\",\n\n    RENDER_TYPE_CANVAS: 0,\n    RENDER_TYPE_WEBGL: 1,\n    RENDER_TYPE_OPENGL: 2,\n\n    _eventHide: null,\n    _eventShow: null,\n\n    /**\n     * Key of config\n     * @constant\n     * @type {Object}\n     */\n    CONFIG_KEY: {\n        width: \"width\",\n        height: \"height\",\n        engineDir: \"engineDir\",\n        modules: \"modules\",\n        debugMode: \"debugMode\",\n        showFPS: \"showFPS\",\n        frameRate: \"frameRate\",\n        id: \"id\",\n        renderMode: \"renderMode\",\n        jsList: \"jsList\"\n    },\n\n    // states\n    _paused: false,//whether the game is paused\n    _prepareCalled: false,//whether the prepare function has been called\n    _prepared: false,//whether the engine has prepared\n\n    _intervalId: null,//interval target of main\n\n    /**\n     * Config of game\n     * @type {Object}\n     */\n    config: null,\n\n    /**\n     * Callback when the scripts of engine have been load.\n     * @type {Function}\n     */\n    onStart: null,\n\n    /**\n     * Callback when game exits.\n     * @type {Function}\n     */\n    onStop: null,\n\n//@Public Methods\n\n//  @Game play control\n    /**\n     * Set frameRate of game.\n     * @param frameRate\n     */\n    setFrameRate: function (frameRate) {\n        var self = this, config = self.config, CONFIG_KEY = self.CONFIG_KEY;\n        config[CONFIG_KEY.frameRate] = frameRate;\n        cc.director.setAnimationInterval(1.0/frameRate);\n    },\n\n    /**\n     * Run the game frame by frame.\n     */\n    step: function () {\n        cc.director.mainLoop();\n    },\n\n    /**\n     * Pause the game.\n     */\n    pause: function () {\n        this._paused = true;\n        cc.director.pause();\n    },\n\n    /**\n     * Resume the game from pause.\n     */\n    resume: function () {\n        this._paused = false;\n        cc.director.resume();\n    },\n\n    /**\n     * Check whether the game is paused.\n     */\n    isPaused: function () {\n        return this._paused;\n    },\n\n    /**\n     * Restart game.\n     */\n    restart: function () {\n        __restartVM();\n    },\n\n    /**\n     * End game, it will close the game window\n     */\n    end: function () {\n        close();\n    },\n\n//  @Game loading\n    /**\n     * Prepare game.\n     * @param cb\n     */\n    prepare: function (cb) {\n        var self = this,\n            config = self.config, \n            CONFIG_KEY = self.CONFIG_KEY;\n\n        this._loadConfig();\n\n        // Already prepared\n        if (this._prepared) {\n            if (cb) cb();\n            return;\n        }\n        // Prepare called, but not done yet\n        if (this._prepareCalled) {\n            return;\n        }\n        // Prepare never called and engine ready\n        if (cc._engineLoaded) {\n            this._prepareCalled = true;\n\n            // Load game scripts\n            var jsList = config[CONFIG_KEY.jsList];\n            if (jsList) {\n                cc.loader.loadJsWithImg(jsList, function (err) {\n                    if (err) throw new Error(err);\n                    self._prepared = true;\n                    if (cb) cb();\n                });\n            }\n            else {\n                if (cb) cb();\n            }\n\n            return;\n        }\n\n        // Engine not loaded yet\n        cc.initEngine(this.config, function () {\n            self.prepare(cb);\n        });\n    },\n\n    /**\n     * Run game with configuration object and onStart function.\n     * @param {Object|Function} [config] Pass configuration object or onStart function\n     * @param {onStart} [onStart] onStart function to be executed after game initialized\n     */\n    run: function (config, onStart) {\n        if (typeof config === 'function') {\n            cc.game.onStart = config;\n        }\n        else {\n            if (config) {\n                cc.game.config = config;\n            }\n            if (typeof onStart === 'function') {\n                cc.game.onStart = onStart;\n            }\n        }\n        \n        this.prepare(cc.game.onStart && cc.game.onStart.bind(cc.game));\n    },\n\n//@Private Methods\n\n    _loadConfig: function () {\n        // Load config\n        // Already loaded\n        if (this.config) {\n            this._initConfig(this.config);\n        }\n        // Load from project.json \n        else {\n            try {\n                var txt = jsb.fileUtils.getStringFromFile(\"project.json\");\n                var data = JSON.parse(txt);\n                this._initConfig(data || {});\n            } catch (e) {\n                console.log(\"Failed to read or parse project.json\");\n                this._initConfig({});\n            }\n        }\n    },\n\n    _initConfig: function (config) {\n        var CONFIG_KEY = this.CONFIG_KEY;\n\n        // Configs adjustment\n        config[CONFIG_KEY.showFPS] = typeof config[CONFIG_KEY.showFPS] === 'undefined' ? true : config[CONFIG_KEY.showFPS];\n        config[CONFIG_KEY.engineDir] = config[CONFIG_KEY.engineDir] || \"frameworks/cocos2d-html5\";\n        if (config[CONFIG_KEY.debugMode] == null)\n            config[CONFIG_KEY.debugMode] = 0;\n        config[CONFIG_KEY.frameRate] = config[CONFIG_KEY.frameRate] || 60;\n        if (config[CONFIG_KEY.renderMode] == null)\n            config[CONFIG_KEY.renderMode] = 0;\n\n        this.config = config;\n        \n        cc.director.setDisplayStats(this.config[CONFIG_KEY.showFPS]);\n        cc.director.setAnimationInterval(1.0/this.config[CONFIG_KEY.frameRate]);\n    }\n};\n\n//+++++++++++++++++++++++++something about CCGame end+++++++++++++++++++++++++++++\n\n// Original bind in Spidermonkey v33 will trigger object life cycle track issue in our memory model and cause crash\nFunction.prototype.bind = function (oThis) {\n    if (!cc.isFunction(this)) {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n    }\n\n    var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function () {},\n        fBound = function () {\n            return fToBind.apply(this instanceof fNOP && oThis\n                ? this\n                : oThis,\n                aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    fNOP.prototype = this.prototype;\n    fBound.prototype = new fNOP();\n\n    return fBound;\n};\n\njsb.urlRegExp = new RegExp(\n    \"^\" +\n        // protocol identifier\n        \"(?:(?:https?|ftp)://)\" +\n        // user:pass authentication\n        \"(?:\\\\S+(?::\\\\S*)?@)?\" +\n        \"(?:\" +\n            // IP address dotted notation octets\n            // excludes loopback network 0.0.0.0\n            // excludes reserved space >= 224.0.0.0\n            // excludes network & broacast addresses\n            // (first & last IP address of each class)\n            \"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" +\n            \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" +\n            \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" +\n        \"|\" +\n            // host name\n            \"(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)\" +\n            // domain name\n            \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*\" +\n            // TLD identifier\n            \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\" +\n        \"|\" +\n            \"(?:localhost)\" +\n        \")\" +\n        // port number\n        \"(?::\\\\d{2,5})?\" +\n        // resource path\n        \"(?:/\\\\S*)?\" +\n    \"$\", \"i\"\n);\n"]}