{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/UIText.js"],"names":["ccui","Text","Widget","extend","_touchScaleChangeEnabled","_normalScaleValueX","_normalScaleValueY","_fontName","_fontSize","_onSelectedScaleOffset","_labelRenderer","_textAreaSize","_textVerticalAlignment","_textHorizontalAlignment","_className","_type","_labelRendererAdaptDirty","ctor","textContent","fontName","fontSize","Type","SYSTEM","cc","size","prototype","call","undefined","setFontName","setFontSize","setString","_initRenderer","LabelTTF","addProtectedChild","RENDERER_ZORDER","setText","text","log","getString","_setString","_updateContentSizeWithTextureSize","getContentSize","getStringValue","getStringLength","_setFontSize","getFontSize","name","_setFontName","_updateUITextContentSize","getFontName","_setFont","font","res","_fontStyleRE","exec","parseInt","_labelScaleChangedWithSize","_getFont","getType","setTextAreaSize","_setTextAreaSize","setDimensions","_ignoreSize","_customSize","getTextAreaSize","getDimensions","setTextHorizontalAlignment","alignment","_setTextHorizontalAlignment","setHorizontalAlignment","getTextHorizontalAlignment","getHorizontalAlignment","setTextVerticalAlignment","_setTextVerticalAlignment","setVerticalAlignment","getTextVerticalAlignment","getVerticalAlignment","setTouchScaleChangeEnabled","enable","isTouchScaleChangeEnabled","_onPressStateChangedToNormal","setScaleX","setScaleY","_onPressStateChangedToPressed","_onPressStateChangedToDisabled","_onSizeChanged","_adaptRenderers","getVirtualRendererSize","getVirtualRenderer","getAutoRenderSize","virtualSize","_contentSize","width","height","locContentSize","setScale","textureSize","scaleX","scaleY","setPosition","getDescription","enableShadow","shadowColor","offset","blurRadius","enableOutline","outlineColor","outlineSize","enableStroke","enableGlow","glowColor","TTF","disableEffect","_createCloneInstance","_copySpecialProperties","uiLabel","touchScaleEnabled","setContentSize","setTextColor","getTextColor","_setBoundingWidth","value","_setBoundingHeight","_getBoundingWidth","_getBoundingHeight","_changePosition","setColor","color","ProtectedNode","setFontFillColor","_getFillStyle","_p","boundingWidth","defineGetterSetter","boundingHeight","string","stringLength","textAlign","verticalAlign","Label","create"],"mappings":"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","file":"UIText.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets","sourcesContent":["/****************************************************************************\n Copyright (c) 2011-2012 cocos2d-x.org\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n/**\n * The text control of Cocos UI.\n * @class\n * @extends ccui.Widget\n *\n * @property {Number}   boundingWidth       - Width of the bounding area of label, the real content width is limited by boundingWidth\n * @property {Number}   boundingHeight      - Height of the bounding area of label, the real content height is limited by boundingHeight\n * @property {String}   string              - The content string of the label\n * @property {Number}   stringLength        - <@readonly> The content string length of the label\n * @property {String}   font                - The label font with a style string: e.g. \"18px Verdana\"\n * @property {String}   fontName            - The label font name\n * @property {Number}   fontSize            - The label font size\n * @property {Number}   textAlign           - Horizontal Alignment of label, cc.TEXT_ALIGNMENT_LEFT|cc.TEXT_ALIGNMENT_CENTER|cc.TEXT_ALIGNMENT_RIGHT\n * @property {Number}   verticalAlign       - Vertical Alignment of label: cc.VERTICAL_TEXT_ALIGNMENT_TOP|cc.VERTICAL_TEXT_ALIGNMENT_CENTER|cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM\n * @property {Boolean}  touchScaleEnabled   - Indicate whether the label will scale when touching\n */\nccui.Text = ccui.Widget.extend(/** @lends ccui.Text# */{\n    _touchScaleChangeEnabled: false,\n    _normalScaleValueX: 1,\n    _normalScaleValueY: 1,\n    _fontName: \"Arial\",\n    _fontSize: 16,\n    _onSelectedScaleOffset: 0.5,\n    _labelRenderer: null,\n    _textAreaSize: null,\n    _textVerticalAlignment: 0,\n    _textHorizontalAlignment: 0,\n    _className: \"Text\",\n    _type: null,\n    _labelRendererAdaptDirty: true,\n\n    /**\n     * allocates and initializes a UILabel.\n     * Constructor of ccui.Text. override it to extend the construction behavior, remember to call \"this._super()\" in the extended \"ctor\" function.\n     * @param {String} textContent\n     * @param {String} fontName\n     * @param {Number} fontSize\n     * @example\n     * // example\n     * var uiLabel = new ccui.Text();\n     */\n    ctor: function (textContent, fontName, fontSize) {\n        this._type = ccui.Text.Type.SYSTEM;\n        this._textAreaSize = cc.size(0, 0);\n        ccui.Widget.prototype.ctor.call(this);\n\n        if (fontSize !== undefined) {\n            this.setFontName(fontName);\n            this.setFontSize(fontSize);\n            this.setString(textContent);\n        } else {\n            this.setFontName(this._fontName);\n        }\n    },\n\n    _initRenderer: function () {\n        this._labelRenderer = new cc.LabelTTF();\n        this.addProtectedChild(this._labelRenderer, ccui.Text.RENDERER_ZORDER, -1);\n    },\n\n    /**\n     * Changes the  value of ccui.Text.\n     * @deprecated since v3.0, please use setString() instead.\n     * @param {String} text\n     */\n    setText: function (text) {\n        cc.log(\"Please use the setString\");\n        this.setString(text);\n    },\n\n    /**\n     * Changes the  value of ccui.Text.\n     * @param {String} text\n     */\n    setString: function (text) {\n        if(text === this._labelRenderer.getString()) return;\n        this._setString(text);\n\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n    _setString: function (text) {\n        this._labelRenderer.setString(text);\n        this._labelRendererAdaptDirty = true;\n    },\n\n    /**\n     * Gets the string value of ccui.Text.\n     * @deprecated since v3.0, please use getString instead.\n     * @returns {String}\n     */\n    getStringValue: function () {\n        cc.log(\"Please use the getString\");\n        return this._labelRenderer.getString();\n    },\n\n    /**\n     * Gets the string value of ccui.Text.\n     * @returns {String}\n     */\n    getString: function () {\n        return this._labelRenderer.getString();\n    },\n\n    /**\n     * Gets the string length of ccui.Text.\n     * @returns {Number}\n     */\n    getStringLength: function () {\n        return this._labelRenderer.getStringLength();\n    },\n\n    /**\n     * Sets fontSize\n     * @param {Number} size\n     */\n    setFontSize: function (size) {\n        this._setFontSize(size);\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n    _setFontSize: function (size) {\n        this._labelRenderer.setFontSize(size);\n        this._fontSize = size;\n        this._labelRendererAdaptDirty = true;\n    },\n\n    /**\n     * Returns font Size of ccui.Text\n     * @returns {Number}\n     */\n    getFontSize: function () {\n        return this._fontSize;\n    },\n\n    /**\n     * Sets font name\n     * @return {String} name\n     */\n    setFontName: function (name) {\n        this._setFontName(name);\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n    _setFontName: function (name) {\n        this._fontName = name;\n        this._labelRenderer.setFontName(name);\n        this._labelRendererAdaptDirty = true;\n    },\n\n    _updateUITextContentSize: function () {\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n    /**\n     * Returns font name of ccui.Text.\n     * @returns {string}\n     */\n    getFontName: function () {\n        return this._fontName;\n    },\n\n    _setFont: function (font) {\n        var res = cc.LabelTTF._fontStyleRE.exec(font);\n        if (res) {\n            this._fontSize = parseInt(res[1]);\n            this._fontName = res[2];\n            this._labelRenderer._setFont(font);\n            this._labelScaleChangedWithSize();\n        }\n    },\n    _getFont: function () {\n        return this._labelRenderer._getFont();\n    },\n\n    /**\n     * Returns the type of ccui.Text.\n     * @returns {null}\n     */\n    getType: function () {\n        return this._type;\n    },\n\n    /**\n     * Sets text Area Size\n     * @param {cc.Size} size\n     */\n    setTextAreaSize: function (size) {\n        this._setTextAreaSize(size);\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n    _setTextAreaSize: function (size) {\n        this._labelRenderer.setDimensions(size);\n        if (!this._ignoreSize){\n            this._customSize = size;\n        }\n        this._labelRendererAdaptDirty = true;\n    },\n\n    /**\n     * Returns renderer's dimension.\n     * @returns {cc.Size}\n     */\n    getTextAreaSize: function () {\n        return this._labelRenderer.getDimensions();\n    },\n\n    /**\n     * Sets Horizontal Alignment of cc.LabelTTF\n     * @param {cc.TEXT_ALIGNMENT_LEFT|cc.TEXT_ALIGNMENT_CENTER|cc.TEXT_ALIGNMENT_RIGHT} alignment Horizontal Alignment\n     */\n    setTextHorizontalAlignment: function (alignment) {\n        this._setTextHorizontalAlignment(alignment);\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n\n    _setTextHorizontalAlignment: function (alignment) {\n        this._labelRenderer.setHorizontalAlignment(alignment);\n        this._labelRendererAdaptDirty = true;\n    },\n\n    /**\n     * Returns Horizontal Alignment of label\n     * @returns {TEXT_ALIGNMENT_LEFT|TEXT_ALIGNMENT_CENTER|TEXT_ALIGNMENT_RIGHT}\n     */\n    getTextHorizontalAlignment: function () {\n        return this._labelRenderer.getHorizontalAlignment();\n    },\n\n    /**\n     * Sets Vertical Alignment of label\n     * @param {cc.VERTICAL_TEXT_ALIGNMENT_TOP|cc.VERTICAL_TEXT_ALIGNMENT_CENTER|cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM} alignment\n     */\n    setTextVerticalAlignment: function (alignment) {\n        this._setTextVerticalAlignment(alignment);\n        this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize());\n    },\n\n    _setTextVerticalAlignment: function (alignment) {\n        this._labelRenderer.setVerticalAlignment(alignment);\n        this._labelRendererAdaptDirty = true;\n    },\n    /**\n     * Gets text vertical alignment.\n     * @returns {VERTICAL_TEXT_ALIGNMENT_TOP|VERTICAL_TEXT_ALIGNMENT_CENTER|VERTICAL_TEXT_ALIGNMENT_BOTTOM}\n     */\n    getTextVerticalAlignment: function () {\n        return this._labelRenderer.getVerticalAlignment();\n    },\n\n    /**\n     * Sets the touch scale enabled of label.\n     * @param {Boolean} enable\n     */\n    setTouchScaleChangeEnabled: function (enable) {\n        this._touchScaleChangeEnabled = enable;\n    },\n\n    /**\n     * Gets the touch scale enabled of label.\n     * @returns {Boolean}\n     */\n    isTouchScaleChangeEnabled: function () {\n        return this._touchScaleChangeEnabled;\n    },\n\n    _onPressStateChangedToNormal: function () {\n        if (!this._touchScaleChangeEnabled)\n            return;\n        this._labelRenderer.setScaleX(this._normalScaleValueX);\n        this._labelRenderer.setScaleY(this._normalScaleValueY);\n    },\n\n    _onPressStateChangedToPressed: function () {\n        if (!this._touchScaleChangeEnabled)\n            return;\n        this._labelRenderer.setScaleX(this._normalScaleValueX + this._onSelectedScaleOffset);\n        this._labelRenderer.setScaleY(this._normalScaleValueY + this._onSelectedScaleOffset);\n    },\n\n    _onPressStateChangedToDisabled: function () {\n    },\n\n    _onSizeChanged: function () {\n        ccui.Widget.prototype._onSizeChanged.call(this);\n        this._labelRendererAdaptDirty = true;\n    },\n\n    _adaptRenderers: function () {\n        if (this._labelRendererAdaptDirty) {\n            this._labelScaleChangedWithSize();\n            this._labelRendererAdaptDirty = false;\n        }\n    },\n\n    /**\n     * Returns the renderer's content size.\n     * @override\n     * @returns {cc.Size}\n     */\n    getVirtualRendererSize: function () {\n        return this._labelRenderer.getContentSize();\n    },\n\n    /**\n     * Returns the renderer of ccui.Text.\n     * @returns {cc.Node}\n     */\n    getVirtualRenderer: function () {\n        return this._labelRenderer;\n    },\n\n    //@since v3.3\n    getAutoRenderSize: function () {\n        var virtualSize = this._labelRenderer.getContentSize();\n        if (!this._ignoreSize) {\n            this._labelRenderer.setDimensions(0, 0);\n            virtualSize = this._labelRenderer.getContentSize();\n            this._labelRenderer.setDimensions(this._contentSize.width, this._contentSize.height);\n        }\n        return virtualSize;\n    },\n\n    _labelScaleChangedWithSize: function () {\n        var locContentSize = this._contentSize;\n        if (this._ignoreSize) {\n            this._labelRenderer.setScale(1.0);\n            this._normalScaleValueX = this._normalScaleValueY = 1;\n        } else {\n            this._labelRenderer.setDimensions(cc.size(locContentSize.width, locContentSize.height));\n            var textureSize = this._labelRenderer.getContentSize();\n            if (textureSize.width <= 0.0 || textureSize.height <= 0.0) {\n                this._labelRenderer.setScale(1.0);\n                return;\n            }\n            var scaleX = locContentSize.width / textureSize.width;\n            var scaleY = locContentSize.height / textureSize.height;\n            this._labelRenderer.setScaleX(scaleX);\n            this._labelRenderer.setScaleY(scaleY);\n            this._normalScaleValueX = scaleX;\n            this._normalScaleValueY = scaleY;\n        }\n        this._labelRenderer.setPosition(locContentSize.width / 2.0, locContentSize.height / 2.0);\n    },\n\n    /**\n     * Returns the \"class name\" of ccui.Text.\n     * @returns {string}\n     */\n    getDescription: function () {\n        return \"Label\";\n    },\n\n    /**\n     * Enables shadow style and sets color, offset and blur radius styles.\n     * @param {cc.Color} shadowColor\n     * @param {cc.Size} offset\n     * @param {Number} blurRadius\n     */\n    enableShadow: function (shadowColor, offset, blurRadius) {\n        this._labelRenderer.enableShadow(shadowColor, offset, blurRadius);\n    },\n\n    /**\n     * Enables outline style and sets outline's color and size.\n     * @param {cc.Color} outlineColor\n     * @param {cc.Size} outlineSize\n     */\n    enableOutline: function (outlineColor, outlineSize) {\n        this._labelRenderer.enableStroke(outlineColor, outlineSize);\n    },\n\n    /**\n     * Enables glow color\n     * @param glowColor\n     */\n    enableGlow: function (glowColor) {\n        if (this._type === ccui.Text.Type.TTF)\n            this._labelRenderer.enableGlow(glowColor);\n    },\n\n    /**\n     * Disables renderer's effect.\n     */\n    disableEffect: function () {\n        if (this._labelRenderer.disableEffect)\n            this._labelRenderer.disableEffect();\n    },\n\n    _createCloneInstance: function () {\n        return new ccui.Text();\n    },\n\n    _copySpecialProperties: function (uiLabel) {\n        if (uiLabel instanceof ccui.Text) {\n            this.setFontName(uiLabel._fontName);\n            this.setFontSize(uiLabel.getFontSize());\n            this.setString(uiLabel.getString());\n            this.setTouchScaleChangeEnabled(uiLabel.touchScaleEnabled);\n            this.setTextAreaSize(uiLabel._textAreaSize);\n            this.setTextHorizontalAlignment(uiLabel._labelRenderer.getHorizontalAlignment());\n            this.setTextVerticalAlignment(uiLabel._labelRenderer.getVerticalAlignment());\n            this.setContentSize(uiLabel.getContentSize());\n            this.setTextColor(uiLabel.getTextColor());\n        }\n    },\n\n    _setBoundingWidth: function (value) {\n        this._textAreaSize.width = value;\n        this._labelRenderer._setBoundingWidth(value);\n        this._labelScaleChangedWithSize();\n    },\n    _setBoundingHeight: function (value) {\n        this._textAreaSize.height = value;\n        this._labelRenderer._setBoundingHeight(value);\n        this._labelScaleChangedWithSize();\n    },\n    _getBoundingWidth: function () {\n        return this._textAreaSize.width;\n    },\n    _getBoundingHeight: function () {\n        return this._textAreaSize.height;\n    },\n\n    _changePosition: function () {\n        this._adaptRenderers();\n    },\n\n    setColor: function (color) {\n        cc.ProtectedNode.prototype.setColor.call(this, color);\n        this._labelRenderer.setColor(color);\n    },\n\n    setTextColor: function (color) {\n        this._labelRenderer.setFontFillColor(color);\n    },\n\n    getTextColor: function () {\n        return this._labelRenderer._getFillStyle();\n    }\n});\n\nvar _p = ccui.Text.prototype;\n\n// Extended properties\n/** @expose */\n_p.boundingWidth;\ncc.defineGetterSetter(_p, \"boundingWidth\", _p._getBoundingWidth, _p._setBoundingWidth);\n/** @expose */\n_p.boundingHeight;\ncc.defineGetterSetter(_p, \"boundingHeight\", _p._getBoundingHeight, _p._setBoundingHeight);\n/** @expose */\n_p.string;\ncc.defineGetterSetter(_p, \"string\", _p.getString, _p.setString);\n/** @expose */\n_p.stringLength;\ncc.defineGetterSetter(_p, \"stringLength\", _p.getStringLength);\n/** @expose */\n_p.font;\ncc.defineGetterSetter(_p, \"font\", _p._getFont, _p._setFont);\n/** @expose */\n_p.fontSize;\ncc.defineGetterSetter(_p, \"fontSize\", _p.getFontSize, _p.setFontSize);\n/** @expose */\n_p.fontName;\ncc.defineGetterSetter(_p, \"fontName\", _p.getFontName, _p.setFontName);\n/** @expose */\n_p.textAlign;\ncc.defineGetterSetter(_p, \"textAlign\", _p.getTextHorizontalAlignment, _p.setTextHorizontalAlignment);\n/** @expose */\n_p.verticalAlign;\ncc.defineGetterSetter(_p, \"verticalAlign\", _p.getTextVerticalAlignment, _p.setTextVerticalAlignment);\n\n_p = null;\n\n/**\n * allocates and initializes a UILabel.\n * @deprecated since v3.0, please use new ccui.Text() instead.\n * @return {ccui.Text}\n */\nccui.Label = ccui.Text.create = function (textContent, fontName, fontSize) {\n    return new ccui.Text(textContent, fontName, fontSize);\n};\n\n/**\n * The zOrder value of ccui.Text's renderer.\n * @constant\n * @type {number}\n */\nccui.Text.RENDERER_ZORDER = -1;\n\n/**\n * @ignore\n */\nccui.Text.Type = {\n    SYSTEM: 0,\n    TTF: 1\n};\n"]}