{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/jsb_cocos2d.js"],"names":["cc","ENGINE_VERSION","FIX_ARTIFACTS_BY_STRECHING_TEXEL","DIRECTOR_STATS_POSITION","x","y","DIRECTOR_FPS_INTERVAL","COCOSNODE_RENDER_SUBPIXEL","SPRITEBATCHNODE_RENDER_SUBPIXEL","OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA","TEXTURE_ATLAS_USE_TRIANGLE_STRIP","TEXTURE_ATLAS_USE_VAO","TEXTURE_NPOT_SUPPORT","RETINA_DISPLAY_SUPPORT","RETINA_DISPLAY_FILENAME_SUFFIX","USE_LA88_LABELS","SPRITE_DEBUG_DRAW","SPRITEBATCHNODE_DEBUG_DRAW","LABELBMFONT_DEBUG_DRAW","LABELATLAS_DEBUG_DRAW","IS_RETINA_DISPLAY_SUPPORTED","DEFAULT_ENGINE","ENABLE_STACKABLE_ACTIONS","ENABLE_GL_STATE_CACHE","ResolutionPolicy","EXACT_FIT","NO_BORDER","SHOW_ALL","FIXED_HEIGHT","FIXED_WIDTH","UNKNOWN","LANGUAGE_ENGLISH","LANGUAGE_CHINESE","LANGUAGE_FRENCH","LANGUAGE_ITALIAN","LANGUAGE_GERMAN","LANGUAGE_SPANISH","LANGUAGE_RUSSIAN","LANGUAGE_KOREAN","LANGUAGE_JAPANESE","LANGUAGE_HUNGARIAN","LANGUAGE_PORTUGUESE","LANGUAGE_ARABIC","Director","PROJECTION_2D","PROJECTION_3D","PROJECTION_CUSTOM","PROJECTION_DEFAULT","DEVICE_ORIENTATION_PORTRAIT","DEVICE_ORIENTATION_LANDSCAPE_LEFT","DEVICE_ORIENTATION_PORTRAIT_UPSIDE_DOWN","DEVICE_ORIENTATION_LANDSCAPE_RIGHT","DEVICE_MAX_ORIENTATIONS","IMAGE_FORMAT_JPEG","IMAGE_FORMAT_PNG","IMAGE_FORMAT_RAWDATA","TOUCH_ALL_AT_ONCE","TOUCH_ONE_BY_ONE","TRANSITION_ORIENTATION_LEFT_OVER","TRANSITION_ORIENTATION_RIGHT_OVER","TRANSITION_ORIENTATION_UP_OVER","TRANSITION_ORIENTATION_DOWN_OVER","RED","r","g","b","GREEN","BLUE","BLACK","WHITE","YELLOW","POINT_ZERO","PARTICLE_DEFAULT_CAPACITY","MENU_STATE_WAITING","MENU_STATE_TRACKING_TOUCH","MENU_HANDLER_PRIORITY","DEFAULT_PADDING","Scheduler","PRIORITY_SYSTEM","PRIORITY_NON_SYSTEM","_Class","Texture2D","PIXEL_FORMAT_NONE","PIXEL_FORMAT_AUTO","PIXEL_FORMAT_BGRA8888","PIXEL_FORMAT_RGBA8888","PIXEL_FORMAT_RGB888","PIXEL_FORMAT_RGB565","PIXEL_FORMAT_A8","PIXEL_FORMAT_I8","PIXEL_FORMAT_AI88","PIXEL_FORMAT_RGBA4444","PIXEL_FORMAT_RGB5A1","PIXEL_FORMAT_PVRTC4","PIXEL_FORMAT_PVRTC4A","PIXEL_FORMAT_PVRTC2","PIXEL_FORMAT_PVRTC2A","PIXEL_FORMAT_ETC","PIXEL_FORMAT_S3TC_DXT1","PIXEL_FORMAT_S3TC_DXT3","PIXEL_FORMAT_S3TC_DXT5","PIXEL_FORMAT_ATC_RGB","PIXEL_FORMAT_ATC_EXPLICIT_ALPHA","PIXEL_FORMAT_ATC_INTERPOLATED_ALPHA","PIXEL_FORMAT_DEFAULT","defaultPixelFormat","ONE","ZERO","SRC_ALPHA","SRC_ALPHA_SATURATE","SRC_COLOR","DST_ALPHA","DST_COLOR","ONE_MINUS_SRC_ALPHA","ONE_MINUS_SRC_COLOR","ONE_MINUS_DST_ALPHA","ONE_MINUS_DST_COLOR","ONE_MINUS_CONSTANT_ALPHA","ONE_MINUS_CONSTANT_COLOR","LINEAR","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","VERTEX_ATTRIB_FLAG_NONE","VERTEX_ATTRIB_FLAG_POSITION","VERTEX_ATTRIB_FLAG_COLOR","VERTEX_ATTRIB_FLAG_TEX_COORDS","VERTEX_ATTRIB_FLAG_POS_COLOR_TEX","GL_ALL","VERTEX_ATTRIB_POSITION","VERTEX_ATTRIB_COLOR","VERTEX_ATTRIB_TEX_COORDS","VERTEX_ATTRIB_MAX","UNIFORM_PMATRIX","UNIFORM_MVMATRIX","UNIFORM_MVPMATRIX","UNIFORM_TIME","UNIFORM_SINTIME","UNIFORM_COSTIME","UNIFORM_RANDOM01","UNIFORM_SAMPLER","UNIFORM_MAX","UNIFORM_TIME_S","UNIFORM_COS_TIME_S","UNIFORM_COSTIME_S","UNIFORM_SIN_TIME_S","UNIFORM_SINTIME_S","UNIFORM_PMATRIX_S","UNIFORM_MVMATRIX_S","UNIFORM_MVPMATRIX_S","UNIFORM_P_MATRIX_S","UNIFORM_MV_MATRIX_S","UNIFORM_MVP_MATRIX_S","UNIFORM_RANDOM01_S","UNIFORM_SAMPLER_S","UNIFORM_ALPHA_TEST_VALUE_S","ITEM_SIZE","CURRENT_ITEM","ZOOM_ACTION_TAG","NORMAL_TAG","SELECTED_TAG","DISABLE_TAG","stencilBits","g_NumberOfDraws","s_globalOrderOfArrival","Event","TOUCH","KEYBOARD","ACCELERATION","MOUSE","FOCUS","CUSTOM","EventMouse","NONE","DOWN","UP","MOVE","SCROLL","BUTTON_LEFT","BUTTON_RIGHT","BUTTON_MIDDLE","BUTTON_4","BUTTON_5","BUTTON_6","BUTTON_7","BUTTON_8","EventTouch","MAX_TOUCHES","EventCode","BEGAN","MOVED","ENDED","CANCELLED","SpriteBatchNode","DEFAULT_CAPACITY","ParticleSystem","SHAPE_MODE","TEXTURE_MODE","STAR_SHAPE","BALL_SHAPE","ProgressTimer","TEXTURE_COORDS_COUNT","TEXTURE_COORDS","TMXLayerInfo","ATTRIB_NONE","ATTRIB_BASE64","ATTRIB_GZIP","ATTRIB_ZLIB","TMX_PROPERTY_NONE","TMX_PROPERTY_MAP","TMX_PROPERTY_LAYER","TMX_PROPERTY_OBJECTGROUP","TMX_PROPERTY_OBJECT","TMX_PROPERTY_TILE","SCENE_FADE","SCENE_RADIAL","INVALID_INDEX","PI","Math","FLT_MAX","parseFloat","RAD","DEG","UINT_MAX","swap","ref","tmp","log","lerp","a","rand","random","randomMinus1To1","random0To1","degreesToRadians","angle","radiansToDegrees","REPEAT_FOREVER","BLEND_SRC","BLEND_DST","nodeDrawSetup","node","_shaderProgram","use","setUniformForModelViewAndProjectionMatrixWithMat4","enableDefaultGLStates","disableDefaultGLStates","incrementGLDraws","addNumber","FLT_EPSILON","contentScaleFactor","director","getContentScaleFactor","pointPointsToPixels","points","scale","p","pointPixelsToPoints","pixels","_pointPixelsToPointsOut","outPoint","sizePointsToPixels","sizeInPoints","size","width","height","sizePixelsToPoints","sizeInPixels","_sizePixelsToPointsOut","outSize","rectPixelsToPoints","pixel","rect","rectPointsToPixels","point","checkGLErrorDebug","renderMode","_RENDER_TYPE_WEBGL","_error","_renderContext","getError","CC","_localZOrder","_reuse_p","_reuse_p_index","_reuse_size","_reuse_rect","_reuse_color3b","_reuse_color4b","undefined","_p","length","pointEqualToPoint","point1","point2","PointZero","pUnrotate","v1","v2","pForAngle","cos","sin","pToAngle","v","atan2","clampf","value","min_inclusive","max_inclusive","temp","pFromSize","s","pCompOp","opFunc","pLerp","alpha","pAdd","pMult","pFuzzyEqual","variance","pCompMult","pAngleSigned","a2","pNormalize","b2","pDot","abs","POINT_EPSILON","pAngle","acos","pRotateByAngle","pivot","pSub","cosa","sina","t","pLineIntersect","A","B","C","D","retP","BAx","BAy","DCx","DCy","ACx","ACy","denom","pSegmentIntersect","pIntersectPoint","P","pSameAs","pZeroIn","pIn","pMultIn","floatVar","pSubIn","pAddIn","pNormalizeIn","sqrt","_g","_reuse_grid","w","h","_size","sizeEqualToSize","size1","size2","SizeZero","argLen","arguments","_rect","rectEqualToRect","rect1","rect2","rectContainsRect","rectGetMaxX","rectGetMidX","rectGetMinX","rectGetMaxY","rectGetMidY","rectGetMinY","rectContainsPoint","ret","rectIntersectsRect","rectA","rectB","bool","rectOverlapsRect","rectUnion","min","max","rectIntersection","intersection","RectZero","Color","color","hexToColor","colorEqual","color1","color2","hex","replace","c","parseInt","colorToHex","hR","toString","hG","hB","_getWhite","_getYellow","_getBlue","_getGreen","_getRed","_getMagenta","_getBlack","_getOrange","_getGray","_proto","defineGetterSetter","MAGENTA","ORANGE","GRAY","Loader","Class","extend","initWith","resources","selector","target","_selector","_target","call","preload","_instance","LoaderScene","ConfigType","COCOSTUDIO","__onParseConfig","type","str","ccs","triggerManager","parse","JSON","_windowTimeIntervalId","_windowTimeFunHash","WindowTimeFun","_code","_intervalId","ctor","code","fun","Function","apply","_args","setTimeout","delay","Array","prototype","slice","original","clearTimeout","getScheduler","schedule","setInterval","clearInterval","intervalId","unschedule","EventListener","create","argObj","event","listenerType","listener","EventListenerTouchOneByOne","swallowTouches","setSwallowTouches","EventListenerTouchAllAtOnce","EventListenerMouse","EventListenerCustom","eventName","callback","EventListenerKeyboard","EventListenerAcceleration","EventListenerFocus","key","eventManager","addListener","nodeOrPriority","addEventListenerWithFixedPriority","addEventListenerWithSceneGraphPriority","dispatchCustomEvent","optionalUserData","ev","EventCustom","setUserData","dispatchEvent","userData","_userData","getUserData","inputManager","setAccelerometerEnabled","Device","setAccelerometerInterval","getDPI","clone","onTouchBegan","onTouchMoved","onTouchEnded","onTouchCancelled","isSwallowTouches","onTouchesBegan","onTouchesMoved","onTouchesEnded","onTouchesCancelled","onKeyPressed","onKeyReleased","onFocusChanged","_onMouseDown","_onMouseMove","onMouseUp","onMouseScroll","onMouseMove","_listener","_previousX","getLocationX","_previousY","getLocationY","onMouseDown","_onKeyPressed","keyCode","jsbKeyArr","_onKeyReleased","getLocation","getLocationInView","view","getDesignResolutionSize","getDelta","isNaN","getDeltaX","getDeltaY","Touch","EVENT_PROJECTION_CHANGED","EVENT_AFTER_DRAW","EVENT_AFTER_VISIT","EVENT_BEFORE_UPDATE","EVENT_AFTER_UPDATE","EVENT_BEFORE_SCENE_LAUNCH","runScene","replaceScene","visibleRect","topLeft","topRight","top","bottomLeft","bottomRight","bottom","center","left","right","init","origin","getVisibleOrigin","getVisibleSize","l","FontDefinition","fontName","fontSize","textAlign","TEXT_ALIGNMENT_CENTER","verticalAlign","VERTICAL_TEXT_ALIGNMENT_TOP","fillStyle","boundingWidth","boundingHeight","strokeEnabled","strokeStyle","lineWidth","shadowEnabled","shadowOffsetX","shadowOffsetY","shadowBlur","shadowOpacity","arrayVerifyType","arr","i","arrayRemoveObject","delObj","splice","arrayRemoveArray","minusArr","arrayAppendObjectsToIndex","addObjs","index","concat","copyArray","len","arr_clone","cardinalSplineAt","p0","p1","p2","p3","tension","t2","t3","b1","b3","b4","_DrawNode","DrawNode","drawPoly","verts","fillColor","borderWidth","borderColor","drawPolygon","_drawColor","_lineWidth","release","setLineWidth","getLineWidth","setDrawColor","locDrawColor","getDrawColor","drawRect","destination","lineColor","push","drawSeg","drawSegment","drawCircle","radius","segments","drawLineToCenter","coef","vertices","rads","j","k","drawQuadBezier","control","drawCubicBezier","control1","control2","drawCatmullRom","drawCardinalSpline","config","lt","deltaT","m1len","dt","newPos","drawDot","pos","from","to","TMXTiledMap","allLayers","retArr","locChildren","getChildren","layer","TMXLayer","_getTileAt","getTileAt","_getTileGIDAt","getTileGIDAt","_setTileGID","setTileGID","gid","posOrX","flagsOrY","flags","_removeTileAt","removeTileAt","_getPositionAt","getPositonAt","protoHasBlend","AtlasNode","LabelTTF","LabelBMFont","LayerColor","MotionStreak","Sprite","ParticleBatchNode","templateSetBlendFunc","src","dst","blendf","_setBlendFunc","proto","setBlendFunc","easeActions","easeIn","easeOut","easeInOut","easeExponentialIn","easeExponentialOut","easeExponentialInOut","easeSineIn","easeSineOut","easeSineInOut","easeElasticIn","easeElasticOut","easeElasticInOut","easeBounceIn","easeBounceOut","easeBounceInOut","easeBackIn","easeBackOut","easeBackInOut","easeBezierAction","easeQuadraticActionIn","easeQuadraticActionOut","easeQuadraticActionInOut","easeQuarticActionIn","easeQuarticActionOut","easeQuarticActionInOut","easeQuinticActionIn","easeQuinticActionOut","easeQuinticActionInOut","easeCircleActionIn","easeCircleActionOut","easeCircleActionInOut","easeCubicActionIn","easeCubicActionOut","easeCubicActionInOut","templateEaseActions","actionTag","param","param2","param3","param4","tag","action","Action","speed","Speed","follow","Follow","orbitCamera","OrbitCamera","cardinalSplineTo","CardinalSplineTo","cardinalSplineBy","CardinalSplineBy","catmullRomTo","CatmullRomTo","catmullRomBy","CatmullRomBy","show","Show","hide","Hide","toggleVisibility","ToggleVisibility","removeSelf","RemoveSelf","flipX","FlipX","flipY","FlipY","callFunc","CallFunc","actionInterval","ActionInterval","sequence","Sequence","repeat","Repeat","repeatForever","RepeatForever","spawn","Spawn","rotateTo","RotateTo","rotateBy","RotateBy","skewTo","SkewTo","skewBy","SkewBy","bezierBy","BezierBy","bezierTo","BezierTo","scaleTo","ScaleTo","scaleBy","ScaleBy","blink","Blink","fadeTo","FadeTo","fadeIn","FadeIn","fadeOut","FadeOut","tintTo","TintTo","tintBy","TintBy","delayTime","DelayTime","reverseTime","ReverseTime","animate","Animate","targetedAction","TargetedAction","actionTween","ActionTween","Place","_create","place","MoveTo","moveTo","duration","MoveBy","moveBy","JumpTo","jumpTo","position","jumps","JumpBy","jumpBy","gridAction","GridAction","grid3DAction","Grid3DAction","tiledGrid3DAction","TiledGrid3DAction","stopGrid","StopGrid","reuseGrid","ReuseGrid","waves3D","Waves3D","flipX3D","FlipX3D","flipY3D","FlipY3D","lens3D","Lens3D","ripple3D","Ripple3D","shaky3D","Shaky3D","liquid","Liquid","waves","Waves","twirl","Twirl","pageTurn3D","PageTurn3D","shakyTiles3D","ShakyTiles3D","shatteredTiles3D","ShatteredTiles3D","shuffleTiles","ShuffleTiles","fadeOutTRTiles","FadeOutTRTiles","fadeOutBLTiles","FadeOutBLTiles","fadeOutUpTiles","FadeOutUpTiles","fadeOutDownTiles","FadeOutDownTiles","turnOffTiles","TurnOffTiles","wavesTiles3D","WavesTiles3D","jumpTiles3D","JumpTiles3D","splitRows","SplitRows","splitCols","SplitCols","progressTo","ProgressTo","progressFromTo","ProgressFromTo","found","getInnerAction","_getSpeed","_setSpeed","_speed","setSpeed","getSpeed","AffineTransform","d","tx","ty","affineTransformMake","pointApplyAffineTransform","_pointApplyAffineTransform","sizeApplyAffineTransform","affineTransformMakeIdentity","affineTransformIdentity","rectApplyAffineTransform","anAffineTransform","minX","maxX","minY","maxY","_rectApplyAffineTransformIn","affineTransformTranslate","affineTransformScale","sx","sy","affineTransformRotate","aTransform","anAngle","fSin","fCos","affineTransformConcat","t1","affineTransformConcatIn","affineTransformEqualToTransform","affineTransformInvert","determinant","Node","data","_setNormalizedPosition","setNormalizedPosition","getBoundingBoxToWorld","contentSize","getContentSize","trans","getNodeToWorldTransform","child","isVisible","childRect","_getBoundingBoxToCurrentNode","parentTransform","_trans","getNodeToParentTransform","Layer","bake","unbake","isBaked","RenderTexture","_beginWithClear","beginWithClear","depthValue","stencilValue","_clear","clear","_setTexParameters","setTexParameters","texParams","magFilter","wrapS","wrapT","minFilter","handleLoadedTexture","premultiplied","MenuItem","_setCallback","setCallback","bind","MenuItemImage","_setNormalSpriteFrame","setNormalSpriteFrame","_setSelectedSpriteFrame","setSelectedSpriteFrame","_setDisabledSpriteFrame","setDisabledSpriteFrame","frame","spriteFrameCache","getSpriteFrame","substr","MenuItemToggle","selectedItem","getSelectedItem","sys","os","OS_ANDROID","audioEngine","_playMusic","playMusic","args","searchPaths","jsb","fileUtils","getSearchPaths","path","some","item","exists","isFileExist","_setDimensions","setDimensions","dim","_enableShadow","enableShadow","shadowColor","offset","blurRadius","opacity","setDrawMode","Label","Overflow","CLAMP","SHRINK","RESIZE_HEIGHT","enableStroke","enableOutline","setBoundingWidth","setWidth","setBoundingHeight","setHeight","unscheduleUpdateForTarget","unscheduleUpdate","unscheduleAllCallbacksForTarget","__instanceId","_schedule","interval","paused","isSelector","_NodeGrid","NodeGrid","error","BlendFunc","src1","dst1","_disable","_alphaPremultiplied","_alphaNonPremultiplied","_additive","DISABLE","ALPHA_PREMULTIPLIED","ALPHA_NON_PREMULTIPLIED","ADDITIVE","GLProgram","setUniformLocationWithMatrix2fv","tempArray","setUniformLocationWithMatrixfvUnion","setUniformLocationWithMatrix3fv","setUniformLocationWithMatrix4fv","jsbSetUniformCallback","GLProgramState","setUniformCallback","uniform","_ComponentJS","ComponentJS","filename","comp","res","getScriptObject","prop","BaseLight","DirectionLight","PointLight","SpotLight","AmbientLight"],"mappings":"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","file":"jsb_cocos2d.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script","sourcesContent":["/*\n * Copyright (c) 2013-2016 Chukong Technologies Inc.\n * Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n//\n// cocos2d constants\n//\n\n// CCConfig.js\n//\ncc.ENGINE_VERSION = \"Cocos2d-JS v3.17\";\n\ncc.FIX_ARTIFACTS_BY_STRECHING_TEXEL = 0;\ncc.DIRECTOR_STATS_POSITION = {x: 0, y: 0};\ncc.DIRECTOR_FPS_INTERVAL = 0.5;\ncc.COCOSNODE_RENDER_SUBPIXEL = 1;\ncc.SPRITEBATCHNODE_RENDER_SUBPIXEL = 1;\ncc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA = 0;\ncc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP = 0;\ncc.TEXTURE_ATLAS_USE_VAO = 0;\ncc.TEXTURE_NPOT_SUPPORT = 0;\ncc.RETINA_DISPLAY_SUPPORT = 1;\ncc.RETINA_DISPLAY_FILENAME_SUFFIX = \"-hd\";\ncc.USE_LA88_LABELS = 1;\ncc.SPRITE_DEBUG_DRAW = 0;\ncc.SPRITEBATCHNODE_DEBUG_DRAW = 0;\ncc.LABELBMFONT_DEBUG_DRAW = 0;\ncc.LABELATLAS_DEBUG_DRAW = 0;\ncc.IS_RETINA_DISPLAY_SUPPORTED = 1;\ncc.DEFAULT_ENGINE = cc.ENGINE_VERSION + \"-native\";\ncc.ENABLE_STACKABLE_ACTIONS = 1;\ncc.ENABLE_GL_STATE_CACHE = 1;\n\n\n// Resolution policies\n\ncc.ResolutionPolicy = {\n    // The entire application is visible in the specified area without trying to preserve the original aspect ratio.\n    // Distortion can occur, and the application may appear stretched or compressed.\n    EXACT_FIT:0,\n    // The entire application fills the specified area, without distortion but possibly with some cropping,\n    // while maintaining the original aspect ratio of the application.\n    NO_BORDER:1,\n    // The entire application is visible in the specified area without distortion while maintaining the original\n    // aspect ratio of the application. Borders can appear on two sides of the application.\n    SHOW_ALL:2,\n    // The application takes the height of the design resolution size and modifies the width of the internal\n    // canvas so that it fits the aspect ratio of the device\n    // no distortion will occur however you must make sure your application works on different\n    // aspect ratios\n    FIXED_HEIGHT:3,\n    // The application takes the width of the design resolution size and modifies the height of the internal\n    // canvas so that it fits the aspect ratio of the device\n    // no distortion will occur however you must make sure your application works on different\n    // aspect ratios\n    FIXED_WIDTH:4,\n\n    UNKNOWN:5\n};\n\ncc.LANGUAGE_ENGLISH    = 0;\ncc.LANGUAGE_CHINESE    = 1;\ncc.LANGUAGE_FRENCH     = 2;\ncc.LANGUAGE_ITALIAN    = 3;\ncc.LANGUAGE_GERMAN     = 4;\ncc.LANGUAGE_SPANISH    = 5;\ncc.LANGUAGE_RUSSIAN    = 6;\ncc.LANGUAGE_KOREAN     = 7;\ncc.LANGUAGE_JAPANESE   = 8;\ncc.LANGUAGE_HUNGARIAN  = 9;\ncc.LANGUAGE_PORTUGUESE = 10;\ncc.LANGUAGE_ARABIC     = 11;\n\ncc.Director.PROJECTION_2D = 0;\ncc.Director.PROJECTION_3D = 1;\ncc.Director.PROJECTION_CUSTOM = 3;\ncc.Director.PROJECTION_DEFAULT = cc.Director.PROJECTION_3D;\n\ncc.DEVICE_ORIENTATION_PORTRAIT = 0;\ncc.DEVICE_ORIENTATION_LANDSCAPE_LEFT = 1;\ncc.DEVICE_ORIENTATION_PORTRAIT_UPSIDE_DOWN = 2;\ncc.DEVICE_ORIENTATION_LANDSCAPE_RIGHT = 3;\ncc.DEVICE_MAX_ORIENTATIONS = 2;\n\ncc.IMAGE_FORMAT_JPEG = 0;\ncc.IMAGE_FORMAT_PNG = 1;\ncc.IMAGE_FORMAT_RAWDATA = 9;\n\ncc.TOUCH_ALL_AT_ONCE = 0;\ncc.TOUCH_ONE_BY_ONE = 1;\n\ncc.TRANSITION_ORIENTATION_LEFT_OVER = 0;\ncc.TRANSITION_ORIENTATION_RIGHT_OVER = 1;\ncc.TRANSITION_ORIENTATION_UP_OVER = 0;\ncc.TRANSITION_ORIENTATION_DOWN_OVER = 1;\n\ncc.RED = {r:255, g:0, b:0};\ncc.GREEN = {r:0, g:255, b:0};\ncc.BLUE = {r:0, g:0, b:255};\ncc.BLACK = {r:0, g:0, b:0};\ncc.WHITE = {r:255, g:255, b:255};\ncc.YELLOW = {r:255, g:255, b:0};\n\ncc.POINT_ZERO = {x:0, y:0};\n\ncc.PARTICLE_DEFAULT_CAPACITY = 500;\n\ncc.MENU_STATE_WAITING = 0;\ncc.MENU_STATE_TRACKING_TOUCH = 1;\ncc.MENU_HANDLER_PRIORITY = -128;\ncc.DEFAULT_PADDING = 5;\n\ncc.Scheduler.PRIORITY_SYSTEM = -2147483648;\ncc.Scheduler.PRIORITY_NON_SYSTEM = cc.Scheduler.PRIORITY_SYSTEM + 1;\n\nvar _Class = cc.Texture2D;\n\n_Class.PIXEL_FORMAT_NONE = -1;\n_Class.PIXEL_FORMAT_AUTO = 0;\n_Class.PIXEL_FORMAT_BGRA8888 = 1;\n_Class.PIXEL_FORMAT_RGBA8888 = 2;\n_Class.PIXEL_FORMAT_RGB888 = 3;\n_Class.PIXEL_FORMAT_RGB565 = 4;\n_Class.PIXEL_FORMAT_A8 = 5;\n_Class.PIXEL_FORMAT_I8 = 6;\n_Class.PIXEL_FORMAT_AI88 = 7;\n_Class.PIXEL_FORMAT_RGBA4444 = 8;\n_Class.PIXEL_FORMAT_RGB5A1 = 9;\n_Class.PIXEL_FORMAT_PVRTC4 = 10;\n_Class.PIXEL_FORMAT_PVRTC4A = 11;\n_Class.PIXEL_FORMAT_PVRTC2 = 11;\n_Class.PIXEL_FORMAT_PVRTC2A = 13;\n_Class.PIXEL_FORMAT_ETC = 14;\n_Class.PIXEL_FORMAT_S3TC_DXT1 = 15;\n_Class.PIXEL_FORMAT_S3TC_DXT3 = 16;\n_Class.PIXEL_FORMAT_S3TC_DXT5 = 17;\n_Class.PIXEL_FORMAT_ATC_RGB = 18;\n_Class.PIXEL_FORMAT_ATC_EXPLICIT_ALPHA = 19;\n_Class.PIXEL_FORMAT_ATC_INTERPOLATED_ALPHA = 20;\n_Class.PIXEL_FORMAT_DEFAULT = _Class.PIXEL_FORMAT_AUTO;\n_Class.defaultPixelFormat = _Class.PIXEL_FORMAT_DEFAULT;\n\n// For blend\ncc.ONE = 1;\ncc.ZERO = 0;\ncc.SRC_ALPHA = 0x0302;\ncc.SRC_ALPHA_SATURATE = 0x308;\ncc.SRC_COLOR = 0x300;\ncc.DST_ALPHA = 0x304;\ncc.DST_COLOR = 0x306;\ncc.ONE_MINUS_SRC_ALPHA = 0x0303;\ncc.ONE_MINUS_SRC_COLOR = 0x301;\ncc.ONE_MINUS_DST_ALPHA = 0x305;\ncc.ONE_MINUS_DST_COLOR = 0x0307;\ncc.ONE_MINUS_CONSTANT_ALPHA = 0x8004;\ncc.ONE_MINUS_CONSTANT_COLOR = 0x8002;\n\n//texture parameters\ncc.LINEAR   = 0x2601;\ncc.REPEAT   = 0x2901;\ncc.CLAMP_TO_EDGE    = 0x812f;\ncc.MIRRORED_REPEAT   = 0x8370;\n\ncc.VERTEX_ATTRIB_FLAG_NONE = 0;\ncc.VERTEX_ATTRIB_FLAG_POSITION = 1 << 0;\ncc.VERTEX_ATTRIB_FLAG_COLOR = 1 << 1;\ncc.VERTEX_ATTRIB_FLAG_TEX_COORDS = 1 << 2;\ncc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX = ( cc.VERTEX_ATTRIB_FLAG_POSITION | cc.VERTEX_ATTRIB_FLAG_COLOR | cc.VERTEX_ATTRIB_FLAG_TEX_COORDS );\ncc.GL_ALL = 0;\n\ncc.VERTEX_ATTRIB_POSITION = 0;\ncc.VERTEX_ATTRIB_COLOR = 1;\ncc.VERTEX_ATTRIB_TEX_COORDS = 2;\ncc.VERTEX_ATTRIB_MAX = 3;\n\ncc.UNIFORM_PMATRIX = 0;\ncc.UNIFORM_MVMATRIX = 1;\ncc.UNIFORM_MVPMATRIX = 2;\ncc.UNIFORM_TIME = 3;\ncc.UNIFORM_SINTIME = 4;\ncc.UNIFORM_COSTIME = 5;\ncc.UNIFORM_RANDOM01 = 6;\ncc.UNIFORM_SAMPLER = 7;\ncc.UNIFORM_MAX = 8;\n\n// Shaders \ncc.UNIFORM_TIME_S = \"CC_Time\";\ncc.UNIFORM_COS_TIME_S   = 'CC_CosTime';\ncc.UNIFORM_COSTIME_S = \"CC_CosTime\";\ncc.UNIFORM_SIN_TIME_S   = 'CC_SinTime';\ncc.UNIFORM_SINTIME_S = \"CC_SinTime\";\ncc.UNIFORM_PMATRIX_S = \"CC_PMatrix\";\ncc.UNIFORM_MVMATRIX_S = \"CC_MVMatrix\";\ncc.UNIFORM_MVPMATRIX_S = \"CC_MVPMatrix\";\ncc.UNIFORM_P_MATRIX_S   = 'CC_PMatrix';\ncc.UNIFORM_MV_MATRIX_S  = 'CC_MVMatrix';\ncc.UNIFORM_MVP_MATRIX_S = 'CC_MVPMatrix';\ncc.UNIFORM_RANDOM01_S   = 'CC_Random01';\ncc.UNIFORM_SAMPLER_S    = 'CC_Texture0';\ncc.UNIFORM_ALPHA_TEST_VALUE_S = \"CC_AlphaValue\";\n\ncc.ITEM_SIZE = 32;\n\ncc.CURRENT_ITEM = 0xc0c05001;\ncc.ZOOM_ACTION_TAG = 0xc0c05002;\ncc.NORMAL_TAG = 8801;\ncc.SELECTED_TAG = 8802;\ncc.DISABLE_TAG = 8803;\n\n\ncc.stencilBits = -1;           //CCClippingNode.js\n\ncc.g_NumberOfDraws = 0;        //CCDirector.js\n\ncc.s_globalOrderOfArrival = 1;\n\ncc.Event.TOUCH = 0;                  //CCEvent.js\ncc.Event.KEYBOARD = 1;\ncc.Event.ACCELERATION = 2;\ncc.Event.MOUSE = 3;\ncc.Event.FOCUS = 4\n//game controller 5\ncc.Event.CUSTOM = 6;\ncc.EventMouse.NONE = 0;\ncc.EventMouse.DOWN = 1;\ncc.EventMouse.UP = 2;\ncc.EventMouse.MOVE = 3;\ncc.EventMouse.SCROLL = 4;\ncc.EventMouse.BUTTON_LEFT = 0;\ncc.EventMouse.BUTTON_RIGHT = 1;\ncc.EventMouse.BUTTON_MIDDLE = 2;\ncc.EventMouse.BUTTON_4 = 3;\ncc.EventMouse.BUTTON_5 = 4;\ncc.EventMouse.BUTTON_6 = 5;\ncc.EventMouse.BUTTON_7 = 6;\ncc.EventMouse.BUTTON_8 = 7;\ncc.EventTouch.MAX_TOUCHES = 5;\ncc.EventTouch.EventCode = {BEGAN: 0, MOVED: 1, ENDED: 2, CANCELLED: 3};\n\ncc.SpriteBatchNode.DEFAULT_CAPACITY = 29;                  //CCSpriteBatchNode.js\n\ncc.ParticleSystem.SHAPE_MODE = 0;            //CCParticleSystem.js\ncc.ParticleSystem.TEXTURE_MODE = 1;\ncc.ParticleSystem.STAR_SHAPE = 0;\ncc.ParticleSystem.BALL_SHAPE = 1;\n\ncc.ProgressTimer.TEXTURE_COORDS_COUNT = 4;       //CCProgressTimer.js\ncc.ProgressTimer.TEXTURE_COORDS = 0x4b;\n\ncc.IMAGE_FORMAT_RAWDATA = 2;           //CCRenderTexture.js\n\ncc.TMXLayerInfo.ATTRIB_NONE = 1 << 0;            //CCTMXXMLParser.js\ncc.TMXLayerInfo.ATTRIB_BASE64 = 1 << 1;\ncc.TMXLayerInfo.ATTRIB_GZIP = 1 << 2;\ncc.TMXLayerInfo.ATTRIB_ZLIB = 1 << 3;\ncc.TMX_PROPERTY_NONE = 0;\ncc.TMX_PROPERTY_MAP = 1;\ncc.TMX_PROPERTY_LAYER = 2;\ncc.TMX_PROPERTY_OBJECTGROUP = 3;\ncc.TMX_PROPERTY_OBJECT = 4;\ncc.TMX_PROPERTY_TILE = 5;\n\ncc.SCENE_FADE = 4208917214;             //CCTransition.js\n\ncc.SCENE_RADIAL = 0xc001;               //CCTransitionProgress.js\n\n\n//\n// CCMacro.js export\n//\n\n/**\n * @constant\n * @type Number\n */\ncc.INVALID_INDEX = -1;\n\n/**\n * PI is the ratio of a circle's circumference to its diameter.\n * @constant\n * @type Number\n */\ncc.PI = Math.PI;\n\n/**\n * @constant\n * @type Number\n */\ncc.FLT_MAX = parseFloat('3.402823466e+38F');\n\n/**\n * @constant\n * @type Number\n */\ncc.RAD = cc.PI / 180;\n\n/**\n * @constant\n * @type Number\n */\ncc.DEG = 180 / cc.PI;\n\n/**\n * maximum unsigned int value\n * @constant\n * @type Number\n */\ncc.UINT_MAX = 0xffffffff;\n\n/**\n * <p>\n * simple macro that swaps 2 variables<br/>\n *  modified from c++ macro, you need to pass in the x and y variables names in string, <br/>\n *  and then a reference to the whole object as third variable\n * </p>\n * @param x\n * @param y\n * @param ref\n * @function\n * @deprecated\n */\ncc.swap = function (x, y, ref) {\n    if ((typeof ref) == 'object' && (typeof ref.x) != 'undefined' && (typeof ref.y) != 'undefined') {\n        var tmp = ref[x];\n        ref[x] = ref[y];\n        ref[y] = tmp;\n    } else\n        cc.log(\"cc.swap is being modified from original macro, please check usage\");\n};\n\n/**\n * <p>\n *     Linear interpolation between 2 numbers, the ratio sets how much it is biased to each end\n * </p>\n * @param {Number} a number A\n * @param {Number} b number B\n * @param {Number} r ratio between 0 and 1\n * @function\n * @example\n * cc.lerp(2,10,0.5)//returns 6<br/>\n * cc.lerp(2,10,0.2)//returns 3.6\n */\ncc.lerp = function (a, b, r) {\n    return a + (b - a) * r;\n};\n\n/**\n * get a random number from 0 to 0xffffff\n * @function\n * @returns {number}\n */\ncc.rand = function () {\n    return Math.random() * 0xffffff;\n};\n\n/**\n * returns a random float between -1 and 1\n * @return {Number}\n * @function\n */\ncc.randomMinus1To1 = function () {\n    return (Math.random() - 0.5) * 2;\n};\n\n/**\n * returns a random float between 0 and 1\n * @return {Number}\n * @function\n */\ncc.random0To1 = Math.random;\n\n/**\n * converts degrees to radians\n * @param {Number} angle\n * @return {Number}\n * @function\n */\ncc.degreesToRadians = function (angle) {\n    return angle * cc.RAD;\n};\n\n/**\n * converts radians to degrees\n * @param {Number} angle\n * @return {Number}\n * @function\n */\ncc.radiansToDegrees = function (angle) {\n    return angle * cc.DEG;\n};\n\n/**\n * @constant\n * @type Number\n */\ncc.REPEAT_FOREVER = 0xffffffff;\n\n/**\n * default gl blend src function. Compatible with premultiplied alpha images.\n * @constant\n * @type Number\n */\ncc.BLEND_SRC = cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA ? 1 : 0x0302;\n\n/**\n * default gl blend dst function. Compatible with premultiplied alpha images.\n * @constant\n * @type Number\n */\ncc.BLEND_DST = 0x0303;\n\n/**\n * Helpful macro that setups the GL server state, the correct GL program and sets the Model View Projection matrix\n * @param {cc.Node} node setup node\n * @function\n */\ncc.nodeDrawSetup = function (node) {\n    //cc.glEnable(node._glServerState);\n    if (node._shaderProgram) {\n        //cc._renderContext.useProgram(node._shaderProgram._programObj);\n        node._shaderProgram.use();\n        node._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4();\n    }\n};\n\n/**\n * <p>\n *     GL states that are enabled:<br/>\n *       - GL_TEXTURE_2D<br/>\n *       - GL_VERTEX_ARRAY<br/>\n *       - GL_TEXTURE_COORD_ARRAY<br/>\n *       - GL_COLOR_ARRAY<br/>\n * </p>\n * @function\n */\ncc.enableDefaultGLStates = function () {\n    //TODO OPENGL STUFF\n    /*\n     glEnableClientState(GL_VERTEX_ARRAY);\n     glEnableClientState(GL_COLOR_ARRAY);\n     glEnableClientState(GL_TEXTURE_COORD_ARRAY);\n     glEnable(GL_TEXTURE_2D);*/\n};\n\n/**\n * <p>\n *   Disable default GL states:<br/>\n *     - GL_TEXTURE_2D<br/>\n *     - GL_TEXTURE_COORD_ARRAY<br/>\n *     - GL_COLOR_ARRAY<br/>\n * </p>\n * @function\n */\ncc.disableDefaultGLStates = function () {\n    //TODO OPENGL\n    /*\n     glDisable(GL_TEXTURE_2D);\n     glDisableClientState(GL_COLOR_ARRAY);\n     glDisableClientState(GL_TEXTURE_COORD_ARRAY);\n     glDisableClientState(GL_VERTEX_ARRAY);\n     */\n};\n\n/**\n * <p>\n *  Increments the GL Draws counts by one.<br/>\n *  The number of calls per frame are displayed on the screen when the CCDirector's stats are enabled.<br/>\n * </p>\n * @param {Number} addNumber\n * @function\n */\ncc.incrementGLDraws = function (addNumber) {\n    cc.g_NumberOfDraws += addNumber;\n};\n\n/**\n * @constant\n * @type Number\n */\ncc.FLT_EPSILON = 0.0000001192092896;\n\n/**\n * <p>\n *     On Mac it returns 1;<br/>\n *     On iPhone it returns 2 if RetinaDisplay is On. Otherwise it returns 1\n * </p>\n * @function\n */\ncc.contentScaleFactor = cc.IS_RETINA_DISPLAY_SUPPORTED ? function () {\n    return cc.director.getContentScaleFactor();\n} : function () {\n    return 1;\n};\n\n/**\n * Converts a Point in points to pixels\n * @param {cc.Point} points\n * @return {cc.Point}\n * @function\n */\ncc.pointPointsToPixels = function (points) {\n    var scale = cc.contentScaleFactor();\n    return cc.p(points.x * scale, points.y * scale);\n};\n\n/**\n * Converts a Point in pixels to points\n * @param {Point} pixels\n * @function\n */\ncc.pointPixelsToPoints = function (pixels) {\n    var scale = cc.contentScaleFactor();\n    return cc.p(pixels.x / scale, pixels.y / scale);\n};\n\ncc._pointPixelsToPointsOut = function(pixels, outPoint){\n    var scale = cc.contentScaleFactor();\n    outPoint.x = pixels.x / scale;\n    outPoint.y = pixels.y / scale;\n};\n\n/**\n * Converts a Size in points to pixels\n * @param {cc.Size} sizeInPoints\n * @return {cc.Size}\n * @function\n */\ncc.sizePointsToPixels = function (sizeInPoints) {\n    var scale = cc.contentScaleFactor();\n    return cc.size(sizeInPoints.width * scale, sizeInPoints.height * scale);\n};\n\n/**\n * Converts a size in pixels to points\n * @param {cc.Size} sizeInPixels\n * @return {cc.Size}\n * @function\n */\ncc.sizePixelsToPoints = function (sizeInPixels) {\n    var scale = cc.contentScaleFactor();\n    return cc.size(sizeInPixels.width / scale, sizeInPixels.height / scale);\n};\n\ncc._sizePixelsToPointsOut = function (sizeInPixels, outSize) {\n    var scale = cc.contentScaleFactor();\n    outSize.width = sizeInPixels.width / scale;\n    outSize.height = sizeInPixels.height / scale;\n};\n\n/**\n * Converts a rect in pixels to points\n * @param {cc.Rect} pixel\n * @function\n */\ncc.rectPixelsToPoints = cc.IS_RETINA_DISPLAY_SUPPORTED ? function (pixel) {\n    var scale = cc.contentScaleFactor();\n    return cc.rect(pixel.x / scale, pixel.y / scale,\n        pixel.width / scale, pixel.height / scale);\n} : function (p) {\n    return p;\n};\n\n/**\n * Converts a rect in points to pixels\n * @param {cc.Rect} point\n * @function\n */\ncc.rectPointsToPixels = cc.IS_RETINA_DISPLAY_SUPPORTED ? function (point) {\n    var scale = cc.contentScaleFactor();\n    return cc.rect(point.x * scale, point.y * scale,\n        point.width * scale, point.height * scale);\n} : function (p) {\n    return p;\n};\n\ncc.checkGLErrorDebug = function () {\n    if (cc.renderMode == cc._RENDER_TYPE_WEBGL) {\n        var _error = cc._renderContext.getError();\n        if (_error) {\n            cc.log(CC._localZOrder.checkGLErrorDebug, _error);\n        }\n    }\n};\n\n\n//\n// Reusable objects\n//\ncc._reuse_p = [ {x:0, y:0}, {x:0,y:0}, {x:0,y:0}, {x:0,y:0} ];\ncc._reuse_p_index = 0;\ncc._reuse_size = {width:0, height:0};\ncc._reuse_rect = {x:0, y:0, width:0, height:0};\ncc._reuse_color3b = {r:255, g:255, b:255 };\ncc._reuse_color4b = {r:255, g:255, b:255, a:255 };\n\n\n\n//\n// Basic structure : Point\n//\ncc.p = function( x, y )\n{\n    if (x == undefined)\n        return {x: 0, y: 0};\n    if (y == undefined)\n        return {x: x.x, y: x.y};\n    return {x:x, y:y};\n};\ncc._p = function( x, y )\n{\n    if( cc._reuse_p_index == cc._reuse_p.length )\n        cc._reuse_p_index = 0;\n\n    var p = cc._reuse_p[ cc._reuse_p_index];\n    cc._reuse_p_index++;\n    p.x = x;\n    p.y = y;\n    return p;\n};\n\ncc.pointEqualToPoint = function (point1, point2) {\n    return ((point1.x == point2.x) && (point1.y == point2.y));\n};\n\ncc.PointZero = function () {\n    return cc.p(0, 0);\n};\n\n\n/**\n * Unrotates two points.\n * @param  {cc.Point} v1\n * @param  {cc.Point} v2\n * @return {cc.Point}\n */\ncc.pUnrotate = function (v1, v2) {\n    return cc.p(v1.x * v2.x + v1.y * v2.y, v1.y * v2.x - v1.x * v2.y);\n};\n\n/**\n * Converts radians to a normalized vector.\n * @param {Number} a\n * @return {cc.Point}\n */\ncc.pForAngle = function (a) {\n    return cc.p(Math.cos(a), Math.sin(a));\n};\n\n/**\n * Converts a vector to radians.\n * @param {cc.Point} v\n * @return {Number}\n */\ncc.pToAngle = function (v) {\n    return Math.atan2(v.y, v.x);\n};\n\n/**\n * Clamp a value between from and to.\n * @param {Number} value\n * @param {Number} min_inclusive\n * @param {Number} max_inclusive\n * @return {Number}\n */\ncc.clampf = function (value, min_inclusive, max_inclusive) {\n    if (min_inclusive > max_inclusive) {\n        var temp = min_inclusive;\n        min_inclusive = max_inclusive;\n        max_inclusive = temp;\n    }\n    return value < min_inclusive ? min_inclusive : value < max_inclusive ? value : max_inclusive;\n};\n\n/**\n * Quickly convert cc.Size to a cc.Point\n * @param {cc.Size} s\n * @return {cc.Point}\n */\ncc.pFromSize = function (s) {\n    return cc.p(s.width, s.height);\n};\n\n/**\n * Run a math operation function on each point component <br />\n * Math.abs, Math.fllor, Math.ceil, Math.round.\n * @param {cc.Point} p\n * @param {Function} opFunc\n * @return {cc.Point}\n * @example\n * //For example: let's try to take the floor of x,y\n * var p = cc.pCompOp(cc.p(10,10),Math.abs);\n */\ncc.pCompOp = function (p, opFunc) {\n    return cc.p(opFunc(p.x), opFunc(p.y));\n};\n\n/**\n * Linear Interpolation between two points a and b\n * alpha == 0 ? a\n * alpha == 1 ? b\n * otherwise a value between a..b\n * @param {cc.Point} a\n * @param {cc.Point} b\n * @param {Number} alpha\n * @return {cc.pAdd}\n */\ncc.pLerp = function (a, b, alpha) {\n    return cc.pAdd(cc.pMult(a, 1 - alpha), cc.pMult(b, alpha));\n};\n\n/**\n * @param {cc.Point} a\n * @param {cc.Point} b\n * @param {Number} variance\n * @return {Boolean} if points have fuzzy equality which means equal with some degree of variance.\n */\ncc.pFuzzyEqual = function (a, b, variance) {\n    if (a.x - variance <= b.x && b.x <= a.x + variance) {\n        if (a.y - variance <= b.y && b.y <= a.y + variance)\n            return true;\n    }\n    return false;\n};\n\n/**\n * Multiplies a nd b components, a.x*b.x, a.y*b.y\n * @param {cc.Point} a\n * @param {cc.Point} b\n * @return {cc.Point}\n */\ncc.pCompMult = function (a, b) {\n    return cc.p(a.x * b.x, a.y * b.y);\n};\n\n/**\n * @param {cc.Point} a\n * @param {cc.Point} b\n * @return {Number} the signed angle in radians between two vector directions\n */\ncc.pAngleSigned = function (a, b) {\n    var a2 = cc.pNormalize(a);\n    var b2 = cc.pNormalize(b);\n    var angle = Math.atan2(a2.x * b2.y - a2.y * b2.x, cc.pDot(a2, b2));\n    if (Math.abs(angle) < cc.POINT_EPSILON)\n        return 0.0;\n    return angle;\n};\n\n/**\n * @param {cc.Point} a\n * @param {cc.Point} b\n * @return {Number} the angle in radians between two vector directions\n */\ncc.pAngle = function (a, b) {\n    var angle = Math.acos(cc.pDot(cc.pNormalize(a), cc.pNormalize(b)));\n    if (Math.abs(angle) < cc.POINT_EPSILON) return 0.0;\n    return angle;\n};\n\n/**\n * Rotates a point counter clockwise by the angle around a pivot\n * @param {cc.Point} v v is the point to rotate\n * @param {cc.Point} pivot pivot is the pivot, naturally\n * @param {Number} angle angle is the angle of rotation cw in radians\n * @return {cc.Point} the rotated point\n */\ncc.pRotateByAngle = function (v, pivot, angle) {\n    var r = cc.pSub(v, pivot);\n    var cosa = Math.cos(angle), sina = Math.sin(angle);\n    var t = r.x;\n    r.x = t * cosa - r.y * sina + pivot.x;\n    r.y = t * sina + r.y * cosa + pivot.y;\n    return r;\n};\n\n/**\n * A general line-line intersection test\n * @param {cc.Point} A A is the startpoint for the first line P1 = (p1 - p2).\n * @param {cc.Point} B B is the endpoint for the first line P1 = (p1 - p2).\n * @param {cc.Point} C C is the startpoint for the second line P2 = (p3 - p4).\n * @param {cc.Point} D D is the endpoint for the second line P2 = (p3 - p4).\n * @param {cc.Point} retP retP.x is the range for a hitpoint in P1 (pa = p1 + s*(p2 - p1)), <br />\n * retP.y is the range for a hitpoint in P3 (pa = p2 + t*(p4 - p3)).\n * @return {Boolean}\n * indicating successful intersection of a line<br />\n * note that to truly test intersection for segments we have to make<br />\n * sure that s & t lie within [0..1] and for rays, make sure s & t > 0<br />\n * the hit point is        p3 + t * (p4 - p3);<br />\n * the hit point also is    p1 + s * (p2 - p1);\n */\ncc.pLineIntersect = function (A, B, C, D, retP) {\n    if ((A.x == B.x && A.y == B.y) || (C.x == D.x && C.y == D.y)) {\n        return false;\n    }\n    var BAx = B.x - A.x;\n    var BAy = B.y - A.y;\n    var DCx = D.x - C.x;\n    var DCy = D.y - C.y;\n    var ACx = A.x - C.x;\n    var ACy = A.y - C.y;\n\n    var denom = DCy * BAx - DCx * BAy;\n\n    retP.x = DCx * ACy - DCy * ACx;\n    retP.y = BAx * ACy - BAy * ACx;\n\n    if (denom == 0) {\n        if (retP.x == 0 || retP.y == 0) {\n            // Lines incident\n            return true;\n        }\n        // Lines parallel and not incident\n        return false;\n    }\n\n    retP.x = retP.x / denom;\n    retP.y = retP.y / denom;\n\n    return true;\n};\n\n/**\n * ccpSegmentIntersect return YES if Segment A-B intersects with segment C-D.\n * @param {cc.Point} A\n * @param {cc.Point} B\n * @param {cc.Point} C\n * @param {cc.Point} D\n * @return {Boolean}\n */\ncc.pSegmentIntersect = function (A, B, C, D) {\n    var retP = cc.p(0, 0);\n    if (cc.pLineIntersect(A, B, C, D, retP))\n        if (retP.x >= 0.0 && retP.x <= 1.0 && retP.y >= 0.0 && retP.y <= 1.0)\n            return true;\n    return false;\n};\n\n\n/**\n * ccpIntersectPoint return the intersection point of line A-B, C-D\n * @param {cc.Point} A\n * @param {cc.Point} B\n * @param {cc.Point} C\n * @param {cc.Point} D\n * @return {cc.Point}\n */\ncc.pIntersectPoint = function (A, B, C, D) {\n    var retP = cc.p(0, 0);\n\n    if (cc.pLineIntersect(A, B, C, D, retP)) {\n        // Point of intersection\n        var P = cc.p(0, 0);\n        P.x = A.x + retP.x * (B.x - A.x);\n        P.y = A.y + retP.x * (B.y - A.y);\n        return P;\n    }\n\n    return cc.p(0,0);\n};\n\n/**\n * check to see if both points are equal\n * @param {cc.Point} A A ccp a\n * @param {cc.Point} B B ccp b to be compared\n * @return {Boolean} the true if both ccp are same\n */\ncc.pSameAs = function (A, B) {\n    if ((A != null) && (B != null)) {\n        return (A.x == B.x && A.y == B.y);\n    }\n    return false;\n};\n\n/**\n  * sets the position of the point to 0\n  */\ncc.pZeroIn = function(v) {\n    v.x = 0;\n    v.y = 0;\n};\n\n/**\n  * copies the position of one point to another\n  */\ncc.pIn = function(v1, v2) {\n    v1.x = v2.x;\n    v1.y = v2.y;\n};\n\n/**\n  * multiplies the point with the given factor (inplace)\n  */\ncc.pMultIn = function(point, floatVar) {\n    point.x *= floatVar;\n    point.y *= floatVar;\n};\n\n/**\n  * subtracts one point from another (inplace)\n  */\ncc.pSubIn = function(v1, v2) {\n    v1.x -= v2.x;\n    v1.y -= v2.y;\n};\n\n/**\n  * adds one point to another (inplace)\n  */\ncc.pAddIn = function(v1, v2) {\n    v1.x += v2.x;\n    v1.y += v2.y;\n};\n\n/**\n  * normalizes the point (inplace)\n  */\ncc.pNormalizeIn = function(v) {\n    cc.pMultIn(v, 1.0 / Math.sqrt(v.x * v.x + v.y * v.y));\n};\n\n//\n// Grid\n//\ncc._g = function( x, y )\n{\n    cc._reuse_grid.x = x;\n    cc._reuse_grid.y = y;\n    return cc._reuse_grid;\n};\n\n//\n// Basic structure : Size\n//\ncc.size = function(w,h)\n{\n    return {width:w, height:h};\n};\ncc._size = function(w,h)\n{\n    cc._reuse_size.width = w;\n    cc._reuse_size.height = h;\n    return cc._reuse_size;\n};\ncc.sizeEqualToSize = function (size1, size2)\n{\n    return ((size1.width == size2.width) && (size1.height == size2.height));\n};\n\ncc.SizeZero = function () {\n    return cc.size(0, 0);\n};\n\n/**\n * create a cc.rect object\n * @param {Number|cc.point|cc.rect} [x] a Number value as x or a cc.point object as origin or a cc.rect clone object\n * @param {Number|cc.size} [y] x1 a Number value as y or a cc.size object as size\n * @param {Number} [w]\n * @param {Number} [h]\n * @return {Object} a cc.rect object\n */\ncc.rect = function(x,y,w,h)\n{\n    var argLen = arguments.length;\n    if (argLen === 0)\n        return { x: 0, y: 0, width: 0, height: 0 };\n\n    if (argLen === 1)\n        return { x: x.x, y: x.y, width: x.width, height: x.height };\n\n    if (argLen === 2)\n        return { x: x.x, y: x.y, width: y.width, height: y.height };\n\n    if (argLen === 4)\n        return { x: x, y: y, width: w, height: h };\n\n    throw \"unknown argument type\";\n};\ncc._rect = function(x,y,w,h)\n{\n    cc._reuse_rect.x = x;\n    cc._reuse_rect.y = y;\n    cc._reuse_rect.width = w;\n    cc._reuse_rect.height = h;\n    return cc._reuse_rect;\n};\ncc.rectEqualToRect = function (rect1, rect2) {\n    return ( rect1.x==rect2.x && rect1.y==rect2.y && rect1.width==rect2.width && rect1.height==rect2.height);\n};\n\ncc.rectContainsRect = function (rect1, rect2) {\n    if ((rect1.x >= rect2.x) || (rect1.y >= rect2.y) ||\n        ( rect1.x + rect1.width <= rect2.x + rect2.width) ||\n        ( rect1.y + rect1.height <= rect2.y + rect2.height))\n        return false;\n    return true;\n};\n\ncc.rectGetMaxX = function (rect) {\n    return (rect.x + rect.width);\n};\n\ncc.rectGetMidX = function (rect) {\n    return (rect.x + rect.width / 2.0);\n};\n\ncc.rectGetMinX = function (rect) {\n    return rect.x;\n};\n\ncc.rectGetMaxY = function (rect) {\n    return(rect.y + rect.height);\n};\n\ncc.rectGetMidY = function (rect) {\n    return rect.y + rect.height / 2.0;\n};\n\ncc.rectGetMinY = function (rect) {\n    return rect.y;\n};\n\ncc.rectContainsPoint = function (rect, point) {\n    var ret = false;\n    if (point.x >= rect.x && point.x <= rect.x + rect.width &&\n        point.y >= rect.y && point.y <= rect.y + rect.height) {\n        ret = true;\n    }\n    return ret;\n};\n\ncc.rectIntersectsRect = function( rectA, rectB )\n{\n    var bool = ! (  rectA.x > rectB.x + rectB.width ||\n                    rectA.x + rectA.width < rectB.x ||\n                    rectA.y > rectB.y +rectB.height ||\n                    rectA.y + rectA.height < rectB.y );\n\n    return bool;\n};\n\ncc.rectOverlapsRect = function (rectA, rectB)\n{\n    return !((rectA.x + rectA.width < rectB.x) ||\n             (rectB.x + rectB.width < rectA.x) ||\n             (rectA.y + rectA.height < rectB.y) ||\n             (rectB.y + rectB.height < rectA.y));\n};\n\ncc.rectUnion = function (rectA, rectB) {\n    var rect = cc.rect(0, 0, 0, 0);\n    rect.x = Math.min(rectA.x, rectB.x);\n    rect.y = Math.min(rectA.y, rectB.y);\n    rect.width = Math.max(rectA.x + rectA.width, rectB.x + rectB.width) - rect.x;\n    rect.height = Math.max(rectA.y + rectA.height, rectB.y + rectB.height) - rect.y;\n    return rect;\n};\n\ncc.rectIntersection = function (rectA, rectB) {\n    var intersection = cc.rect(\n        Math.max(rectA.x, rectB.x),\n        Math.max(rectA.y, rectB.y),\n        0, 0);\n\n    intersection.width = Math.min(rectA.x+rectA.width, rectB.x+rectB.width) - intersection.x;\n    intersection.height = Math.min(rectA.y+rectA.height, rectB.y+rectB.height) - intersection.y;\n    return intersection;\n};\n\ncc.RectZero = function () {\n    return cc.rect(0, 0, 0, 0);\n};\n\n// Basic structure : Color\ncc.Color = function (r, g, b, a) {\n    this.r = r || 0;\n    this.g = g || 0;\n    this.b = b || 0;\n    this.a = (a === undefined) ? 255 : a;\n};\n\n/**\n * Generate a color object based on multiple forms of parameters\n * @example\n *\n * // 1. All channels separately as parameters\n * var color1 = cc.color(255, 255, 255, 255);\n *\n * // 2. Convert a hex string to a color\n * var color2 = cc.color(\"#000000\");\n *\n * // 3. An color object as parameter\n * var color3 = cc.color({r: 255, g: 255, b: 255, a: 255});\n *\n * Alpha channel is optional. Default value is 255\n *\n * @param {Number|String|cc.Color} r\n * @param {Number} g\n * @param {Number} b\n * @param {Number} [a=255]\n * @returns {cc.Color}\n */\ncc.color = function (r, g, b, a) {\n    if (r === undefined)\n        return {r: 0, g: 0, b: 0, a: 255};\n    if (typeof r === \"string\")\n        return cc.hexToColor(r);\n    if (typeof r === \"object\")\n        return {r: r.r, g: r.g, b: r.b, a: (r.a === undefined) ? 255 : r.a};\n    return  {r: r, g: g, b: b, a: (a === undefined ? 255 : a)};\n};\n\n/**\n * returns true if both ccColor3B are equal. Otherwise it returns false.\n * @param {cc.Color} color1\n * @param {cc.Color} color2\n * @return {Boolean}  true if both ccColor3B are equal. Otherwise it returns false.\n */\ncc.colorEqual = function(color1, color2){\n    return color1.r === color2.r && color1.g === color2.g && color1.b === color2.b;\n};\n\n/**\n * convert a string of color for style to Color.\n * e.g. \"#ff06ff\"  to : cc.color(255,6,255)\n * @param {String} hex\n * @return {cc.Color}\n */\ncc.hexToColor = function (hex) {\n    hex = hex.replace(/^#?/, \"0x\");\n    var c = parseInt(hex);\n    var r = c >> 16;\n    var g = (c >> 8) % 256;\n    var b = c % 256;\n    return cc.color(r, g, b);\n};\n\n/**\n * convert Color to a string of color for style.\n * e.g.  cc.color(255,6,255)  to : \"#ff06ff\"\n * @param {cc.Color} color\n * @return {String}\n */\ncc.colorToHex = function (color) {\n    var hR = color.r.toString(16);\n    var hG = color.g.toString(16);\n    var hB = color.b.toString(16);\n    var hex = \"#\" + (color.r < 16 ? (\"0\" + hR) : hR) + (color.g < 16 ? (\"0\" + hG) : hG) + (color.b < 16 ? (\"0\" + hB) : hB);\n    return hex;\n};\n\n/**\n * White color (255, 255, 255, 255)\n * @returns {cc.Color}\n * @private\n */\ncc.color._getWhite = function(){\n    return cc.color(255, 255, 255, 255);\n};\n\n/**\n *  Yellow color (255, 255, 0, 255)\n * @returns {cc.Color}\n * @private\n */\ncc.color._getYellow = function () {\n    return cc.color(255, 255, 0, 255);\n};\n\n/**\n *  Blue color (0, 0, 255, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getBlue = function () {\n    return  cc.color(0, 0, 255, 255);\n};\n\n/**\n *  Green Color (0, 255, 0, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getGreen = function () {\n    return cc.color(0, 255, 0, 255);\n};\n\n/**\n *  Red Color (255, 0, 0, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getRed = function () {\n    return cc.color(255, 0, 0, 255);\n};\n\n/**\n *  Magenta Color (255, 0, 255, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getMagenta = function () {\n    return cc.color(255, 0, 255, 255);\n};\n\n/**\n *  Black Color (0, 0, 0, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getBlack = function () {\n    return cc.color(0, 0, 0, 255);\n};\n\n/**\n *  Orange Color (255, 127, 0, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getOrange = function () {\n    return cc.color(255, 127, 0, 255);\n};\n\n/**\n *  Gray Color (166, 166, 166, 255)\n * @type {cc.Color}\n * @private\n */\ncc.color._getGray = function () {\n    return cc.color(166, 166, 166, 255);\n};\nvar _proto = cc.color;\n/** @expose */\n_proto.WHITE;\ncc.defineGetterSetter(_proto, \"WHITE\", _proto._getWhite);\n/** @expose */\n_proto.YELLOW;\ncc.defineGetterSetter(_proto, \"YELLOW\", _proto._getYellow);\n/** @expose */\n_proto.BLUE;\ncc.defineGetterSetter(_proto, \"BLUE\", _proto._getBlue);\n/** @expose */\n_proto.GREEN;\ncc.defineGetterSetter(_proto, \"GREEN\", _proto._getGreen);\n/** @expose */\n_proto.RED;\ncc.defineGetterSetter(_proto, \"RED\", _proto._getRed);\n/** @expose */\n_proto.MAGENTA;\ncc.defineGetterSetter(_proto, \"MAGENTA\", _proto._getMagenta);\n/** @expose */\n_proto.BLACK;\ncc.defineGetterSetter(_proto, \"BLACK\", _proto._getBlack);\n/** @expose */\n_proto.ORANGE;\ncc.defineGetterSetter(_proto, \"ORANGE\", _proto._getOrange);\n/** @expose */\n_proto.GRAY;\ncc.defineGetterSetter(_proto, \"GRAY\", _proto._getGray);\n\n// Cocos2d-html5 supports multi scene resources preloading.\n// This is a compatible function for JSB.\ncc.Loader = cc.Class.extend({\n    initWith:function (resources, selector, target) {\n        if (selector) {\n            this._selector = selector;\n            this._target = target;\n        }\n        this._selector.call(this._target);\n    }\n});\n\ncc.Loader.preload = function (resources, selector, target) {\n    if (!this._instance) {\n        this._instance = new cc.Loader();\n    }\n    this._instance.initWith(resources, selector, target);\n    return this._instance;\n};\n\ncc.LoaderScene = cc.Loader;\n\nvar ConfigType = {\n    NONE: 0,\n    COCOSTUDIO: 1\n};\n\nvar __onParseConfig = function(type, str) {\n    if (type === ConfigType.COCOSTUDIO) {\n        ccs.triggerManager.parse(JSON.parse(str));\n    }\n};\n\n\nvar _windowTimeIntervalId = 0;\nvar _windowTimeFunHash = {};\nvar WindowTimeFun = cc.Class.extend({\n    _code: null,\n    _intervalId: 0,\n    ctor: function (code) {\n        this._intervalId = _windowTimeIntervalId++;\n        this._code = code;\n    },\n    fun: function () {\n        if (!this._code) return;\n        var code = this._code;\n        if (typeof code == \"string\") {\n            Function(code)();\n        }\n        else if (typeof code == \"function\") {\n            code.apply(null, this._args);\n        }\n    }\n});\n\n/**\n * overwrite window's setTimeout\n @param {String|Function} code\n @param {number} delay\n @return {number}\n */\nvar setTimeout = function (code, delay) {\n    var target = new WindowTimeFun(code);\n    if (arguments.length > 2)\n        target._args = Array.prototype.slice.call(arguments, 2);\n    var original = target.fun;\n    target.fun = function () {\n        original.apply(this, arguments);\n        clearTimeout(target._intervalId);\n    }\n    cc.director.getScheduler().schedule(target.fun, target, delay / 1000, 0, 0, false, target._intervalId+\"\");\n    _windowTimeFunHash[target._intervalId] = target;\n    return target._intervalId;\n};\n\n/**\n * overwrite window's setInterval\n @param {String|Function} code\n @param {number} delay\n @return {number}\n */\nvar setInterval = function (code, delay) {\n    var target = new WindowTimeFun(code);\n    if (arguments.length > 2)\n        target._args = Array.prototype.slice.call(arguments, 2);\n    cc.director.getScheduler().schedule(target.fun, target, delay / 1000, cc.REPEAT_FOREVER, 0, false, target._intervalId+\"\");\n    _windowTimeFunHash[target._intervalId] = target;\n    return target._intervalId;\n};\n\n/**\n * overwrite window's clearInterval\n @param {number} intervalId\n */\nvar clearInterval = function (intervalId) {\n    var target = _windowTimeFunHash[intervalId];\n    if (target) {\n        cc.director.getScheduler().unschedule(target._intervalId+\"\", target);\n        delete _windowTimeFunHash[intervalId];\n    }\n};\nvar clearTimeout = clearInterval;\n\n\n// event listener type\ncc.EventListener.UNKNOWN = 0;\ncc.EventListener.TOUCH_ONE_BY_ONE = 1;\ncc.EventListener.TOUCH_ALL_AT_ONCE = 2;\ncc.EventListener.KEYBOARD = 3;\ncc.EventListener.MOUSE = 4;\ncc.EventListener.ACCELERATION = 5;\ncc.EventListener.FOCUS = 6;\n//game controller 7\ncc.EventListener.CUSTOM = 8;\n\n\ncc.EventListener.create = function(argObj){\n    if(!argObj || !argObj.event){\n        throw \"Invalid parameter.\";\n    }\n    var listenerType = argObj.event;\n    delete argObj.event;\n\n    var listener = null;\n    if(listenerType === cc.EventListener.TOUCH_ONE_BY_ONE) {\n        listener = cc.EventListenerTouchOneByOne.create();\n        if (argObj.swallowTouches) {\n            listener.setSwallowTouches(argObj.swallowTouches);\n        }\n    }\n    else if(listenerType === cc.EventListener.TOUCH_ALL_AT_ONCE)\n        listener = cc.EventListenerTouchAllAtOnce.create();\n    else if(listenerType === cc.EventListener.MOUSE)\n        listener = cc.EventListenerMouse.create();\n    else if(listenerType === cc.EventListener.CUSTOM){\n        listener = cc.EventListenerCustom.create(argObj.eventName, argObj.callback);\n        delete argObj.eventName;\n        delete argObj.callback;\n    } else if(listenerType === cc.EventListener.KEYBOARD)\n        listener = cc.EventListenerKeyboard.create();\n    else if(listenerType === cc.EventListener.ACCELERATION){\n        listener = cc.EventListenerAcceleration.create(argObj.callback);\n        delete argObj.callback;\n    }else if(listenerType === cc.EventListener.FOCUS){\n        listener = cc.EventListenerFocus.create();\n    }\n    else\n    {\n        cc.log(\"Error: Invalid listener type.\");\n    }\n\n    for(var key in argObj) {\n        // Temporary fix for EventMouse to support getDelta functions (doesn't exist in Cocos2d-x)\n        if (key == \"onMouseDown\" || key == \"onMouseMove\")\n            listener[\"_\" + key] = argObj[key];\n        else listener[key] = argObj[key];\n    }\n\n    return listener;\n};\n\n\n// Event manager\ncc.eventManager.addListener = function(listener, nodeOrPriority) {\n    if(!(listener instanceof cc.EventListener)) {\n        listener = cc.EventListener.create(listener);\n    }\n\n    if (typeof nodeOrPriority == \"number\") {\n        if (nodeOrPriority == 0) {\n            cc.log(\"0 priority is forbidden for fixed priority since it's used for scene graph based priority.\");\n            return;\n        }\n\n        cc.eventManager.addEventListenerWithFixedPriority(listener, nodeOrPriority);\n    } else {\n        cc.eventManager.addEventListenerWithSceneGraphPriority(listener, nodeOrPriority);\n    }\n\n    return listener;\n};\n\ncc.eventManager.dispatchCustomEvent = function (eventName, optionalUserData) {\n    var ev = new cc.EventCustom(eventName);\n    ev.setUserData(optionalUserData);\n    this.dispatchEvent(ev);\n};\n\ncc.EventCustom.prototype.setUserData = function(userData) {\n    this._userData = userData;\n};\n\ncc.EventCustom.prototype.getUserData = function() {\n    return this._userData;\n};\n\ncc.inputManager = {\n    setAccelerometerEnabled: cc.Device.setAccelerometerEnabled,\n    setAccelerometerInterval: cc.Device.setAccelerometerInterval,\n    getDPI: cc.Device.getDPI\n};\n\ncc.EventListenerTouchOneByOne.prototype.clone = function() {\n    var ret = cc.EventListenerTouchOneByOne.create();\n    ret.onTouchBegan = this.onTouchBegan;\n    ret.onTouchMoved = this.onTouchMoved;\n    ret.onTouchEnded = this.onTouchEnded;\n    ret.onTouchCancelled = this.onTouchCancelled;\n    ret.setSwallowTouches(this.isSwallowTouches());\n    return ret;\n};\n\ncc.EventListenerTouchAllAtOnce.prototype.clone = function() {\n    var ret = cc.EventListenerTouchAllAtOnce.create();\n    ret.onTouchesBegan = this.onTouchesBegan;\n    ret.onTouchesMoved = this.onTouchesMoved;\n    ret.onTouchesEnded = this.onTouchesEnded;\n    ret.onTouchesCancelled = this.onTouchesCancelled;\n    return ret;\n};\n\ncc.EventListenerKeyboard.prototype.clone = function() {\n    var ret = cc.EventListenerKeyboard.create();\n    ret.onKeyPressed = this.onKeyPressed;\n    ret.onKeyReleased = this.onKeyReleased;\n    return ret;\n};\n\ncc.EventListenerFocus.prototype.clone = function() {\n    var ret = cc.EventListenerFocus.create();\n    ret.onFocusChanged = this.onFocusChanged;\n    return ret;\n};\n\ncc.EventListenerMouse.prototype.clone = function() {\n    var ret = cc.EventListenerMouse.create();\n    ret._onMouseDown = this._onMouseDown;\n    ret._onMouseMove = this._onMouseMove;\n    ret.onMouseUp = this.onMouseUp;\n    ret.onMouseScroll = this.onMouseScroll;\n    return ret;\n};\ncc.EventListenerMouse.prototype.onMouseMove = function(event) {\n    if (!this._onMouseMove)\n        return;\n    event._listener = this;\n    this._onMouseMove(event);\n    this._previousX = event.getLocationX();\n    this._previousY = event.getLocationY();\n};\ncc.EventListenerMouse.prototype.onMouseDown = function(event) {\n    if (!this._onMouseDown)\n        return;\n    event._listener = this;\n    this._previousX = event.getLocationX();\n    this._previousY = event.getLocationY();\n    this._onMouseDown(event);\n};\n\ncc.EventListenerKeyboard.prototype._onKeyPressed = function(keyCode, event) {\n    if (!this.onKeyPressed)\n        return;\n    this.onKeyPressed(jsbKeyArr[keyCode], event);\n};\n\ncc.EventListenerKeyboard.prototype._onKeyReleased = function(keyCode, event) {\n    if (!this.onKeyReleased)\n        return;\n    this.onKeyReleased(jsbKeyArr[keyCode], event);\n};\n\ncc.EventMouse.prototype.getLocation = function(){\n    return { x: this.getLocationX(), y: this.getLocationY() };\n};\n\ncc.EventMouse.prototype.getLocationInView = function() {\n    return {x: this.getLocationX(), y: cc.view.getDesignResolutionSize().height - this.getLocationY()};\n};\n\n// Temporary fix for EventMouse to support getDelta functions (doesn't exist in Cocos2d-x)\ncc.EventMouse.prototype.getDelta = function(){\n    if (isNaN(this._listener._previousX)) {\n        this._listener._previousX = this.getLocationX();\n        this._listener._previousY = this.getLocationY();\n    }\n    return { x: this.getLocationX() - this._listener._previousX, y: this.getLocationY() - this._listener._previousY };\n};\n\ncc.EventMouse.prototype.getDeltaX = function(){\n    if (isNaN(this._listener._previousX)) {\n        this._listener._previousX = this.getLocationX();\n        this._listener._previousY = this.getLocationY();\n    }\n    return this.getLocationX() - this._listener._previousX;\n};\n\ncc.EventMouse.prototype.getDeltaY = function(){\n    if (isNaN(this._listener._previousX)) {\n        this._listener._previousX = this.getLocationX();\n        this._listener._previousY = this.getLocationY();\n    }\n    return this.getLocationY() - this._listener._previousY;\n};\n\ncc.Touch.prototype.getLocationX = function(){\n    return this.getLocation().x;\n};\n\ncc.Touch.prototype.getLocationY = function(){\n    return this.getLocation().y;\n};\n\ncc.Director.EVENT_PROJECTION_CHANGED = \"director_projection_changed\";\ncc.Director.EVENT_AFTER_DRAW = \"director_after_draw\";\ncc.Director.EVENT_AFTER_VISIT = \"director_after_visit\";\ncc.Director.EVENT_BEFORE_UPDATE = \"director_before_update\";\ncc.Director.EVENT_AFTER_UPDATE = \"director_after_update\";\ncc.Director.EVENT_BEFORE_SCENE_LAUNCH = \"director_before_scene_launch\";\n\ncc.Director.prototype.runScene = cc.Director.prototype.replaceScene;\n\ncc.visibleRect = {\n    topLeft:cc.p(0,0),\n    topRight:cc.p(0,0),\n    top:cc.p(0,0),\n    bottomLeft:cc.p(0,0),\n    bottomRight:cc.p(0,0),\n    bottom:cc.p(0,0),\n    center:cc.p(0,0),\n    left:cc.p(0,0),\n    right:cc.p(0,0),\n    width:0,\n    height:0,\n\n    init:function(){\n        var origin = cc.director.getVisibleOrigin();\n        var size = cc.director.getVisibleSize();\n        var w = this.width = size.width;\n        var h = this.height = size.height;\n        var l = origin.x,\n            b = origin.y,\n            t = b + h,\n            r = l + w;\n\n        //top\n        this.topLeft.x = l;\n        this.topLeft.y = t;\n        this.topRight.x = r;\n        this.topRight.y = t;\n        this.top.x = l + w/2;\n        this.top.y = t;\n\n        //bottom\n        this.bottomLeft.x = l;\n        this.bottomLeft.y = b;\n        this.bottomRight.x = r;\n        this.bottomRight.y = b;\n        this.bottom.x = l + w/2;\n        this.bottom.y = b;\n\n        //center\n        this.center.x = l + w/2;\n        this.center.y = b + h/2;\n\n        //left\n        this.left.x = l;\n        this.left.y = b + h/2;\n\n        //right\n        this.right.x = r;\n        this.right.y = b + h/2;\n    }\n};\ncc.visibleRect.init();\n\n// Predefined font definition\ncc.FontDefinition = function () {\n    this.fontName = \"Arial\";\n    this.fontSize = 12;\n    this.textAlign = cc.TEXT_ALIGNMENT_CENTER;\n    this.verticalAlign = cc.VERTICAL_TEXT_ALIGNMENT_TOP;\n    this.fillStyle = cc.color(255, 255, 255, 255);\n    this.boundingWidth = 0;\n    this.boundingHeight = 0;\n\n    this.strokeEnabled = false;\n    this.strokeStyle = cc.color(255, 255, 255, 255);\n    this.lineWidth = 1;\n\n    this.shadowEnabled = false;\n    this.shadowOffsetX = 0;\n    this.shadowOffsetY = 0;\n    this.shadowBlur = 0;\n    this.shadowOpacity = 1.0;\n};\n\n\n// Array utils\n\n/**\n * Verify Array's Type\n * @param {Array} arr\n * @param {function} type\n * @return {Boolean}\n * @function\n */\ncc.arrayVerifyType = function (arr, type) {\n    if (arr && arr.length > 0) {\n        for (var i = 0; i < arr.length; i++) {\n            if (!(arr[i] instanceof  type)) {\n                cc.log(\"element type is wrong!\");\n                return false;\n            }\n        }\n    }\n    return true;\n};\n\n/**\n * Searches for the first occurrence of object and removes it. If object is not found the function has no effect.\n * @function\n * @param {Array} arr Source Array\n * @param {*} delObj  remove object\n */\ncc.arrayRemoveObject = function (arr, delObj) {\n    for (var i = 0, l = arr.length; i < l; i++) {\n        if (arr[i] == delObj) {\n            arr.splice(i, 1);\n            break;\n        }\n    }\n};\n\n/**\n * Removes from arr all values in minusArr. For each Value in minusArr, the first matching instance in arr will be removed.\n * @function\n * @param {Array} arr Source Array\n * @param {Array} minusArr minus Array\n */\ncc.arrayRemoveArray = function (arr, minusArr) {\n    for (var i = 0, l = minusArr.length; i < l; i++) {\n        cc.arrayRemoveObject(arr, minusArr[i]);\n    }\n};\n\n/**\n * Inserts some objects at index\n * @function\n * @param {Array} arr\n * @param {Array} addObjs\n * @param {Number} index\n * @return {Array}\n */\ncc.arrayAppendObjectsToIndex = function(arr, addObjs,index){\n    arr.splice.apply(arr, [index, 0].concat(addObjs));\n    return arr;\n};\n\n/**\n * Copy an array's item to a new array (its performance is better than Array.slice)\n * @param {Array} arr\n * @returns {Array}\n */\ncc.copyArray = function(arr){\n    var i, len = arr.length, arr_clone = new Array(len);\n    for (i = 0; i < len; i += 1)\n        arr_clone[i] = arr[i];\n    return arr_clone;\n};\n\n\n\n//\n// DrawNode JS API Wrapper\n//\n\ncc.cardinalSplineAt = function (p0, p1, p2, p3, tension, t) {\n    var t2 = t * t;\n    var t3 = t2 * t;\n\n    var s = (1 - tension) / 2;\n\n    var b1 = s * ((-t3 + (2 * t2)) - t);                      // s(-t3 + 2 t2 - t)P1\n    var b2 = s * (-t3 + t2) + (2 * t3 - 3 * t2 + 1);          // s(-t3 + t2)P2 + (2 t3 - 3 t2 + 1)P2\n    var b3 = s * (t3 - 2 * t2 + t) + (-2 * t3 + 3 * t2);      // s(t3 - 2 t2 + t)P3 + (-2 t3 + 3 t2)P3\n    var b4 = s * (t3 - t2);                                   // s(t3 - t2)P4\n\n    var x = (p0.x * b1 + p1.x * b2 + p2.x * b3 + p3.x * b4);\n    var y = (p0.y * b1 + p1.y * b2 + p2.y * b3 + p3.y * b4);\n    return cc.p(x, y);\n};\n\ncc._DrawNode = cc.DrawNode;\ncc._DrawNode.prototype.drawPoly = function (verts, fillColor, borderWidth, borderColor) {\n    cc._DrawNode.prototype.drawPolygon.call(this, verts, verts.length, fillColor, borderWidth, borderColor);\n}\ncc.DrawNode = cc._DrawNode.extend({\n    _drawColor: cc.color(255, 255, 255, 255),\n    _lineWidth: 1,\n\n    release: function () {},\n\n    setLineWidth: function (width) {\n        this._lineWidth = width;\n    },\n\n    getLineWidth: function () {\n        return this._lineWidth;\n    },\n\n    setDrawColor: function(color) {\n        var locDrawColor = this._drawColor;\n        locDrawColor.r = color.r;\n        locDrawColor.g = color.g;\n        locDrawColor.b = color.b;\n        locDrawColor.a = (color.a == null) ? 255 : color.a;\n    },\n\n    getDrawColor: function () {\n        return  cc.color(this._drawColor.r, this._drawColor.g, this._drawColor.b, this._drawColor.a);\n    },\n\n    drawRect: function (origin, destination, fillColor, lineWidth, lineColor) {\n        lineWidth = lineWidth || this._lineWidth;\n        lineColor = lineColor || this._drawColor;\n        var points = [origin, cc.p(origin.x, destination.y), destination, cc.p(destination.x, origin.y)];\n        if (fillColor)\n            cc._DrawNode.prototype.drawPoly.call(this, points, fillColor, lineWidth, lineColor);\n        else {\n            points.push(origin);\n            var drawSeg = cc._DrawNode.prototype.drawSegment;\n            for (var i = 0, len = points.length; i < len - 1; i++)\n                drawSeg.call(this, points[i], points[i + 1], lineWidth, lineColor);\n        }\n    },\n\n    drawCircle: function (center, radius, angle, segments, drawLineToCenter, lineWidth, color) {\n        lineWidth = lineWidth || this._lineWidth;\n        color = color || this._drawColor;\n        if (color.a == null)\n            color.a = 255;\n        var coef = 2.0 * Math.PI / segments, vertices = [], i, len;\n        for (i = 0; i <= segments; i++) {\n            var rads = i * coef;\n            var j = radius * Math.cos(rads + angle) + center.x;\n            var k = radius * Math.sin(rads + angle) + center.y;\n            vertices.push(cc.p(j, k));\n        }\n        if (drawLineToCenter)\n            vertices.push(cc.p(center.x, center.y));\n\n        lineWidth *= 0.5;\n        var drawSeg = cc._DrawNode.prototype.drawSegment;\n        for (i = 0, len = vertices.length; i < len - 1; i++)\n            drawSeg.call(this, vertices[i], vertices[i + 1], lineWidth, color);\n    },\n\n    drawQuadBezier: function (origin, control, destination, segments, lineWidth, color) {\n        lineWidth = lineWidth || this._lineWidth;\n        color = color || this._drawColor;\n        cc._DrawNode.prototype.drawQuadBezier.call(this, origin, control, destination, segments, color);\n    },\n\n    drawCubicBezier: function (origin, control1, control2, destination, segments, lineWidth, color) {\n        lineWidth = lineWidth || this._lineWidth;\n        color = color || this._drawColor;\n        cc._DrawNode.prototype.drawCubicBezier.call(this, origin, control1, control2, destination, segments, color);\n    },\n\n    drawCatmullRom: function (points, segments, lineWidth, color) {\n        this.drawCardinalSpline(points, 0.5, segments, lineWidth, color);\n    },\n\n    drawCardinalSpline: function (config, tension, segments, lineWidth, color) {\n        lineWidth = lineWidth || this._lineWidth;\n        color = color || this._drawColor;\n        if (color.a == null)\n            color.a = 255;\n        var vertices = [], p, lt, deltaT = 1.0 / config.length, m1len = config.length - 1;\n\n        for (var i = 0; i < segments + 1; i++) {\n            var dt = i / segments;\n\n            // border\n            if (dt == 1) {\n                p = m1len;\n                lt = 1;\n            } else {\n                p = 0 | (dt / deltaT);\n                lt = (dt - deltaT * p) / deltaT;\n            }\n\n            // Interpolate\n            var newPos = cc.cardinalSplineAt(\n                config[Math.min(m1len, Math.max(p - 1, 0))],\n                config[Math.min(m1len, Math.max(p + 0, 0))],\n                config[Math.min(m1len, Math.max(p + 1, 0))],\n                config[Math.min(m1len, Math.max(p + 2, 0))],\n                tension, lt);\n            vertices.push(newPos);\n        }\n\n        lineWidth *= 0.5;\n        var drawSeg = cc._DrawNode.prototype.drawSegment;\n        for (var j = 0, len = vertices.length; j < len - 1; j++)\n            drawSeg.call(this, vertices[j], vertices[j + 1], lineWidth, color);\n    },\n\n    drawDot:function (pos, radius, color) {\n        color = color || this._drawColor;\n        cc._DrawNode.prototype.drawDot.call(this, pos, radius, color);\n    },\n\n    drawSegment:function (from, to, lineWidth = this._lineWidth, color = this._drawColor) {\n        cc._DrawNode.prototype.drawSegment.call(this, from, to, lineWidth, color);\n    },\n\n    drawPoly:function (verts, fillColor, borderWidth, borderColor) {\n        borderColor = borderColor || this._drawColor;\n        if (fillColor)\n            cc._DrawNode.prototype.drawPoly.call(this, verts, fillColor, borderWidth, borderColor);\n        else {\n            verts.push(verts[0]);\n            var drawSeg = cc._DrawNode.prototype.drawSegment;\n            for (var i = 0, len = verts.length; i < len - 1; i++)\n                drawSeg.call(this, verts[i], verts[i + 1], borderWidth, borderColor);\n        }\n    }\n});\ncc.DrawNode.create = function () {\n    return new cc.DrawNode();\n};\n\n\n//\n// TMX classes JS API Wrapper\n//\n\ncc.TMXTiledMap.prototype.allLayers = function(){\n    var retArr = [],\n        locChildren = this.getChildren(),\n        length = locChildren.length;\n    for(var i = 0; i< length; i++){\n        var layer = locChildren[i];\n        if(layer && layer instanceof cc.TMXLayer)\n            retArr.push(layer);\n    }\n    return retArr;\n};\ncc.TMXLayer.prototype._getTileAt = cc.TMXLayer.prototype.getTileAt;\ncc.TMXLayer.prototype.getTileAt = function(x, y){\n    var pos = y !== undefined ? cc.p(x, y) : x;\n    return this._getTileAt(pos);\n};\ncc.TMXLayer.prototype._getTileGIDAt = cc.TMXLayer.prototype.getTileGIDAt;\ncc.TMXLayer.prototype.getTileGIDAt = function(x, y){\n    var pos = y !== undefined ? cc.p(x, y) : x;\n    return this._getTileGIDAt(pos);\n};\ncc.TMXLayer.prototype._setTileGID = cc.TMXLayer.prototype.setTileGID;\ncc.TMXLayer.prototype.setTileGID = function(gid, posOrX, flagsOrY, flags){\n    var pos;\n    if (flags !== undefined) {\n        pos = cc.p(posOrX, flagsOrY);\n        this._setTileGID(gid, pos, flags);\n    } else if(flagsOrY != undefined){\n        pos = posOrX;\n        flags = flagsOrY;\n        this._setTileGID(gid, pos, flags);\n    } else {\n        this._setTileGID(gid, posOrX);\n    }\n};\ncc.TMXLayer.prototype._removeTileAt = cc.TMXLayer.prototype.removeTileAt;\ncc.TMXLayer.prototype.removeTileAt = function(x, y){\n    var pos = y !== undefined ? cc.p(x, y) : x;\n    this._removeTileAt(pos);\n};\ncc.TMXLayer.prototype._getPositionAt = cc.TMXLayer.prototype.getPositonAt;\ncc.TMXLayer.prototype.getPositonAt = function(x, y){\n    var pos = y !== undefined ? cc.p(x, y) : x;\n    return this._getPositionAt(pos);\n};\n\n\n//\n// setBlendFunc JS API Wrapper\n//\n\nvar protoHasBlend = [cc.AtlasNode.prototype,\n                     cc.DrawNode.prototype,\n                     cc.LabelTTF.prototype,\n                     cc.SpriteBatchNode.prototype,\n                     cc.LabelBMFont.prototype,\n                     cc.LayerColor.prototype,\n                     cc.MotionStreak.prototype,\n                     cc.Sprite.prototype,\n                     cc.ParticleBatchNode.prototype,\n                     cc.ParticleSystem.prototype];\n\nvar templateSetBlendFunc = function(src, dst) {\n    var blendf;\n    if (dst === undefined)\n        blendf = src;\n    else\n        blendf = {src: src, dst: dst};\n    this._setBlendFunc(blendf);\n};\nfor (var i = 0, l = protoHasBlend.length; i < l; i++) {\n    var proto = protoHasBlend[i];\n    proto._setBlendFunc = proto.setBlendFunc;\n    proto.setBlendFunc = templateSetBlendFunc;\n}\n\n\n//\n// Ease actions JS API Wrapper\n//\n\nvar easeActions = {\n    easeIn : 0,\n    easeOut : 1,\n    easeInOut : 2,\n    easeExponentialIn : 3,\n    easeExponentialOut : 4,\n    easeExponentialInOut : 5,\n    easeSineIn : 6,\n    easeSineOut : 7,\n    easeSineInOut : 8,\n    easeElasticIn : 9,\n    easeElasticOut : 10,\n    easeElasticInOut : 11,\n    easeBounceIn : 12,\n    easeBounceOut : 13,\n    easeBounceInOut : 14,\n    easeBackIn : 15,\n    easeBackOut : 16,\n    easeBackInOut : 17,\n\n    easeBezierAction : 18,\n    easeQuadraticActionIn : 19,\n    easeQuadraticActionOut : 20,\n    easeQuadraticActionInOut : 21,\n    easeQuarticActionIn : 22,\n    easeQuarticActionOut : 23,\n    easeQuarticActionInOut : 24,\n    easeQuinticActionIn : 25,\n    easeQuinticActionOut : 26,\n    easeQuinticActionInOut : 27,\n    easeCircleActionIn : 28,\n    easeCircleActionOut : 29,\n    easeCircleActionInOut : 30,\n    easeCubicActionIn : 31,\n    easeCubicActionOut : 32,\n    easeCubicActionInOut : 33\n};\n\nfunction templateEaseActions(actionTag) {\n    return function(param, param2, param3, param4) {\n        return {tag: actionTag, param: param, param2: param2, param3: param3, param4: param4};\n    }\n}\n\nfor (var a in easeActions) {\n    var actionTag = easeActions[a];\n    cc[a] = templateEaseActions(actionTag);\n}\n\n// Action2d\ncc.action = cc.Action.create;\ncc.speed = cc.Speed.create;\ncc.follow = cc.Follow.create;\ncc.orbitCamera = cc.OrbitCamera.create;\ncc.cardinalSplineTo = cc.CardinalSplineTo.create;\ncc.cardinalSplineBy = cc.CardinalSplineBy.create;\ncc.catmullRomTo = cc.CatmullRomTo.create;\ncc.catmullRomBy = cc.CatmullRomBy.create;\ncc.show = cc.Show.create;\ncc.hide = cc.Hide.create;\ncc.toggleVisibility = cc.ToggleVisibility.create;\ncc.removeSelf = cc.RemoveSelf.create;\ncc.flipX = cc.FlipX.create;\ncc.flipY = cc.FlipY.create;\n// cc.place = cc.Place.create;\ncc.callFunc = cc.CallFunc.create;\ncc.actionInterval = cc.ActionInterval.create;\ncc.sequence = cc.Sequence.create;\ncc.repeat = cc.Repeat.create;\ncc.repeatForever = cc.RepeatForever.create;\ncc.spawn = cc.Spawn.create;\ncc.rotateTo = cc.RotateTo.create;\ncc.rotateBy = cc.RotateBy.create;\n//cc.moveBy = cc.MoveBy.create;\n//cc.moveTo = cc.MoveTo.create;\ncc.skewTo = cc.SkewTo.create;\ncc.skewBy = cc.SkewBy.create;\n//cc.jumpBy = cc.JumpBy.create;\n//cc.jumpTo = cc.JumpTo.create;\ncc.bezierBy = cc.BezierBy.create;\ncc.bezierTo = cc.BezierTo.create;\ncc.scaleTo = cc.ScaleTo.create;\ncc.scaleBy = cc.ScaleBy.create;\ncc.blink = cc.Blink.create;\ncc.fadeTo = cc.FadeTo.create;\ncc.fadeIn = cc.FadeIn.create;\ncc.fadeOut = cc.FadeOut.create;\ncc.tintTo = cc.TintTo.create;\ncc.tintBy = cc.TintBy.create;\ncc.delayTime = cc.DelayTime.create;\ncc.reverseTime = cc.ReverseTime.create;\ncc.animate = cc.Animate.create;\ncc.targetedAction = cc.TargetedAction.create;\ncc.actionTween = cc.ActionTween.create;\n\ncc.Place._create = cc.Place.create;\ncc.place = cc.Place.create = function(posOrX, y){\n    if (undefined === y){\n        return cc.Place._create(posOrX);\n    }else{\n        return cc.Place._create(cc.p(posOrX, y));\n    }\n};\ncc.MoveTo._create = cc.MoveTo.create;\ncc.moveTo = cc.MoveTo.create = function(duration, posOrX, y){\n    if (undefined === y){\n        return cc.MoveTo._create(duration, posOrX);\n    }else{\n        return cc.MoveTo._create(duration, cc.p(posOrX, y));\n    }\n};\ncc.MoveBy._create = cc.MoveBy.create;\ncc.moveBy = cc.MoveBy.create = function(duration, posOrX, y){\n    if (undefined === y){\n        return cc.MoveBy._create(duration, posOrX);\n    }else{\n        return cc.MoveBy._create(duration, cc.p(posOrX, y));\n    }\n};\ncc.JumpTo._create = cc.JumpTo.create;\ncc.jumpTo = cc.JumpTo.create = function(duration, position, y, height, jumps){\n    if (undefined === jumps){\n        jumps = height;\n        height = y;\n        return cc.JumpTo._create(duration, position, height, jumps);\n    }else{\n        return cc.JumpTo._create(duration, cc.p(position, y), height, jumps);\n    }\n};\ncc.JumpBy._create = cc.JumpBy.create;\ncc.jumpBy = cc.JumpBy.create = function(duration, position, y, height, jumps){\n    if (undefined === jumps){\n        jumps = height;\n        height = y;\n        return cc.JumpBy._create(duration, position, height, jumps);\n    }else{\n        return cc.JumpBy._create(duration, cc.p(position, y), height, jumps);\n    }\n};\n\n// Actions3d\ncc.gridAction = cc.GridAction.create;\ncc.grid3DAction = cc.Grid3DAction.create;\ncc.tiledGrid3DAction = cc.TiledGrid3DAction.create;\ncc.stopGrid = cc.StopGrid.create;\ncc.reuseGrid = cc.ReuseGrid.create;\ncc.waves3D = cc.Waves3D.create;\ncc.flipX3D = cc.FlipX3D.create;\ncc.flipY3D = cc.FlipY3D.create;\ncc.lens3D = cc.Lens3D.create;\ncc.ripple3D = cc.Ripple3D.create;\ncc.shaky3D = cc.Shaky3D.create;\ncc.liquid = cc.Liquid.create;\ncc.waves = cc.Waves.create;\ncc.twirl = cc.Twirl.create;\ncc.pageTurn3D = cc.PageTurn3D.create;\ncc.shakyTiles3D = cc.ShakyTiles3D.create;\ncc.shatteredTiles3D = cc.ShatteredTiles3D.create;\ncc.shuffleTiles = cc.ShuffleTiles.create;\ncc.fadeOutTRTiles = cc.FadeOutTRTiles.create;\ncc.fadeOutBLTiles = cc.FadeOutBLTiles.create;\ncc.fadeOutUpTiles = cc.FadeOutUpTiles.create;\ncc.fadeOutDownTiles = cc.FadeOutDownTiles.create;\ncc.turnOffTiles = cc.TurnOffTiles.create;\ncc.wavesTiles3D = cc.WavesTiles3D.create;\ncc.jumpTiles3D = cc.JumpTiles3D.create;\ncc.splitRows = cc.SplitRows.create;\ncc.splitCols = cc.SplitCols.create;\ncc.progressTo = cc.ProgressTo.create;\ncc.progressFromTo = cc.ProgressFromTo.create;\n\n// Speed functions\ncc.Speed.prototype.speed = cc.ActionInterval.prototype.speed = function(speed) {\n//    if (speed < 0) {\n//        cc.warn(\"cc.ActionInterval#speed : Speed must not be negative\");\n//        return;\n//    }\n    var action = this, found = false;\n    while (action.getInnerAction && !found) {\n        if (action instanceof cc.Speed) {\n            found = true;\n        }\n        else {\n            action = action.getInnerAction();\n        }\n    }\n    if (found) {\n        speed = speed * action._getSpeed();\n        action._setSpeed(speed);\n    }\n    else {\n        this._speed(speed);\n    }\n    return this;\n};\ncc.Speed.prototype.setSpeed = cc.ActionInterval.prototype.setSpeed = function(speed) {\n//    if (speed < 0) {\n//        cc.warn(\"cc.ActionInterval#setSpeed : Speed must not be negative\");\n//        return;\n//    }\n    var action = this, found = false;\n    while (action.getInnerAction && !found) {\n        if (action instanceof cc.Speed) {\n            found = true;\n        }\n        else {\n            action = action.getInnerAction();\n        }\n    }\n    if (found) {\n        action._setSpeed(speed);\n    }\n    else {\n        this._speed(speed);\n    }\n};\ncc.Speed.prototype.getSpeed = cc.ActionInterval.prototype.getSpeed = function() {\n    var action = this, found = false;\n    while (action.getInnerAction && !found) {\n        if (action instanceof cc.Speed) {\n            found = true;\n        }\n        else {\n            action = action.getInnerAction();\n        }\n    }\n    if (found) {\n        return action._getSpeed();\n    }\n    else {\n        return 1;\n    }\n};\n\n//\n//AffineTransform API\n//\n\n/**\n * @memberOf cc\n * @function\n * @param {Number} a\n * @param {Number} b\n * @param {Number} c\n * @param {Number} d\n * @param {Number} tx\n * @param {Number} ty\n */\ncc.AffineTransform = function (a, b, c, d, tx, ty) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.tx = tx;\n    this.ty = ty;\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {Number} a\n * @param {Number} b\n * @param {Number} c\n * @param {Number} d\n * @param {Number} tx\n * @param {Number} ty\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformMake = function (a, b, c, d, tx, ty) {\n    return {a: a, b: b, c: c, d: d, tx: tx, ty: ty};\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {cc.Point} point\n * @param {cc.AffineTransform} t\n * @return {cc.Point}\n * Constructor\n */\ncc.pointApplyAffineTransform = function (point, t) {\n    return {x: t.a * point.x + t.c * point.y + t.tx, y: t.b * point.x + t.d * point.y + t.ty};\n};\n\ncc._pointApplyAffineTransform = function (x, y, t) {\n    return {x: t.a * x + t.c * y + t.tx,\n        y: t.b * x + t.d * y + t.ty};\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {cc.Size} size\n * @param {cc.AffineTransform} t\n * @return {cc.Size}\n * Constructor\n */\ncc.sizeApplyAffineTransform = function (size, t) {\n    return {width: t.a * size.width + t.c * size.height, height: t.b * size.width + t.d * size.height};\n};\n\n/**\n * @memberOf cc\n * @function\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformMakeIdentity = function () {\n    return {a: 1.0, b: 0.0, c: 0.0, d: 1.0, tx: 0.0, ty: 0.0};\n};\n\n/**\n * @memberOf cc\n * @function\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformIdentity = function () {\n    return {a: 1.0, b: 0.0, c: 0.0, d: 1.0, tx: 0.0, ty: 0.0};\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {cc.Rect} rect\n * @param {cc.AffineTransform} anAffineTransform\n * @return {cc.Rect}\n * Constructor\n */\ncc.rectApplyAffineTransform = function (rect, anAffineTransform) {\n    var top = cc.rectGetMinY(rect);\n    var left = cc.rectGetMinX(rect);\n    var right = cc.rectGetMaxX(rect);\n    var bottom = cc.rectGetMaxY(rect);\n\n    var topLeft = cc._pointApplyAffineTransform(left, top, anAffineTransform);\n    var topRight = cc._pointApplyAffineTransform(right, top, anAffineTransform);\n    var bottomLeft = cc._pointApplyAffineTransform(left, bottom, anAffineTransform);\n    var bottomRight = cc._pointApplyAffineTransform(right, bottom, anAffineTransform);\n\n    var minX = Math.min(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);\n    var maxX = Math.max(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);\n    var minY = Math.min(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);\n    var maxY = Math.max(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);\n\n    return cc.rect(minX, minY, (maxX - minX), (maxY - minY));\n};\n\ncc._rectApplyAffineTransformIn = function(rect, anAffineTransform){\n    var top = cc.rectGetMinY(rect);\n    var left = cc.rectGetMinX(rect);\n    var right = cc.rectGetMaxX(rect);\n    var bottom = cc.rectGetMaxY(rect);\n\n    var topLeft = cc._pointApplyAffineTransform(left, top, anAffineTransform);\n    var topRight = cc._pointApplyAffineTransform(right, top, anAffineTransform);\n    var bottomLeft = cc._pointApplyAffineTransform(left, bottom, anAffineTransform);\n    var bottomRight = cc._pointApplyAffineTransform(right, bottom, anAffineTransform);\n\n    var minX = Math.min(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);\n    var maxX = Math.max(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);\n    var minY = Math.min(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);\n    var maxY = Math.max(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);\n\n    rect.x = minX;\n    rect.y = minY;\n    rect.width = maxX - minX;\n    rect.height = maxY - minY;\n    return rect;\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {cc.AffineTransform} t\n * @param {Number} tx\n * @param {Number}ty\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformTranslate = function (t, tx, ty) {\n    return {\n        a: t.a,\n        b: t.b,\n        c: t.c,\n        d: t.d,\n        tx: t.tx + t.a * tx + t.c * ty,\n        ty: t.ty + t.b * tx + t.d * ty\n    };\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {cc.AffineTransform} t\n * @param {Number} sx\n * @param {Number} sy\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformScale = function (t, sx, sy) {\n    return {a: t.a * sx, b: t.b * sx, c: t.c * sy, d: t.d * sy, tx: t.tx, ty: t.ty};\n};\n\n/**\n * @memberOf cc\n * @function\n * @param {cc.AffineTransform} aTransform\n * @param {Number} anAngle\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformRotate = function (aTransform, anAngle) {\n    var fSin = Math.sin(anAngle);\n    var fCos = Math.cos(anAngle);\n\n    return {a: aTransform.a * fCos + aTransform.c * fSin,\n        b: aTransform.b * fCos + aTransform.d * fSin,\n        c: aTransform.c * fCos - aTransform.a * fSin,\n        d: aTransform.d * fCos - aTransform.b * fSin,\n        tx: aTransform.tx,\n        ty: aTransform.ty};\n};\n\n/**\n * Concatenate `t2' to `t1' and return the result:<br/>\n * t' = t1 * t2\n * @memberOf cc\n * @function\n * @param {cc.AffineTransform} t1\n * @param {cc.AffineTransform} t2\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformConcat = function (t1, t2) {\n    return {a: t1.a * t2.a + t1.b * t2.c,                          //a\n        b: t1.a * t2.b + t1.b * t2.d,                               //b\n        c: t1.c * t2.a + t1.d * t2.c,                               //c\n        d: t1.c * t2.b + t1.d * t2.d,                               //d\n        tx: t1.tx * t2.a + t1.ty * t2.c + t2.tx,                    //tx\n        ty: t1.tx * t2.b + t1.ty * t2.d + t2.ty};                   //ty\n};\n\n/**\n * Concatenate a transform matrix to another<br/>\n * The results are reflected in the first matrix.<br/>\n * t' = t1 * t2\n * @function\n * @param {cc.AffineTransform} t1 The first transform object\n * @param {cc.AffineTransform} t2 The transform object to concatenate\n * @return {cc.AffineTransform} The result of concatenation\n */\ncc.affineTransformConcatIn = function (t1, t2) {\n    var a = t1.a, b = t1.b, c = t1.c, d = t1.d, tx = t1.tx, ty = t1.ty;\n    t1.a = a * t2.a + b * t2.c;\n    t1.b = a * t2.b + b * t2.d;\n    t1.c = c * t2.a + d * t2.c;\n    t1.d = c * t2.b + d * t2.d;\n    t1.tx = tx * t2.a + ty * t2.c + t2.tx;\n    t1.ty = tx * t2.b + ty * t2.d + t2.ty;\n    return t1;\n};\n\n/**\n * Return true if `t1' and `t2' are equal, false otherwise.\n * @memberOf cc\n * @function\n * @param {cc.AffineTransform} t1\n * @param {cc.AffineTransform} t2\n * @return {Boolean}\n * Constructor\n */\ncc.affineTransformEqualToTransform = function (t1, t2) {\n    return ((t1.a === t2.a) && (t1.b === t2.b) && (t1.c === t2.c) && (t1.d === t2.d) && (t1.tx === t2.tx) && (t1.ty === t2.ty));\n};\n\n/**\n * Get the invert value of an AffineTransform object\n * @memberOf cc\n * @function\n * @param {cc.AffineTransform} t\n * @return {cc.AffineTransform}\n * Constructor\n */\ncc.affineTransformInvert = function (t) {\n    var determinant = 1 / (t.a * t.d - t.b * t.c);\n    return {a: determinant * t.d, b: -determinant * t.b, c: -determinant * t.c, d: determinant * t.a,\n        tx: determinant * (t.c * t.ty - t.d * t.tx), ty: determinant * (t.b * t.tx - t.a * t.ty)};\n};\n\n\n//\n// Node API\n//\n\ncc.Node.prototype.setUserData = function (data) {\n    this.userData = data;\n};\ncc.Node.prototype.getUserData = function () {\n    return this.userData;\n};\n\n//for compatibility with html5\ncc.Node.prototype._setNormalizedPosition = cc.Node.prototype.setNormalizedPosition;\ncc.Node.prototype.setNormalizedPosition = function(pos, y){\n    if(y === undefined)\n        cc.Node.prototype._setNormalizedPosition.call(this, pos);\n    else\n        cc.Node.prototype._setNormalizedPosition.call(this, cc.p(pos, y));\n};\n\n/** returns a \"world\" axis aligned bounding box of the node. <br/>\n * @return {cc.Rect}\n */\ncc.Node.prototype.getBoundingBoxToWorld = function () {\n    var contentSize = this.getContentSize();\n    var rect = cc.rect(0, 0, contentSize.width, contentSize.height);\n    var trans = this.getNodeToWorldTransform();\n    rect = cc.rectApplyAffineTransform(rect, trans);\n\n    //query child's BoundingBox\n    if (!this.getChildren())\n        return rect;\n\n    var locChildren = this.getChildren();\n    for (var i = 0; i < locChildren.length; i++) {\n        var child = locChildren[i];\n        if (child && child.isVisible()) {\n            var childRect = child._getBoundingBoxToCurrentNode(trans);\n            if (childRect)\n                rect = cc.rectUnion(rect, childRect);\n        }\n    }\n    return rect;\n};\n\ncc.Node.prototype._getBoundingBoxToCurrentNode = function (parentTransform) {\n    var contentSize = this.getContentSize();\n    var rect = cc.rect(0, 0, contentSize.width, contentSize.height);\n    var _trans = this.getNodeToParentTransform();\n    var trans = (parentTransform == null) ? _trans : cc.affineTransformConcat(_trans, parentTransform);\n    rect = cc.rectApplyAffineTransform(rect, trans);\n\n    //query child's BoundingBox\n    if (!this.getChildren())\n        return rect;\n\n    var locChildren = this.getChildren();\n    for (var i = 0; i < locChildren.length; i++) {\n        var child = locChildren[i];\n        if (child && child.isVisible()) {\n            var childRect = child._getBoundingBoxToCurrentNode(trans);\n            if (childRect)\n                rect = cc.rectUnion(rect, childRect);\n        }\n    }\n    return rect;\n};\n\n//\n// cc.Layer bake/unbake/isBaked\n//\ncc.Layer.prototype.bake = cc.Layer.prototype.unbake = function() {};\ncc.Layer.prototype.isBaked = function() {return false;};\n\n\n//\n// RenderTexture beginWithClear\n//\ncc.RenderTexture.prototype._beginWithClear = cc.RenderTexture.prototype.beginWithClear;\ncc.RenderTexture.prototype.beginWithClear = function(r, g, b, a, depthValue, stencilValue) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    a /= 255;\n    this._beginWithClear(r, g, b, a, depthValue, stencilValue);\n};\n\ncc.RenderTexture.prototype._clear = cc.RenderTexture.prototype.clear;\ncc.RenderTexture.prototype.clear = function(r, g, b, a) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    a /= 255;\n    this._clear(r, g, b, a);\n};\n\n//\n// Texture2D setTexParameters\n//\ncc.Texture2D.prototype._setTexParameters = cc.Texture2D.prototype.setTexParameters;\ncc.Texture2D.prototype.setTexParameters = function (texParams, magFilter, wrapS, wrapT) {\n    var minFilter;\n    if (magFilter === undefined) {\n        minFilter = texParams.minFilter;\n        magFilter = texParams.magFilter;\n        wrapS = texParams.wrapS;\n        wrapT = texParams.wrapT;\n    }\n    else minFilter = texParams;\n\n    this._setTexParameters(minFilter, magFilter, wrapS, wrapT);\n};\n\ncc.Texture2D.prototype.handleLoadedTexture = function (premultiplied) {};\n\n// \n// MenuItem setCallback support target\n//\ncc.MenuItem.prototype._setCallback = cc.MenuItem.prototype.setCallback;\ncc.MenuItem.prototype.setCallback = function (callback, target) {\n    this._setCallback(callback.bind(target));\n};\n\n//\n// MenuItemImage support sprite frame name as parameter\n//\nvar _p = cc.MenuItemImage.prototype;\n_p._setNormalSpriteFrame = _p.setNormalSpriteFrame;\n_p._setSelectedSpriteFrame = _p.setSelectedSpriteFrame;\n_p._setDisabledSpriteFrame = _p.setDisabledSpriteFrame;\n_p.setNormalSpriteFrame = function(frame) {\n    if (frame[0] == \"#\") \n        frame = cc.spriteFrameCache.getSpriteFrame(frame.substr(1));\n    this._setNormalSpriteFrame(frame);\n};\n_p.setSelectedSpriteFrame = function(frame) {\n    if (frame[0] == \"#\") \n        frame = cc.spriteFrameCache.getSpriteFrame(frame.substr(1));\n    this._setSelectedSpriteFrame(frame);\n};\n_p.setDisabledSpriteFrame = function(frame) {\n    if (frame[0] == \"#\") \n        frame = cc.spriteFrameCache.getSpriteFrame(frame.substr(1));\n    this._setDisabledSpriteFrame(frame);\n};\n\ncc.MenuItemToggle.prototype.selectedItem = cc.MenuItemToggle.prototype.getSelectedItem;\n\n\n// playMusic searchPaths\nif (cc.sys.os === cc.sys.OS_ANDROID && cc.audioEngine) {\n    cc.audioEngine._playMusic = cc.audioEngine.playMusic;\n    cc.audioEngine.playMusic = function () {\n        var args = arguments;\n        var searchPaths = jsb.fileUtils.getSearchPaths();\n        var path = args[0];\n        searchPaths.some(function (item) {\n            var temp = item + '/' + path;\n            var exists = jsb.fileUtils.isFileExist(temp);\n            if (exists) {\n                path = temp;\n                return true;\n            }\n        });\n        args[0] = path;\n        cc.audioEngine._playMusic.apply(cc.audioEngine, args);\n    };\n}\n\n//\n// LabelTTF API wrappers\n//\ncc.LabelTTF.prototype._setDimensions = cc.LabelTTF.prototype.setDimensions;\ncc.LabelTTF.prototype.setDimensions = function (dim, height) {\n    if (!isNaN(height)) {\n        dim = {width: dim, height: height};\n    }\n    this._setDimensions(dim);\n};\n\ncc.LabelTTF.prototype._enableShadow = cc.LabelTTF.prototype.enableShadow;\ncc.LabelTTF.prototype.enableShadow = function (shadowColor, offset, blurRadius) {\n    var opacity = 1;\n    this._enableShadow(offset, opacity, blurRadius);\n};\n\ncc.LabelTTF.prototype.setDrawMode = function () {};\n\n\n//\n// Label overflow\n//\ncc.Label.Overflow = {\n    NONE: 0,\n    CLAMP: 1,\n    SHRINK: 2,\n    RESIZE_HEIGHT: 3\n};\n\n\n//\n// Label adaptation to LabelTTF/LabelBMFont/LabelAtlas\n//\n_p = cc.Label.prototype;\n_p.enableStroke = _p.enableOutline;\n_p.setBoundingWidth = _p.setWidth;\n_p.setBoundingHeight = _p.setHeight;\n\n\n//\n// cc.Scheduler scheduleCallbackForTarget\n//\n_p = cc.Scheduler.prototype;\n_p.unscheduleUpdateForTarget = _p.unscheduleUpdate;\n_p.unscheduleAllCallbacksForTarget = function (target) {\n    this.unschedule(target.__instanceId + \"\", target);\n};\n_p._schedule = _p.schedule;\n_p.schedule = function (callback, target, interval, repeat, delay, paused, key) {\n    var isSelector = false;\n    if(typeof callback !== \"function\"){\n        var selector = callback;\n        isSelector = true;\n    }\n    if(isSelector === false){\n        //callback, target, interval, repeat, delay, paused, key\n        //callback, target, interval, paused, key\n        if(arguments.length === 4 || arguments.length === 5) {\n            key = delay;\n            paused = repeat;\n            delay = 0;\n            repeat = cc.REPEAT_FOREVER;\n        }\n    }else{\n        //selector, target, interval, repeat, delay, paused\n        //selector, target, interval, paused\n        if(arguments.length === 4){\n            paused = repeat;\n            repeat = cc.REPEAT_FOREVER;\n            delay = 0;\n        }\n    }\n    if (key === undefined) {\n        key = target.__instanceId + \"\";\n    }\n    this._schedule(callback, target, interval, repeat, delay, paused, key);\n};\n\n\ncc._NodeGrid = cc.NodeGrid;\ncc.NodeGrid = function(rect){\n    if (!(this instanceof cc.NodeGrid)){\n        cc.error(\"NodeGrid's constructor can not be called as a function, please use 'new cc.NodeGrid()'\");\n        return;\n    }\n\n    if (rect) {\n        return cc._NodeGrid.create(rect);\n    }\n    else {\n        return cc._NodeGrid.create();\n    }\n}\n\ncc.NodeGrid.create = function(rect){\n    if (rect) {\n        return cc._NodeGrid.create(rect);\n    }\n    else {\n        return cc._NodeGrid.create();\n    }\n}\n\n//\n// cc.BlendFunc\n//\n/**\n * Blend Function used for textures\n * @Class cc.BlendFunc\n * @Constructor\n * @param {Number} src1 source blend function\n * @param {Number} dst1 destination blend function\n */\ncc.BlendFunc = function (src1, dst1) {\n    this.src = src1;\n    this.dst = dst1;\n};\n\ncc.BlendFunc._disable = function(){\n    return new cc.BlendFunc(cc.ONE, cc.ZERO);\n};\ncc.BlendFunc._alphaPremultiplied = function(){\n    return new cc.BlendFunc(cc.ONE, cc.ONE_MINUS_SRC_ALPHA);\n};\ncc.BlendFunc._alphaNonPremultiplied = function(){\n    return new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA);\n};\ncc.BlendFunc._additive = function(){\n    return new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE);\n};\n\n/** @expose */\ncc.BlendFunc.DISABLE;\ncc.defineGetterSetter(cc.BlendFunc, \"DISABLE\", cc.BlendFunc._disable);\n/** @expose */\ncc.BlendFunc.ALPHA_PREMULTIPLIED;\ncc.defineGetterSetter(cc.BlendFunc, \"ALPHA_PREMULTIPLIED\", cc.BlendFunc._alphaPremultiplied);\n/** @expose */\ncc.BlendFunc.ALPHA_NON_PREMULTIPLIED;\ncc.defineGetterSetter(cc.BlendFunc, \"ALPHA_NON_PREMULTIPLIED\", cc.BlendFunc._alphaNonPremultiplied);\n/** @expose */\ncc.BlendFunc.ADDITIVE;\ncc.defineGetterSetter(cc.BlendFunc, \"ADDITIVE\", cc.BlendFunc._additive);\n\ncc.GLProgram.prototype.setUniformLocationWithMatrix2fv = function(){\n    var tempArray = Array.prototype.slice.call(arguments);\n    tempArray = Array.prototype.concat.call(tempArray, 2);\n    this.setUniformLocationWithMatrixfvUnion.apply(this, tempArray);\n};\n\ncc.GLProgram.prototype.setUniformLocationWithMatrix3fv = function(){\n    var tempArray = Array.prototype.slice.call(arguments);\n    tempArray = Array.prototype.concat.call(tempArray, 3);\n    this.setUniformLocationWithMatrixfvUnion.apply(this, tempArray);\n};\ncc.GLProgram.prototype.setUniformLocationWithMatrix4fv = function(){\n    var tempArray = Array.prototype.slice.call(arguments);\n    tempArray = Array.prototype.concat.call(tempArray, 4);\n    this.setUniformLocationWithMatrixfvUnion.apply(this, tempArray);\n};\n\nvar jsbSetUniformCallback = cc.GLProgramState.prototype.setUniformCallback;\ncc.GLProgramState.prototype.setUniformCallback = function (uniform, callback) {\n    jsbSetUniformCallback.call(this, uniform, callback);\n};\n\n\n//\n// Script Component\n//\ncc._ComponentJS = cc.ComponentJS;\ncc._ComponentJS.extend = cc.Class.extend;\ncc.ComponentJS = function (filename) {\n    var comp = cc._ComponentJS.create(filename);\n    var res = comp.getScriptObject();\n    return res;\n};\ncc.ComponentJS.extend = function (prop) {\n    return cc._ComponentJS.extend(prop);\n};\n\n\n//\n// 3D module rename to jsb namespace\n//\njsb.BaseLight = cc.BaseLight;\ndelete cc.BaseLight;\njsb.DirectionLight = cc.DirectionLight;\ndelete cc.DirectionLight;\njsb.PointLight = cc.PointLight;\ndelete cc.PointLight;\njsb.SpotLight = cc.SpotLight;\ndelete cc.SpotLight;\njsb.AmbientLight = cc.AmbientLight;\ndelete cc.AmbientLight;\n"]}