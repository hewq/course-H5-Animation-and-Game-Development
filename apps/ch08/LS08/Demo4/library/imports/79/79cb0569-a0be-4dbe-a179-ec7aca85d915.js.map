{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/external/gaf/Library/assets/frameworks/cocos2d-html5/external/gaf/Library/GAFObject.js"],"names":["gaf","_stateHasCtx","state","hasColorTransform","colorTransform","offset","r","g","b","a","hasEffect","i","total","effect","length","type","EFFECT_COLOR_MATRIX","Object","cc","Node","extend","_asset","_className","_id","IDNONE","_gafproto","_parentTimeLine","_lastVisibleInFrame","_filterStack","_cascadeColorMult","_cascadeColorOffset","_needsCtx","_usedAtlasScale","ctor","scale","arguments","_super","color","setAnimationStartedNextLoopDelegate","delegate","setAnimationFinishedPlayDelegate","setLooped","looped","getBoundingBoxForCurrentFrame","setFps","fps","getObjectByName","name","clearSequence","getIsAnimationRunning","getSequences","gotoAndStop","value","getStartFrame","frameLabel","setFramePlayedDelegate","getCurrentFrameIndex","getTotalFrameCount","start","stop","isVisibleInCurrentFrame","isDone","playSequence","resume","isReversed","setSequenceDelegate","setFrame","index","setControlDelegate","func","getEndFrame","pauseAnimation","gotoAndPlay","isLooped","resumeAnimation","setReversed","reversed","hasSequences","getFps","setLocator","locator","setExternalTransform","affineTransform","affineTransformEqualToTransform","_additionalTransform","setAdditionalTransform","getExternalTransform","setAnimationRunning","_enableTick","val","_resetState","_updateVisibility","parent","alphaOffset","setOpacity","alpha","isVisible","getOpacity","visit","parentCmd","_getFilters","_processAnimation","_applyState","_applyStateSuper","newMat","clone","matrix","tx","ty","concat","mult","_initRendererCmd","_renderCmd","renderer","getRenderCmd","_visit","self","_getNode","setAnchorPoint","point","y","undefined","x","_createNullObject","ret"],"mappings":";;;;;;AAAA,IAAIA,MAAMA,OAAO,EAAjB;;AAEAA,IAAIC,YAAJ,GAAmB,UAASC,KAAT,EACnB;AACI;AACA,QAAIA,MAAMC,iBAAN,KACAD,MAAME,cAAN,CAAqBC,MAArB,CAA4BC,CAA5B,GAAgC,CAAhC,IACAJ,MAAME,cAAN,CAAqBC,MAArB,CAA4BE,CAA5B,GAAgC,CADhC,IAEAL,MAAME,cAAN,CAAqBC,MAArB,CAA4BG,CAA5B,GAAgC,CAFhC,IAGAN,MAAME,cAAN,CAAqBC,MAArB,CAA4BI,CAA5B,GAAgC,CAJhC,CAAJ,EAMA;AACI,eAAO,IAAP;AACH;;AAED;AACA,QAAGP,MAAMQ,SAAT,EACA;AACI,aAAI,IAAIC,IAAI,CAAR,EAAWC,QAAQV,MAAMW,MAAN,CAAaC,MAApC,EAA4CH,IAAIC,KAAhD,EAAuD,EAAED,CAAzD,EACA;AACI,gBAAGT,MAAMW,MAAN,CAAaF,CAAb,EAAgBI,IAAhB,KAAyBf,IAAIgB,mBAAhC,EACI,OAAO,IAAP;AACP;AACJ;AACD,WAAO,KAAP;AACH,CAvBD;;AAyBAhB,IAAIiB,MAAJ,GAAaC,GAAGC,IAAH,CAAQC,MAAR,CACZ;AACGC,YAAS,IADZ;AAEGC,gBAAa,WAFhB;AAGGC,SAAMvB,IAAIwB,MAHb;AAIGC,eAAY,IAJf;AAKGC,qBAAkB,IALrB;AAMGC,yBAAsB,CANzB;AAOGC,kBAAe,IAPlB;AAQGC,uBAAoB,IARvB;AASGC,yBAAsB,IATzB;AAUGC,eAAY,KAVf;AAWGC,qBAAiB,CAXpB;;AAaG;AACAC,UAAM,cAASC,KAAT,EACN;AACI,YAAGC,UAAUrB,MAAV,IAAoB,CAAvB,EACA;AACI,iBAAKkB,eAAL,GAAuBE,KAAvB;AACH;AACD,aAAKE,MAAL;AACA,aAAKP,iBAAL,GAAyBX,GAAGmB,KAAH,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB,CAAzB;AACA,aAAKP,mBAAL,GAA2BZ,GAAGmB,KAAH,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAA3B;AACA,aAAKT,YAAL,GAAoB,EAApB;AACH,KAxBJ;;AA0BG;;;;AAIAU,yCAAsC,6CAAUC,QAAV,EAAoB,CAAE,CA9B/D;;AAgCG;;;;AAIAC,sCAAmC,0CAAUD,QAAV,EAAoB,CAAE,CApC5D;;AAsCG;;;;AAIAE,eAAY,mBAAUC,MAAV,EAAkB,CAAE,CA1CnC;;AA4CG;;;;AAIAC,mCAAgC,yCAAY;AAAC,eAAO,IAAP;AAAa,KAhD7D;;AAkDG;;;;AAIAC,YAAS,gBAAUC,GAAV,EAAe,CAAE,CAtD7B;;AAwDG;;;;;AAKAC,qBAAkB,yBAAUC,IAAV,EAAgB;AAAC,eAAO,IAAP;AAAa,KA7DnD;;AA+DG;;;AAGAC,mBAAgB,yBAAY,CAAE,CAlEjC;;AAoEG;;;;AAIAC,2BAAwB,iCAAY;AAAC,eAAO,KAAP;AAAc,KAxEtD;;AA0EG;;;;AAIAC,kBAAe,wBAAU;AAAC,eAAO,EAAP;AAAW,KA9ExC;;AAiFG;;;;;AAKAC,iBAAc,qBAAUC,KAAV,EAAiB,CAAE,CAtFpC;;AAwFG;;;;;AAKAC,mBAAgB,uBAAUC,UAAV,EAAsB;AAAC,eAAOtD,IAAIwB,MAAX;AAAmB,KA7F7D;;AA+FG;;;;AAIA+B,4BAAyB,gCAAUhB,QAAV,EAAoB,CAAE,CAnGlD;;AAqGG;;;;AAIAiB,0BAAuB,gCAAY;AAC/B,eAAOxD,IAAIwB,MAAX;AACH,KA3GJ;;AA6GG;;;;AAIAiC,wBAAqB,8BAAY;AAAC,eAAO,CAAP;AAAU,KAjH/C;;AAmHG;;;AAGAC,WAAQ,iBAAY,CAAE,CAtHzB;;AAwHG;;;AAGAC,UAAO,gBAAY,CAAE,CA3HxB;;AA6HG;;;;AAIAC,6BAA0B,mCAC1B;AACI;;;;;;;;;AASA,eAAO,EAAE,KAAKlC,eAAL,IAA0B,KAAKA,eAAL,CAAqB8B,oBAArB,KAA8C,CAA/C,IAAqD,KAAK7B,mBAArF,CAAP;AACH,KA7IJ;;AA+IG;;;;AAIAkC,YAAS,kBAAY;AAAC,eAAO,IAAP;AAAa,KAnJtC;;AAqJG;;;;;;;AAOAC,kBAAe,sBAAUf,IAAV,EAAgBL,MAAhB,EAAwBqB,MAAxB,EAAgC;AAAC,eAAO,KAAP;AAAc,KA5JjE;;AA8JG;;;;AAIAC,gBAAa,sBAAY;AAAC,eAAO,KAAP;AAAc,KAlK3C;;AAoKG;;;;AAIAC,yBAAsB,6BAAU1B,QAAV,EAAoB,CAAE,CAxK/C;;AA0KG;;;;;AAKA2B,cAAW,kBAAUC,KAAV,EAAiB;AAAC,eAAO,KAAP;AAAc,KA/K9C;;AAiLG;;;;AAIAC,wBAAqB,4BAAUC,IAAV,EAAgB,CAAE,CArL1C;;AAuLG;;;;;AAKAC,iBAAc,qBAAUhB,UAAV,EAAsB;AAAC,eAAOtD,IAAIwB,MAAX;AAAmB,KA5L3D;;AA8LG;;;AAGA+C,oBAAiB,0BAAY,CAAE,CAjMlC;;AAmMG;;;;;AAKAC,iBAAc,qBAAUpB,KAAV,EAAiB,CAAE,CAxMpC;;AA0MG;;;;AAIAqB,cAAW,oBAAY;AAAC,eAAO,KAAP;AAAc,KA9MzC;;AAgNG;;;AAGAC,qBAAkB,2BAAY,CAAE,CAnNnC;;AAqNG;;;;AAIAC,iBAAc,qBAAUC,QAAV,EAAoB,CAAE,CAzNvC;;AA2NG;;;;AAIAC,kBAAe,wBAAY;AAAC,eAAO,KAAP;AAAc,KA/N7C;;AAiOG;;;;AAIAC,YAAS,kBAAY;AAAC,eAAO,EAAP;AAAW,KArOpC;;AAuOG;;;;;AAKAC,gBAAa,oBAAUC,OAAV,EAAkB,CAAE,CA5OpC;;AA8OGC,0BAAuB,8BAASC,eAAT,EACvB;AACI,YAAG,CAAChE,GAAGiE,+BAAH,CAAmC,KAAKC,oBAAxC,EAA8DF,eAA9D,CAAJ,EACA;AACI,iBAAKG,sBAAL,CAA4BH,eAA5B;AACH;AACJ,KApPJ;;AAsPGI,0BAAuB,gCACvB;AACI,eAAO,KAAKF,oBAAZ;AACH,KAzPJ;;AA2PGG,yBAAqB,+BAAY,CAAE,CA3PtC;;AA6PG;AACA;AACA;AACAC,iBAAa,qBAASC,GAAT,EAAa,CAAE,CAhQ/B;;AAkQGC,iBAAc,uBACd,CAAE,CAnQL;;AAqQGC,uBAAoB,2BAASzF,KAAT,EAAgB0F,MAAhB,EACpB;AACI,YAAIC,cAAc3F,MAAMC,iBAAN,GAA0BD,MAAME,cAAN,CAAqBC,MAArB,CAA4BI,CAAtD,GAA0D,CAA5E;AACA,aAAKqF,UAAL,CAAgB5F,MAAM6F,KAAN,GAAcF,WAA9B;AACA;AACH,KA1QJ;;AA4QG;AACAG,eAAY,qBACZ;AACI,eAAO,KAAKC,UAAL,KAAoB,CAA3B;AACH,KAhRJ;;AAkRG;AACAC,WAAO,eAASC,SAAT,EACP;AACI,YAAG,KAAKvC,uBAAL,EAAH,EACA;AACI,iBAAKxB,MAAL,CAAY+D,SAAZ;AACH;AACJ,KAzRJ;;AA2RGC,iBAAc,uBAAU;AAAC,eAAO,IAAP;AAAY,KA3RxC;;AA6RGC,uBAAoB,6BAAU,CAAE,CA7RnC;;AAgSGC,iBAAc,qBAASpG,KAAT,EAAgB0F,MAAhB,EACd;AACI,aAAKW,gBAAL,CAAsBrG,KAAtB,EAA6B0F,MAA7B;AACH,KAnSJ;;AAqSGW,sBAAmB,0BAASrG,KAAT,EAAgB0F,MAAhB,EACnB;AACI,aAAK7D,SAAL,GAAiB6D,OAAO7D,SAAxB;AACA,aAAKH,YAAL,CAAkBd,MAAlB,GAA2B,CAA3B,CAFJ,CAEkC;AAC9B,aAAKY,eAAL,GAAuBkE,MAAvB,CAHJ,CAGmC;AAC/B,YAAG,KAAK5D,eAAL,IAAwB,CAA3B,EACA;AACI,gBAAIwE,SAAStF,GAAGuF,KAAH,CAASvG,MAAMwG,MAAf,CAAb;AACAF,mBAAOG,EAAP,IAAa,KAAK3E,eAAlB;AACAwE,mBAAOI,EAAP,IAAa,KAAK5E,eAAlB;AACA,iBAAKiD,oBAAL,CAA0BuB,MAA1B,EAJJ,CAIuC;AACtC,SAND,MAQA;AACI,iBAAKvB,oBAAL,CAA0B/E,MAAMwG,MAAhC,EADJ,CAC6C;AAC5C;AACD;AACA;AACA,YAAIxG,MAAMQ,SAAV,EAAqB;AACjB,iBAAKkB,YAAL,GAAoB,KAAKA,YAAL,CAAkBiF,MAAlB,CAAyB3G,MAAMW,MAA/B,CAApB;AACA,iBAAKkB,SAAL,GAAiB,IAAjB;AACH;AACD,YAAI6D,OAAOhE,YAAP,IAAuBgE,OAAOhE,YAAP,CAAoBd,MAApB,GAA6B,CAAxD,EAA2D;AACvD,iBAAKc,YAAL,GAAoB,KAAKA,YAAL,CAAkBiF,MAAlB,CAAyBjB,OAAOhE,YAAhC,CAApB;AACH;;AAED,YAAG,KAAKA,YAAL,CAAkBd,MAAlB,GAA2B,CAA3B,IAAgC,KAAKc,YAAL,CAAkB,CAAlB,EAAqBb,IAArB,KAA8Bf,IAAIgB,mBAArE,EACA;AACI,iBAAKe,SAAL,GAAiB,IAAjB;AACH;;AAED;;AAEA;AACA,YAAI7B,MAAMC,iBAAV,EACA;AACI,iBAAK0B,iBAAL,CAAuBvB,CAAvB,GAA2BJ,MAAME,cAAN,CAAqB0G,IAArB,CAA0BxG,CAA1B,GAA8BsF,OAAO/D,iBAAP,CAAyBvB,CAAvD,GAA2D,GAAtF;AACA,iBAAKuB,iBAAL,CAAuBtB,CAAvB,GAA2BL,MAAME,cAAN,CAAqB0G,IAArB,CAA0BvG,CAA1B,GAA8BqF,OAAO/D,iBAAP,CAAyBtB,CAAvD,GAA2D,GAAtF;AACA,iBAAKsB,iBAAL,CAAuBrB,CAAvB,GAA2BN,MAAME,cAAN,CAAqB0G,IAArB,CAA0BtG,CAA1B,GAA8BoF,OAAO/D,iBAAP,CAAyBrB,CAAvD,GAA2D,GAAtF;AACA,iBAAKqB,iBAAL,CAAuBpB,CAAvB,GAA2BP,MAAME,cAAN,CAAqB0G,IAArB,CAA0BrG,CAA1B,GAA8BmF,OAAO/D,iBAAP,CAAyBpB,CAAvD,GAA2D,GAAtF;;AAEA,iBAAKqB,mBAAL,CAAyBxB,CAAzB,GAA6BJ,MAAME,cAAN,CAAqBC,MAArB,CAA4BC,CAA5B,GAAgCsF,OAAO9D,mBAAP,CAA2BxB,CAAxF;AACA,iBAAKwB,mBAAL,CAAyBvB,CAAzB,GAA6BL,MAAME,cAAN,CAAqBC,MAArB,CAA4BE,CAA5B,GAAgCqF,OAAO9D,mBAAP,CAA2BvB,CAAxF;AACA,iBAAKuB,mBAAL,CAAyBtB,CAAzB,GAA6BN,MAAME,cAAN,CAAqBC,MAArB,CAA4BG,CAA5B,GAAgCoF,OAAO9D,mBAAP,CAA2BtB,CAAxF;AACA,iBAAKsB,mBAAL,CAAyBrB,CAAzB,GAA6BP,MAAME,cAAN,CAAqBC,MAArB,CAA4BI,CAA5B,GAAgCmF,OAAO9D,mBAAP,CAA2BrB,CAAxF;AACH,SAXD,MAaA;AACI,iBAAKoB,iBAAL,CAAuBvB,CAAvB,GAA2BsF,OAAO/D,iBAAP,CAAyBvB,CAApD;AACA,iBAAKuB,iBAAL,CAAuBtB,CAAvB,GAA2BqF,OAAO/D,iBAAP,CAAyBtB,CAApD;AACA,iBAAKsB,iBAAL,CAAuBrB,CAAvB,GAA2BoF,OAAO/D,iBAAP,CAAyBrB,CAApD;AACA,iBAAKqB,iBAAL,CAAuBpB,CAAvB,GAA2BP,MAAM6F,KAAN,IAAeH,OAAO/D,iBAAP,CAAyBpB,CAAzB,GAA6B,GAA5C,CAA3B;;AAEA,iBAAKqB,mBAAL,CAAyBxB,CAAzB,GAA6BsF,OAAO9D,mBAAP,CAA2BxB,CAAxD;AACA,iBAAKwB,mBAAL,CAAyBvB,CAAzB,GAA6BqF,OAAO9D,mBAAP,CAA2BvB,CAAxD;AACA,iBAAKuB,mBAAL,CAAyBtB,CAAzB,GAA6BoF,OAAO9D,mBAAP,CAA2BtB,CAAxD;AACA,iBAAKsB,mBAAL,CAAyBrB,CAAzB,GAA6BmF,OAAO9D,mBAAP,CAA2BrB,CAAxD;AACH;;AAED,YAAI,KAAKqB,mBAAL,CAAyBxB,CAAzB,GAA6B,CAA7B,IACA,KAAKwB,mBAAL,CAAyBvB,CAAzB,GAA6B,CAD7B,IAEA,KAAKuB,mBAAL,CAAyBtB,CAAzB,GAA6B,CAF7B,IAGA,KAAKsB,mBAAL,CAAyBrB,CAAzB,GAA6B,CAHjC,EAIA;AACI,iBAAKsB,SAAL,GAAiB,IAAjB;AACH;AACJ,KAvWJ;;AAyWGgF,sBAAkB,4BAClB;AACI,aAAKC,UAAL,GAAkB9F,GAAG+F,QAAH,CAAYC,YAAZ,CAAyB,IAAzB,CAAlB;AACA,aAAKF,UAAL,CAAgBG,MAAhB,GAAyB,KAAKH,UAAL,CAAgBd,KAAzC;AACA,YAAIkB,OAAO,IAAX;AACA,aAAKJ,UAAL,CAAgBd,KAAhB,GAAwB,UAASC,SAAT,EAAoB;AACxC,gBAAGiB,KAAKxD,uBAAL,EAAH,EAAkC;AAC9B,qBAAKuD,MAAL,CAAYhB,SAAZ;AACH;AACJ,SAJD;AAKH,KAnXJ;;AAqXGkB,cAAW,oBACX;AACI,eAAO,IAAP;AACH,KAxXJ;;AA0XGC,oBAAiB,wBAASC,KAAT,EAAgBC,CAAhB,EACjB;AACI,YAAIA,MAAMC,SAAV,EACA;AACI,iBAAKrF,MAAL,CAAYmF,MAAMG,CAAlB,EAAqBH,MAAMC,CAAN,GAAU,CAA/B;AACH,SAHD,MAKA;AACI,iBAAKpF,MAAL,CAAYmF,KAAZ,EAAmBC,IAAI,CAAvB;AACH;AACJ;;AApYJ,CADY,CAAb;;AAyYAxH,IAAIiB,MAAJ,CAAW0G,iBAAX,GAA+B,YAC/B;AACI,QAAIC,MAAM,IAAI5H,IAAIiB,MAAR,EAAV;AACA2G,QAAI5B,SAAJ,GAAgB,YAAU;AAAC,eAAO,IAAP;AAAY,KAAvC;AACA,WAAO4B,GAAP;AACH,CALD","file":"GAFObject.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/external/gaf/Library","sourcesContent":["var gaf = gaf || {};\n\ngaf._stateHasCtx = function(state)\n{\n    // Check for tint color offset\n    if( state.hasColorTransform &&\n       (state.colorTransform.offset.r > 0 ||\n        state.colorTransform.offset.g > 0 ||\n        state.colorTransform.offset.b > 0 ||\n        state.colorTransform.offset.a > 0)\n    )\n    {\n        return true;\n    }\n\n    // Check for color transform filter\n    if(state.hasEffect)\n    {\n        for(var i = 0, total = state.effect.length; i < total; ++i)\n        {\n            if(state.effect[i].type === gaf.EFFECT_COLOR_MATRIX)\n                return true;\n        }\n    }\n    return false;\n};\n\ngaf.Object = cc.Node.extend\n({\n    _asset : null,\n    _className : \"GAFObject\",\n    _id : gaf.IDNONE,\n    _gafproto : null,\n    _parentTimeLine : null,\n    _lastVisibleInFrame : 0,\n    _filterStack : null,\n    _cascadeColorMult : null,\n    _cascadeColorOffset : null,\n    _needsCtx : false,\n    _usedAtlasScale: 1,\n\n    // Public methods\n    ctor: function(scale)\n    {\n        if(arguments.length == 1)\n        {\n            this._usedAtlasScale = scale;\n        }\n        this._super();\n        this._cascadeColorMult = cc.color(255, 255, 255, 255);\n        this._cascadeColorOffset = cc.color(0, 0, 0, 0);\n        this._filterStack = [];\n    },\n\n    /**\n     * @method setAnimationStartedNextLoopDelegate\n     * @param {function(Object)} delegate\n     */\n    setAnimationStartedNextLoopDelegate : function (delegate) {},\n\n    /**\n     * @method setAnimationFinishedPlayDelegate\n     * @param {function(Object)} delegate\n     */\n    setAnimationFinishedPlayDelegate : function (delegate) {},\n\n    /**\n     * @method setLooped\n     * @param {bool} looped\n     */\n    setLooped : function (looped) {},\n\n    /**\n     * @method getBoundingBoxForCurrentFrame\n     * @return {cc.Rect}\n     */\n    getBoundingBoxForCurrentFrame : function () {return null;},\n\n    /**\n     * @method setFps\n     * @param {uint} fps\n     */\n    setFps : function (fps) {},\n\n    /**\n     * @method getObjectByName\n     * @param {String} name - name of the object to find\n     * @return {gaf.Object}\n     */\n    getObjectByName : function (name) {return null;},\n\n    /**\n     * @method clearSequence\n     */\n    clearSequence : function () {},\n\n    /**\n     * @method getIsAnimationRunning\n     * @return {bool}\n     */\n    getIsAnimationRunning : function () {return false;},\n\n    /**\n     * @method getSequences\n     * @return [string] - list of sequences if has any\n     */\n    getSequences : function(){return [];},\n\n\n    /**\n     * @method gotoAndStop\n     * @param {uint|String} value - label ot frame number\n     * @return {bool}\n     */\n    gotoAndStop : function (value) {},\n\n    /**\n     * @method getStartFrame\n     * @param {String} frameLabel\n     * @return {uint}\n     */\n    getStartFrame : function (frameLabel) {return gaf.IDNONE;},\n\n    /**\n     * @method setFramePlayedDelegate\n     * @param {function(Object, frame)} delegate\n     */\n    setFramePlayedDelegate : function (delegate) {},\n\n    /**\n     * @method getCurrentFrameIndex\n     * @return {uint}\n     */\n    getCurrentFrameIndex : function () {\n        return gaf.IDNONE;\n    },\n\n    /**\n     * @method getTotalFrameCount\n     * @return {uint}\n     */\n    getTotalFrameCount : function () {return 0;},\n\n    /**\n     * @method start\n     */\n    start : function () {},\n\n    /**\n     * @method stop\n     */\n    stop : function () {},\n\n    /**\n     * @method isVisibleInCurrentFrame\n     * @return {bool}\n     */\n    isVisibleInCurrentFrame : function ()\n    {\n        /*if (this._parentTimeLine &&\n            ((this._parentTimeLine.getCurrentFrameIndex() + 1) != this._lastVisibleInFrame))\n        {\n            return false;\n        }\n        else\n        {\n            return true;\n        }*/\n        return !(this._parentTimeLine && ((this._parentTimeLine.getCurrentFrameIndex() + 1) != this._lastVisibleInFrame));\n    },\n\n    /**\n     * @method isDone\n     * @return {bool}\n     */\n    isDone : function () {return true;},\n\n    /**\n     * @method playSequence\n     * @param {String} name - name of the sequence to play\n     * @param {bool} looped - play looped\n     * @param {bool} resume - whether to resume animation if stopped. True by default\n     * @return {bool}\n     */\n    playSequence : function (name, looped, resume) {return false;},\n\n    /**\n     * @method isReversed\n     * @return {bool}\n     */\n    isReversed : function () {return false;},\n\n    /**\n     * @method setSequenceDelegate\n     * @param {function(Object, sequenceName)} delegate\n     */\n    setSequenceDelegate : function (delegate) {},\n\n    /**\n     * @method setFrame\n     * @param {uint} index\n     * @return {bool}\n     */\n    setFrame : function (index) {return false;},\n\n    /**\n     * @method setControlDelegate\n     * @param {function} func\n     */\n    setControlDelegate : function (func) {},\n\n    /**\n     * @method getEndFrame\n     * @param {String} frameLabel\n     * @return {uint}\n     */\n    getEndFrame : function (frameLabel) {return gaf.IDNONE;},\n\n    /**\n     * @method pauseAnimation\n     */\n    pauseAnimation : function () {},\n\n    /**\n     * @method gotoAndPlay\n     * @param {uint|String} value - label ot frame number\n     * @return {bool}\n     */\n    gotoAndPlay : function (value) {},\n\n    /**\n     * @method isLooped\n     * @return {bool}\n     */\n    isLooped : function () {return false;},\n\n    /**\n     * @method resumeAnimation\n     */\n    resumeAnimation : function () {},\n\n    /**\n     * @method setReversed\n     * @param {bool} reversed\n     */\n    setReversed : function (reversed) {},\n\n    /**\n     * @method hasSequences\n     * @return {bool}\n     */\n    hasSequences : function () {return false;},\n\n    /**\n     * @method getFps\n     * @return {uint}\n     */\n    getFps : function () {return 60;},\n\n    /**\n     * @method setLocator\n     * @param {bool} locator\n     * Locator object will not draw itself, but its children will be drawn\n     */\n    setLocator : function (locator){},\n\n    setExternalTransform : function(affineTransform)\n    {\n        if(!cc.affineTransformEqualToTransform(this._additionalTransform, affineTransform))\n        {\n            this.setAdditionalTransform(affineTransform);\n        }\n    },\n\n    getExternalTransform : function()\n    {\n        return this._additionalTransform;\n    },\n\n    setAnimationRunning: function () {},\n\n    ////////////////\n    // Private\n    ////////////////\n    _enableTick: function(val){},\n\n    _resetState : function()\n    {},\n\n    _updateVisibility : function(state, parent)\n    {\n        var alphaOffset = state.hasColorTransform ? state.colorTransform.offset.a : 0;\n        this.setOpacity(state.alpha + alphaOffset);\n        //return this.isVisible();\n    },\n\n    // @Override\n    isVisible : function()\n    {\n        return this.getOpacity() > 0;\n    },\n\n    // @Override\n    visit: function(parentCmd)\n    {\n        if(this.isVisibleInCurrentFrame())\n        {\n            this._super(parentCmd);\n        }\n    },\n\n    _getFilters : function(){return null},\n\n    _processAnimation : function(){},\n\n\n    _applyState : function(state, parent)\n    {\n        this._applyStateSuper(state, parent);\n    },\n\n    _applyStateSuper : function(state, parent)\n    {\n        this._needsCtx = parent._needsCtx;\n        this._filterStack.length = 0; // clear\n        this._parentTimeLine = parent; // only gaf time line can call applyState. Assign it as parent\n        if(this._usedAtlasScale != 1)\n        {\n            var newMat = cc.clone(state.matrix);\n            newMat.tx *= this._usedAtlasScale;\n            newMat.ty *= this._usedAtlasScale;\n            this.setExternalTransform(newMat); // apply transformations of the state\n        }\n        else\n        {\n            this.setExternalTransform(state.matrix); // apply transformations of the state\n        }\n        // Cascade filters\n        // TODO: apply more than one filter\n        if (state.hasEffect) {\n            this._filterStack = this._filterStack.concat(state.effect);\n            this._needsCtx = true;\n        }\n        if (parent._filterStack && parent._filterStack.length > 0) {\n            this._filterStack = this._filterStack.concat(parent._filterStack);\n        }\n\n        if(this._filterStack.length > 0 && this._filterStack[0].type === gaf.EFFECT_COLOR_MATRIX)\n        {\n            this._needsCtx = true;\n        }\n\n        // Cascade color transformations\n\n        // If state has a tint, then we should process it\n        if (state.hasColorTransform)\n        {\n            this._cascadeColorMult.r = state.colorTransform.mult.r * parent._cascadeColorMult.r / 255;\n            this._cascadeColorMult.g = state.colorTransform.mult.g * parent._cascadeColorMult.g / 255;\n            this._cascadeColorMult.b = state.colorTransform.mult.b * parent._cascadeColorMult.b / 255;\n            this._cascadeColorMult.a = state.colorTransform.mult.a * parent._cascadeColorMult.a / 255;\n\n            this._cascadeColorOffset.r = state.colorTransform.offset.r + parent._cascadeColorOffset.r;\n            this._cascadeColorOffset.g = state.colorTransform.offset.g + parent._cascadeColorOffset.g;\n            this._cascadeColorOffset.b = state.colorTransform.offset.b + parent._cascadeColorOffset.b;\n            this._cascadeColorOffset.a = state.colorTransform.offset.a + parent._cascadeColorOffset.a;\n        }\n        else\n        {\n            this._cascadeColorMult.r = parent._cascadeColorMult.r;\n            this._cascadeColorMult.g = parent._cascadeColorMult.g;\n            this._cascadeColorMult.b = parent._cascadeColorMult.b;\n            this._cascadeColorMult.a = state.alpha * (parent._cascadeColorMult.a / 255);\n\n            this._cascadeColorOffset.r = parent._cascadeColorOffset.r;\n            this._cascadeColorOffset.g = parent._cascadeColorOffset.g;\n            this._cascadeColorOffset.b = parent._cascadeColorOffset.b;\n            this._cascadeColorOffset.a = parent._cascadeColorOffset.a;\n        }\n\n        if (this._cascadeColorOffset.r > 0 ||\n            this._cascadeColorOffset.g > 0 ||\n            this._cascadeColorOffset.b > 0 ||\n            this._cascadeColorOffset.a > 0)\n        {\n            this._needsCtx = true;\n        }\n    },\n\n    _initRendererCmd: function()\n    {\n        this._renderCmd = cc.renderer.getRenderCmd(this);\n        this._renderCmd._visit = this._renderCmd.visit;\n        var self = this;\n        this._renderCmd.visit = function(parentCmd) {\n            if(self.isVisibleInCurrentFrame()){\n                this._visit(parentCmd);\n            }\n        }\n    },\n\n    _getNode : function()\n    {\n        return this;\n    },\n\n    setAnchorPoint : function(point, y)\n    {\n        if (y === undefined)\n        {\n            this._super(point.x, point.y - 1);\n        }\n        else\n        {\n            this._super(point, y - 1);\n        }\n    }\n\n});\n\ngaf.Object._createNullObject = function()\n{\n    var ret = new gaf.Object();\n    ret.isVisible = function(){return true};\n    return ret;\n};\n"]}