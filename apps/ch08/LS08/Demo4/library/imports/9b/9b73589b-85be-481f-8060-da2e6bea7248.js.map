{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark/assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark/kmVec3TransformCoord.js"],"names":["kernelConfig","kernelName","kernelInit","init","kernelCleanup","cleanup","kernelSimd","simd","kernelNonSimd","nonSimd","kernelIterations","benchmarks","add","Benchmark","V","cc","kmVec3","T","kmMat4","Out","Vx4","Tx4","Outx4","mat","fill","equals","n","i","transformCoord","transformCoordSIMD"],"mappings":";;;;;;AAAA;;AAEC,aAAY;;AAEX;AACA,MAAIA,eAAe;AACjBC,gBAAkB,sBADD;AAEjBC,gBAAkBC,IAFD;AAGjBC,mBAAkBC,OAHD;AAIjBC,gBAAkBC,IAJD;AAKjBC,mBAAkBC,OALD;AAMjBC,sBAAkB;AAND,GAAnB;;AASA;AACAC,aAAWC,GAAX,CAAe,IAAIC,SAAJ,CAAcb,YAAd,CAAf;;AAEA;AACA,MAAIc,IAAI,IAAIC,GAAGC,MAAP,EAAR;AACA,MAAIC,IAAI,IAAIF,GAAGG,MAAP,EAAR;AACA,MAAIC,MAAM,IAAIJ,GAAGC,MAAP,EAAV;AACA,MAAII,MAAM,IAAIL,GAAGC,MAAP,EAAV;AACA,MAAIK,MAAM,IAAIN,GAAGG,MAAP,EAAV;AACA,MAAII,QAAQ,IAAIP,GAAGC,MAAP,EAAZ;;AAEA,WAASb,IAAT,GAAgB;AACdc,MAAEM,GAAF,CAAM,CAAN,IAAW,GAAX;AACAN,MAAEM,GAAF,CAAM,CAAN,IAAW,GAAX;AACAN,MAAEM,GAAF,CAAM,EAAN,IAAY,GAAZ;AACAN,MAAEM,GAAF,CAAM,EAAN,IAAY,GAAZ;;AAEAT,MAAEU,IAAF,CAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB;;AAEAH,QAAIE,GAAJ,CAAQ,CAAR,IAAa,GAAb;AACAF,QAAIE,GAAJ,CAAQ,CAAR,IAAa,GAAb;AACAF,QAAIE,GAAJ,CAAQ,EAAR,IAAc,GAAd;AACAF,QAAIE,GAAJ,CAAQ,EAAR,IAAc,GAAd;;AAEAH,QAAII,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB;;AAEAf,YAAQ,CAAR;AACAF,SAAK,CAAL;AACA;AACA;AACA,WAAOO,EAAEW,MAAF,CAASL,GAAT,CAAP;AAED;;AAED,WAASf,OAAT,GAAmB;AACjB,WAAOF,MAAP,CADiB,CACF;AAChB;;AAED,WAASM,OAAT,CAAiBiB,CAAjB,EAAoB;AAClB,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,CAApB,EAAuBC,GAAvB,EAA4B;AAC1Bb,QAAEc,cAAF,CAAiBX,CAAjB;AACD;AACF;;AAED,WAASV,IAAT,CAAcmB,CAAd,EAAiB;AACf,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,CAApB,EAAuBC,GAAvB,EAA4B;AAC1BP,UAAIS,kBAAJ,CAAuBR,GAAvB;AACD;AACF;AAEF,CA9DA,GAAD","file":"kmVec3TransformCoord.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark","sourcesContent":["// kmVec3TransformCoord\n\n(function () {\n\n  // Kernel configuration\n  var kernelConfig = {\n    kernelName:       \"kmVec3TransformCoord\",\n    kernelInit:       init,\n    kernelCleanup:    cleanup,\n    kernelSimd:       simd,\n    kernelNonSimd:    nonSimd,\n    kernelIterations: 10000\n  };\n\n  // Hook up to the harness\n  benchmarks.add(new Benchmark(kernelConfig));\n\n  // Benchmark data, initialization and kernel functions\n  var V = new cc.kmVec3();\n  var T = new cc.kmMat4();\n  var Out = new cc.kmVec3();\n  var Vx4 = new cc.kmVec3();\n  var Tx4 = new cc.kmMat4();\n  var Outx4 = new cc.kmVec3();\n\n  function init() {\n    T.mat[0] = 1.0;\n    T.mat[5] = 1.0;\n    T.mat[10] = 1.0;\n    T.mat[15] = 1.0;\n\n    V.fill(0.0, 1.0, 0.0);\n\n    Tx4.mat[0] = 1.0;\n    Tx4.mat[5] = 1.0;\n    Tx4.mat[10] = 1.0;\n    Tx4.mat[15] = 1.0;\n\n    Vx4.fill(0.0, 1.0, 0.0);\n\n    nonSimd(1);\n    simd(1);\n    //console.log(V);\n    //console.log(Vx4);\n    return V.equals(Vx4);\n    \n  }\n\n  function cleanup() {\n    return init(); // Sanity checking before and after are the same\n  }\n\n  function nonSimd(n) {\n    for (var i = 0; i < n; i++) {\n      V.transformCoord(T);\n    }\n  }\n\n  function simd(n) {\n    for (var i = 0; i < n; i++) {\n      Vx4.transformCoordSIMD(Tx4);\n    }\n  }\n\n} ());\n"]}