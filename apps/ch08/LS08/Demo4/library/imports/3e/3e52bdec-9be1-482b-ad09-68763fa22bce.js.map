{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/extensions/gui/control-extension/assets/frameworks/cocos2d-html5/extensions/gui/control-extension/CCControlSwitch.js"],"names":["cc","ControlSwitch","Control","extend","_switchSprite","_initialTouchXPosition","_moved","_on","_className","ctor","maskSprite","onSprite","offSprite","thumbSprite","onLabel","offLabel","prototype","call","initWithMaskSprite","Error","init","ControlSwitchSprite","setPosition","getContentSize","width","height","addChild","ignoreAnchorPointForPosition","setAnchorPoint","setContentSize","setOn","isOn","animated","xPosition","getOnPosition","getOffPosition","runAction","ActionTween","getSliderXPosition","setSliderXPosition","sendActionsForControlEvents","CONTROL_EVENT_VALUECHANGED","hasMoved","setEnabled","enabled","_enabled","setOpacity","locationFromTouch","touch","touchLocation","getLocation","convertToNodeSpace","onTouchBegan","event","isTouchInside","isEnabled","isVisible","location","x","getThumbSprite","setColor","color","GRAY","needsLayout","onTouchMoved","p","onTouchEnded","WHITE","onTouchCancelled","create","Sprite","_sliderXPosition","_onPosition","_offPosition","_textureLocation","_maskLocation","_maskSize","_onSprite","_offSprite","_thumbSprite","_onLabel","_offLabel","_clipper","_stencil","_backRT","size","setSpriteFrame","displayFrame","setOnSprite","setOffSprite","setThumbSprite","setOnLabel","setOffLabel","maskSize","ClippingNode","setStencil","getPositionX","sliderXPosition","_getOnSideWidth","_getOffSideWidth","updateTweenAction","value","key","setOnPosition","onPosition","setOffPosition","offPosition","setMaskTexture","maskTexture","setTexture","getMaskTexture","getTexture","setTextureLocation","textureLocation","getTextureLocation","setMaskLocation","maskLocation","getMaskLocation","getOnSprite","getOffSprite","getOnLabel","getOffLabel","_p","sliderX","defineGetterSetter","onPos","offPos","maskPos","onSideWidth","offSideWidth"],"mappings":"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","file":"CCControlSwitch.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/extensions/gui/control-extension","sourcesContent":["/**\n *\n * Copyright (c) 2008-2010 Ricardo Quesada\n * Copyright (c) 2011-2012 cocos2d-x.org\n * Copyright (c) 2013-2014 Chukong Technologies Inc.\n *\n * Copyright 2011 Yannick Loriot. All rights reserved.\n * http://yannickloriot.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * CCControlSwitch: Switch control ui component\n * @class\n * @extends cc.Control\n */\ncc.ControlSwitch = cc.Control.extend(/** @lends cc.ControlSwitch# */{\n    /** Sprite which represents the view. */\n    _switchSprite:null,\n    _initialTouchXPosition:0,\n\n    _moved:false,\n    /** A Boolean value that determines the off/on state of the switch. */\n    _on:false,\n    _className:\"ControlSwitch\",\n    ctor:function (maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel) {\n        cc.Control.prototype.ctor.call(this);\n\n        offLabel && this.initWithMaskSprite(maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel);\n    },\n\n    /** Creates a switch with a mask sprite, on/off sprites for on/off states, a thumb sprite and an on/off labels. */\n    initWithMaskSprite:function (maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel) {\n        if(!maskSprite)\n            throw new Error(\"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.\");\n        if(!onSprite)\n            throw new Error(\"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.\");\n        if(!offSprite)\n            throw new Error(\"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.\");\n        if(!thumbSprite)\n            throw new Error(\"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.\");\n        if (this.init()) {\n            this._on = true;\n\n            this._switchSprite = new cc.ControlSwitchSprite();\n            this._switchSprite.initWithMaskSprite(maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel);\n            this._switchSprite.setPosition(this._switchSprite.getContentSize().width / 2, this._switchSprite.getContentSize().height / 2);\n            this.addChild(this._switchSprite);\n\n            this.ignoreAnchorPointForPosition(false);\n            this.setAnchorPoint(0.5, 0.5);\n            this.setContentSize(this._switchSprite.getContentSize());\n            return true;\n        }\n        return false;\n    },\n\n    setOn:function (isOn, animated) {\n        animated = animated || false;\n        this._on = isOn;\n        var xPosition = (this._on) ? this._switchSprite.getOnPosition() : this._switchSprite.getOffPosition();\n        if(animated){\n            this._switchSprite.runAction(new cc.ActionTween(0.2, \"sliderXPosition\", this._switchSprite.getSliderXPosition(),xPosition));\n        }else{\n            this._switchSprite.setSliderXPosition(xPosition);\n        }\n        this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED);\n    },\n\n    isOn:function () {\n        return this._on;\n    },\n\n    hasMoved:function () {\n        return this._moved;\n    },\n\n    setEnabled:function (enabled) {\n        this._enabled = enabled;\n\n        this._switchSprite.setOpacity((enabled) ? 255 : 128);\n    },\n\n    locationFromTouch:function (touch) {\n        var touchLocation = touch.getLocation();                      // Get the touch position\n        touchLocation = this.convertToNodeSpace(touchLocation);                  // Convert to the node space of this class\n\n        return touchLocation;\n    },\n\n    onTouchBegan:function (touch, event) {\n        if (!this.isTouchInside(touch)  || !this.isEnabled()|| !this.isVisible()) {\n            return false;\n        }\n\n        this._moved = false;\n\n        var location = this.locationFromTouch(touch);\n\n        this._initialTouchXPosition = location.x - this._switchSprite.getSliderXPosition();\n\n        this._switchSprite.getThumbSprite().setColor(cc.color.GRAY);\n        this._switchSprite.needsLayout();\n\n        return true;\n    },\n\n    onTouchMoved:function (touch, event) {\n        var location = this.locationFromTouch(touch);\n        location = cc.p(location.x - this._initialTouchXPosition, 0);\n\n        this._moved = true;\n\n        this._switchSprite.setSliderXPosition(location.x);\n    },\n\n    onTouchEnded:function (touch, event) {\n        var location = this.locationFromTouch(touch);\n\n        this._switchSprite.getThumbSprite().setColor(cc.color.WHITE);\n\n        if (this.hasMoved()) {\n            this.setOn(!(location.x < this._switchSprite.getContentSize().width / 2), true);\n        } else {\n            this.setOn(!this._on, true);\n        }\n    },\n\n    onTouchCancelled:function (touch, event) {\n        var location = this.locationFromTouch(touch);\n\n        this._switchSprite.getThumbSprite().setColor(cc.color.WHITE);\n\n        if (this.hasMoved()) {\n            this.setOn(!(location.x < this._switchSprite.getContentSize().width / 2), true);\n        } else {\n            this.setOn(!this._on, true);\n        }\n    }\n});\n\n/** Creates a switch with a mask sprite, on/off sprites for on/off states and a thumb sprite.\n *  @deprecated\n */\ncc.ControlSwitch.create = function (maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel) {\n    return new cc.ControlSwitch(maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel);\n};\n\n/**\n * ControlSwitchSprite: Sprite switch control ui component\n * @class\n * @extends cc.Sprite\n *\n * @property {Number}           sliderX         - Slider's x position\n * @property {cc.Point}         onPos           - The position of slider when switch is on\n * @property {cc.Point}         offPos          - The position of slider when switch is off\n * @property {cc.Texture2D}     maskTexture     - The texture of the mask\n * @property {cc.Point}         texturePos      - The position of the texture\n * @property {cc.Point}         maskPos         - The position of the mask\n * @property {cc.Sprite}        onSprite        - The sprite of switch on\n * @property {cc.Sprite}        offSprite       - The sprite of switch off\n * @property {cc.Sprite}        thumbSprite     - The thumb sprite of the switch control\n * @property {cc.LabelTTF}      onLabel         - The sprite of switch on\n * @property {cc.LabelTTF}      offLabel        - The sprite of switch off\n * @property {Number}           onSideWidth     - <@readonly> The width of the on side of the switch control\n * @property {Number}           offSideWidth    - <@readonly> The width of the off side of the switch control\n */\ncc.ControlSwitchSprite = cc.Sprite.extend({\n    _sliderXPosition:0,\n    _onPosition:0,\n    _offPosition:0,\n\n    _textureLocation:0,\n    _maskLocation:0,\n    _maskSize:null,\n\n    _onSprite:null,\n    _offSprite:null,\n    _thumbSprite:null,\n    _onLabel:null,\n    _offLabel:null,\n    _clipper:null,\n    _stencil:null,\n    _backRT:null,\n\n    ctor:function () {\n        cc.Sprite.prototype.ctor.call(this);\n        this._sliderXPosition = 0;\n        this._onPosition = 0;\n        this._offPosition = 0;\n        this._maskLocation = 0;\n        this._maskSize = cc.size(0, 0);\n        this._onSprite = null;\n        this._offSprite = null;\n        this._thumbSprite = null;\n        this._onLabel = null;\n        this._offLabel = null;\n    },\n\n    initWithMaskSprite:function (maskSprite, onSprite, offSprite, thumbSprite, onLabel, offLabel) {\n        if (cc.Sprite.prototype.init.call(this)) {\n            this.setSpriteFrame(maskSprite.displayFrame());\n            // Sets the default values\n            this._onPosition = 0;\n            this._offPosition = -onSprite.getContentSize().width + thumbSprite.getContentSize().width / 2;\n            this._sliderXPosition = this._onPosition;\n\n            this.setOnSprite(onSprite);\n            this.setOffSprite(offSprite);\n            this.setThumbSprite(thumbSprite);\n            this.setOnLabel(onLabel);\n            this.setOffLabel(offLabel);\n\n            // Set up the mask with the Mask shader\n            this._stencil = maskSprite;\n            var maskSize = this._maskSize = this._stencil.getContentSize();\n            this._stencil.setPosition(0, 0);\n\n            // Init clipper for mask\n            this._clipper = new cc.ClippingNode();\n            this._clipper.setAnchorPoint(0.5, 0.5);\n            this._clipper.setPosition(maskSize.width / 2, maskSize.height / 2);\n            this._clipper.setStencil(this._stencil);\n            this.addChild(this._clipper);\n\n            this._clipper.addChild(onSprite);\n            this._clipper.addChild(offSprite);\n            this._clipper.addChild(onLabel);\n            this._clipper.addChild(offLabel);\n\n            this.addChild(this._thumbSprite);\n\n            this.needsLayout();\n            return true;\n        }\n        return false;\n    },\n\n    needsLayout:function () {\n        var maskSize = this._maskSize;\n        this._onSprite.setPosition(\n            this._onSprite.getContentSize().width / 2 + this._sliderXPosition - maskSize.width / 2,\n            this._onSprite.getContentSize().height / 2 - maskSize.height / 2\n        );\n        this._offSprite.setPosition(\n            this._onSprite.getContentSize().width + this._offSprite.getContentSize().width / 2 + this._sliderXPosition - maskSize.width / 2,\n            this._offSprite.getContentSize().height / 2 - maskSize.height / 2\n        );\n\n        if (this._onLabel) {\n            this._onLabel.setPosition(\n                this._onSprite.getPositionX() - this._thumbSprite.getContentSize().width / 6,\n                this._onSprite.getContentSize().height / 2 - maskSize.height / 2\n            );\n        }\n        if (this._offLabel) {\n            this._offLabel.setPosition(\n                this._offSprite.getPositionX() + this._thumbSprite.getContentSize().width / 6,\n                this._offSprite.getContentSize().height / 2 - maskSize.height / 2\n            );\n        }\n        this._thumbSprite.setPosition(\n            this._onSprite.getContentSize().width + this._sliderXPosition,\n            this._maskSize.height / 2\n        );\n    },\n\n    setSliderXPosition:function (sliderXPosition) {\n        if (sliderXPosition <= this._offPosition) {\n            // Off\n            sliderXPosition = this._offPosition;\n        } else if (sliderXPosition >= this._onPosition) {\n            // On\n            sliderXPosition = this._onPosition;\n        }\n\n        this._sliderXPosition = sliderXPosition;\n\n        this.needsLayout();\n    },\n    getSliderXPosition:function () {\n        return this._sliderXPosition;\n    },\n\n    _getOnSideWidth:function () {\n        return this._onSprite.getContentSize().width;\n    },\n\n    _getOffSideWidth:function () {\n        return this._offSprite.getContentSize().height;\n    },\n\n    updateTweenAction:function (value, key) {\n        if (key === \"sliderXPosition\")\n            this.setSliderXPosition(value);\n    },\n\n    setOnPosition:function (onPosition) {\n        this._onPosition = onPosition;\n    },\n    getOnPosition:function () {\n        return this._onPosition;\n    },\n\n    setOffPosition:function (offPosition) {\n        this._offPosition = offPosition;\n    },\n    getOffPosition:function () {\n        return this._offPosition;\n    },\n\n    setMaskTexture:function (maskTexture) {\n        this._stencil.setTexture(maskTexture);\n    },\n    getMaskTexture:function () {\n        return this._stencil.getTexture();\n    },\n\n    setTextureLocation:function (textureLocation) {\n        this._textureLocation = textureLocation;\n    },\n    getTextureLocation:function () {\n        return this._textureLocation;\n    },\n\n    setMaskLocation:function (maskLocation) {\n        this._maskLocation = maskLocation;\n    },\n    getMaskLocation:function () {\n        return this._maskLocation;\n    },\n\n    setOnSprite:function (onSprite) {\n        this._onSprite = onSprite;\n    },\n    getOnSprite:function () {\n        return this._onSprite;\n    },\n\n    setOffSprite:function (offSprite) {\n        this._offSprite = offSprite;\n    },\n    getOffSprite:function () {\n        return this._offSprite;\n    },\n\n    setThumbSprite:function (thumbSprite) {\n        this._thumbSprite = thumbSprite;\n    },\n    getThumbSprite:function () {\n        return this._thumbSprite;\n    },\n\n    setOnLabel:function (onLabel) {\n        this._onLabel = onLabel;\n    },\n    getOnLabel:function () {\n        return this._onLabel;\n    },\n\n    setOffLabel:function (offLabel) {\n        this._offLabel = offLabel;\n    },\n    getOffLabel:function () {\n        return this._offLabel;\n    }\n});\n\nvar _p = cc.ControlSwitchSprite.prototype;\n\n/** @expose */\n_p.sliderX;\ncc.defineGetterSetter(_p, \"sliderX\", _p.getSliderXPosition, _p.setSliderXPosition);\n/** @expose */\n_p.onPos;\ncc.defineGetterSetter(_p, \"onPos\", _p.getOnPosition, _p.setOnPosition);\n/** @expose */\n_p.offPos;\ncc.defineGetterSetter(_p, \"offPos\", _p.getOffPosition, _p.setOffPosition);\n/** @expose */\n_p.maskTexture;\ncc.defineGetterSetter(_p, \"maskTexture\", _p.getMaskTexture, _p.setMaskTexture);\n/** @expose */\n_p.maskPos;\ncc.defineGetterSetter(_p, \"maskPos\", _p.getMaskLocation, _p.setMaskLocation);\n/** @expose */\n_p.onSprite;\ncc.defineGetterSetter(_p, \"onSprite\", _p.getOnSprite, _p.setOnSprite);\n/** @expose */\n_p.offSprite;\ncc.defineGetterSetter(_p, \"offSprite\", _p.getOffSprite, _p.setOffSprite);\n/** @expose */\n_p.thumbSprite;\ncc.defineGetterSetter(_p, \"thumbSprite\", _p.getThumbSprite, _p.setThumbSprite);\n/** @expose */\n_p.onLabel;\ncc.defineGetterSetter(_p, \"onLabel\", _p.getOnLabel, _p.setOnLabel);\n/** @expose */\n_p.offLabel;\ncc.defineGetterSetter(_p, \"offLabel\", _p.getOffLabel, _p.setOffLabel);\n/** @expose */\n_p.onSideWidth;\ncc.defineGetterSetter(_p, \"onSideWidth\", _p._getOnSideWidth);\n/** @expose */\n_p.offSideWidth;\ncc.defineGetterSetter(_p, \"offSideWidth\", _p._getOffSideWidth);\n\n_p = null;\n"]}