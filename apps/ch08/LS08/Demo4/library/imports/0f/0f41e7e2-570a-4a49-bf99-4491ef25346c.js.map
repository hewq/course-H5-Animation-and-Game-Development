{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/UITextField.js"],"names":["ccui","_TextFieldRenderer","cc","TextFieldTTF","extend","_maxLengthEnabled","_maxLength","_passwordEnabled","_passwordStyleText","_attachWithIME","_detachWithIME","_insertText","_deleteBackward","_className","ctor","prototype","call","onEnter","setDelegate","onTextFieldAttachWithIME","sender","setAttachWithIME","onTextFieldInsertText","text","len","setInsertText","getCharCount","onTextFieldDeleteBackward","delText","nLen","setDeleteBackward","onTextFieldDetachWithIME","setDetachWithIME","insertText","input_text","text_count","getString","length","setPasswordText","deleteBackward","_inputText","openIME","attachWithIME","closeIME","detachWithIME","setMaxLengthEnabled","enable","isMaxLengthEnabled","setMaxLength","getMaxLength","setPasswordEnabled","isPasswordEnabled","setPasswordStyleText","styleText","header","charCodeAt","tempStr","max","i","LabelTTF","setString","attach","getAttachWithIME","detach","getDetachWithIME","insert","getInsertText","getDeleteBackward","onDraw","create","placeholder","fontName","fontSize","ret","initWithString","setPlaceHolder","TextField","Widget","_textFieldRenderer","_touchWidth","_touchHeight","_useTouchArea","_textFieldEventListener","_textFieldEventSelector","_textFieldRendererAdaptDirty","_fontName","_fontSize","_ccEventCallback","setTouchEnabled","setFontName","setFontSize","scheduleUpdate","_initRenderer","addProtectedChild","RENDERER_ZORDER","setTouchSize","size","width","height","setTouchAreaEnabled","hitTest","pt","nsp","convertToNodeSpace","bb","rect","_anchorPoint","x","y","getTouchSize","setText","log","String","substr","_updateContentSizeWithTextureSize","getContentSize","value","getPlaceHolder","getPlaceHolderColor","setPlaceHolderColor","color","setColorSpaceHolder","setTextColor","textColor","getFontSize","name","getFontName","didNotSelectSelf","getStringValue","getStringLength","onTouchBegan","touchPoint","unusedEvent","self","pass","_hit","setTimeout","getPasswordStyleText","update","dt","_detachWithIMEEvent","_attachWithIMEEvent","_insertTextEvent","_deleteBackwardEvent","EVENT_ATTACH_WITH_IME","EVENT_DETACH_WITH_IME","EVENT_INSERT_TEXT","EVENT_DELETE_BACKWARD","addEventListenerTextField","selector","target","addEventListener","_onSizeChanged","_adaptRenderers","_textfieldRendererScaleChangedWithSize","_ignoreSize","setDimensions","_contentSize","setPosition","getAutoRenderSize","virtualSize","getVirtualRendererSize","getVirtualRenderer","getDescription","_createCloneInstance","_copySpecialProperties","textField","setTextAreaSize","setContentSize","setTextHorizontalAlignment","alignment","setHorizontalAlignment","setTextVerticalAlignment","setVerticalAlignment","_setFont","font","_getFont","_changePosition","_p","string","defineGetterSetter","placeHolder","maxLengthEnabled","maxLength","passwordEnabled"],"mappings":"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","file":"UITextField.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets","sourcesContent":["/****************************************************************************\n Copyright (c) 2011-2012 cocos2d-x.org\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n/**\n * @ignore\n */\n//it's a private class, it's a renderer of ccui.TextField.\nccui._TextFieldRenderer = cc.TextFieldTTF.extend({\n    _maxLengthEnabled: false,\n    _maxLength: 0,\n    _passwordEnabled: false,\n    _passwordStyleText: \"\",\n    _attachWithIME: false,\n    _detachWithIME: false,\n    _insertText: false,\n    _deleteBackward: false,\n    _className: \"_TextFieldRenderer\",\n\n    ctor: function () {\n        cc.TextFieldTTF.prototype.ctor.call(this);\n        this._maxLengthEnabled = false;\n        this._maxLength = 0;\n        this._passwordEnabled = false;\n        this._passwordStyleText = \"*\";\n        this._attachWithIME = false;\n        this._detachWithIME = false;\n        this._insertText = false;\n        this._deleteBackward = false;\n    },\n\n    onEnter: function () {\n        cc.TextFieldTTF.prototype.onEnter.call(this);\n        cc.TextFieldTTF.prototype.setDelegate.call(this, this);\n    },\n\n    onTextFieldAttachWithIME: function (sender) {\n        this.setAttachWithIME(true);\n        return false;\n    },\n\n    onTextFieldInsertText: function (sender, text, len) {\n        if (len === 1 && text === \"\\n\")\n            return false;\n\n        this.setInsertText(true);\n        return (this._maxLengthEnabled) && (cc.TextFieldTTF.prototype.getCharCount.call(this) >= this._maxLength);\n    },\n\n    onTextFieldDeleteBackward: function (sender, delText, nLen) {\n        this.setDeleteBackward(true);\n        return false;\n    },\n\n    onTextFieldDetachWithIME: function (sender) {\n        this.setDetachWithIME(true);\n        return false;\n    },\n\n    insertText: function (text, len) {\n        var input_text = text;\n\n        if (text !== \"\\n\"){\n            if (this._maxLengthEnabled){\n                var text_count = this.getString().length;\n                if (text_count >= this._maxLength){\n                    // password\n                    if (this._passwordEnabled)\n                        this.setPasswordText(this.getString());\n                    return;\n                }\n            }\n        }\n        cc.TextFieldTTF.prototype.insertText.call(this, input_text, len);\n\n        // password\n        if (this._passwordEnabled && cc.TextFieldTTF.prototype.getCharCount.call(this) > 0)\n            this.setPasswordText(this.getString());\n    },\n\n    deleteBackward: function () {\n        cc.TextFieldTTF.prototype.deleteBackward.call(this);\n\n        if (cc.TextFieldTTF.prototype.getCharCount.call(this) > 0 && this._passwordEnabled)\n            this.setPasswordText(this._inputText);\n    },\n\n    openIME: function () {\n        cc.TextFieldTTF.prototype.attachWithIME.call(this);\n    },\n\n    closeIME: function () {\n        cc.TextFieldTTF.prototype.detachWithIME.call(this);\n    },\n\n    setMaxLengthEnabled: function (enable) {\n        this._maxLengthEnabled = enable;\n    },\n\n    isMaxLengthEnabled: function () {\n        return this._maxLengthEnabled;\n    },\n\n    setMaxLength: function (length) {\n        this._maxLength = length;\n    },\n\n    getMaxLength: function () {\n        return this._maxLength;\n    },\n\n    getCharCount: function () {\n        return cc.TextFieldTTF.prototype.getCharCount.call(this);\n    },\n\n    setPasswordEnabled: function (enable) {\n        this._passwordEnabled = enable;\n    },\n\n    isPasswordEnabled: function () {\n        return this._passwordEnabled;\n    },\n\n    setPasswordStyleText: function (styleText) {\n        if (styleText.length > 1)\n            return;\n        var header = styleText.charCodeAt(0);\n        if (header < 33 || header > 126)\n            return;\n        this._passwordStyleText = styleText;\n    },\n\n    setPasswordText: function (text) {\n        var tempStr = \"\";\n        var text_count = text.length;\n        var max = text_count;\n\n        if (this._maxLengthEnabled && text_count > this._maxLength)\n            max = this._maxLength;\n\n        for (var i = 0; i < max; ++i)\n            tempStr += this._passwordStyleText;\n\n        cc.LabelTTF.prototype.setString.call(this, tempStr);\n    },\n\n    setAttachWithIME: function (attach) {\n        this._attachWithIME = attach;\n    },\n\n    getAttachWithIME: function () {\n        return this._attachWithIME;\n    },\n\n    setDetachWithIME: function (detach) {\n        this._detachWithIME = detach;\n    },\n\n    getDetachWithIME: function () {\n        return this._detachWithIME;\n    },\n\n    setInsertText: function (insert) {\n        this._insertText = insert;\n    },\n\n    getInsertText: function () {\n        return this._insertText;\n    },\n\n    setDeleteBackward: function (deleteBackward) {\n        this._deleteBackward = deleteBackward;\n    },\n\n    getDeleteBackward: function () {\n        return this._deleteBackward;\n    },\n\n    onDraw: function (sender) {\n        return false;\n    }\n});\n\nccui._TextFieldRenderer.create = function (placeholder, fontName, fontSize) {\n    var ret = new ccui._TextFieldRenderer();\n    if (ret && ret.initWithString(\"\", fontName, fontSize)) {\n        if (placeholder)\n            ret.setPlaceHolder(placeholder);\n        return ret;\n    }\n    return null;\n};\n\n/**\n *\n * @class\n * @extends ccui.Widget\n *\n * @property {String}   string              - The content string of the label\n * @property {String}   placeHolder         - The place holder of the text field\n * @property {String}   font                - The text field font with a style string: e.g. \"18px Verdana\"\n * @property {String}   fontName            - The text field font name\n * @property {Number}   fontSize            - The text field font size\n * @property {Boolean}  maxLengthEnabled    - Indicate whether max length limit is enabled\n * @property {Number}   maxLength           - The max length of the text field\n * @property {Boolean}  passwordEnabled     - Indicate whether the text field is for entering password\n */\nccui.TextField = ccui.Widget.extend(/** @lends ccui.TextField# */{\n    _textFieldRenderer: null,\n    _touchWidth: 0,\n    _touchHeight: 0,\n    _useTouchArea: false,\n    _textFieldEventListener: null,\n    _textFieldEventSelector: null,\n    _passwordStyleText: \"\",\n    _textFieldRendererAdaptDirty: true,\n    _fontName: \"\",\n    _fontSize: 12,\n\n    _ccEventCallback: null,\n\n    /**\n     * allocates and initializes a UITextField.\n     * Constructor of ccui.TextField. override it to extend the construction behavior, remember to call \"this._super()\" in the extended \"ctor\" function.\n     * @param {string} placeholder\n     * @param {string} fontName\n     * @param {Number} fontSize\n     * @example\n     * // example\n     * var uiTextField = new ccui.TextField();\n     */\n    ctor: function (placeholder, fontName, fontSize) {\n        ccui.Widget.prototype.ctor.call(this);\n        this.setTouchEnabled(true);\n        if (fontName)\n            this.setFontName(fontName);\n        if (fontSize)\n            this.setFontSize(fontSize);\n        if (placeholder)\n            this.setPlaceHolder(placeholder);\n    },\n\n    /**\n     * Calls parent class' onEnter and schedules update function.\n     * @override\n     */\n    onEnter: function () {\n        ccui.Widget.prototype.onEnter.call(this);\n        this.scheduleUpdate();\n    },\n\n    _initRenderer: function () {\n        this._textFieldRenderer = ccui._TextFieldRenderer.create(\"input words here\", \"Thonburi\", 20);\n        this.addProtectedChild(this._textFieldRenderer, ccui.TextField.RENDERER_ZORDER, -1);\n    },\n\n    /**\n     * Sets touch size of ccui.TextField.\n     * @param {cc.Size} size\n     */\n    setTouchSize: function (size) {\n        this._touchWidth = size.width;\n        this._touchHeight = size.height;\n    },\n\n    /**\n     * Sets whether use touch area.\n     * @param enable\n     */\n    setTouchAreaEnabled: function(enable){\n        this._useTouchArea = enable;\n    },\n\n    /**\n     * Checks a point if is in ccui.TextField's space\n     * @param {cc.Point} pt\n     * @returns {boolean}\n     */\n    hitTest: function(pt){\n        if (this._useTouchArea) {\n            var nsp = this.convertToNodeSpace(pt);\n            var bb = cc.rect(\n                -this._touchWidth * this._anchorPoint.x,\n                -this._touchHeight * this._anchorPoint.y,\n                this._touchWidth, this._touchHeight\n            );\n\n            return ( nsp.x >= bb.x && nsp.x <= bb.x + bb.width &&\n                nsp.y >= bb.y && nsp.y <= bb.y + bb.height );\n        } else\n            return ccui.Widget.prototype.hitTest.call(this, pt);\n    },\n\n    /**\n     * Returns touch size of ccui.TextField.\n     * @returns {cc.Size}\n     */\n    getTouchSize: function () {\n        return cc.size(this._touchWidth, this._touchHeight);\n    },\n\n    /**\n     *  Changes the string value of textField.\n     * @deprecated since v3.0, please use setString instead.\n     * @param {String} text\n     */\n    setText: function (text) {\n        cc.log(\"Please use the setString\");\n        this.setString(text);\n    },\n\n    /**\n     *  Changes the string value of textField.\n     * @param {String} text\n     */\n    setString: function (text) {\n        if (text == null)\n            return;\n\n        text = String(text);\n        if (this.isMaxLengthEnabled())\n            text = text.substr(0, this.getMaxLength());\n        if (this.isPasswordEnabled()) {\n            this._textFieldRenderer.setPasswordText(text);\n            this._textFieldRenderer.setString(\"\");\n            this._textFieldRenderer.insertText(text, text.length);\n        } else\n            this._textFieldRenderer.setString(text);\n        this._textFieldRendererAdaptDirty = true;\n        this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize());\n    },\n\n    /**\n     * Sets the placeholder string. <br />\n     * display this string if string equal \"\".\n     * @param {String} value\n     */\n    setPlaceHolder: function (value) {\n        this._textFieldRenderer.setPlaceHolder(value);\n        this._textFieldRendererAdaptDirty = true;\n        this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize());\n    },\n\n    /**\n     * Returns the placeholder string.\n     * @returns {String}\n     */\n    getPlaceHolder: function () {\n        return this._textFieldRenderer.getPlaceHolder();\n    },\n\n    /**\n     * Returns the color of ccui.TextField's place holder.\n     * @returns {cc.Color}\n     */\n    getPlaceHolderColor: function(){\n        return this._textFieldRenderer.getPlaceHolderColor();\n    },\n\n    /**\n     * Sets the place holder color to ccui.TextField.\n     * @param color\n     */\n    setPlaceHolderColor: function(color){\n        this._textFieldRenderer.setColorSpaceHolder(color);\n    },\n\n    /**\n     * Sets the text color to ccui.TextField\n     * @param textColor\n     */\n    setTextColor: function(textColor){\n        this._textFieldRenderer.setTextColor(textColor);\n    },\n\n    /**\n     * Sets font size for ccui.TextField.\n     * @param {Number} size\n     */\n    setFontSize: function (size) {\n        this._textFieldRenderer.setFontSize(size);\n        this._fontSize = size;\n        this._textFieldRendererAdaptDirty = true;\n        this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize());\n    },\n\n    /**\n     * Gets font size of ccui.TextField.\n     * @return {Number} size\n     */\n    getFontSize: function () {\n        return this._fontSize;\n    },\n\n    /**\n     * Sets font name for ccui.TextField\n     * @param {String} name\n     */\n    setFontName: function (name) {\n        this._textFieldRenderer.setFontName(name);\n        this._fontName = name;\n        this._textFieldRendererAdaptDirty = true;\n        this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize());\n    },\n\n    /**\n     * Returns font name of ccui.TextField.\n     * @return {String} font name\n     */\n    getFontName: function () {\n        return this._fontName;\n    },\n\n    /**\n     * detach with IME\n     */\n    didNotSelectSelf: function () {\n        this._textFieldRenderer.detachWithIME();\n    },\n\n    /**\n     * Returns textField string value\n     * @deprecated since v3.0, please use getString instead.\n     * @returns {String}\n     */\n    getStringValue: function () {\n        cc.log(\"Please use the getString\");\n        return this.getString();\n    },\n\n    /**\n     * Returns string value of ccui.TextField.\n     * @returns {String}\n     */\n    getString: function () {\n        return this._textFieldRenderer.getString();\n    },\n\n    /**\n     * Returns the length of ccui.TextField.\n     * @returns {Number}\n     */\n    getStringLength: function(){\n        return this._textFieldRenderer.getStringLength();\n    },\n\n    /**\n     * The touch began event callback handler.\n     * @param {cc.Point} touchPoint\n     */\n    onTouchBegan: function (touchPoint, unusedEvent) {\n        var self = this;\n        var pass = ccui.Widget.prototype.onTouchBegan.call(self, touchPoint, unusedEvent);\n        if (self._hit) {\n            setTimeout(function(){\n                self._textFieldRenderer.attachWithIME();\n            }, 0);\n        }else{\n            setTimeout(function(){\n                self._textFieldRenderer.detachWithIME();\n            }, 0);\n        }\n        return pass;\n    },\n\n    /**\n     * Sets Whether to open string length limit for ccui.TextField.\n     * @param {Boolean} enable\n     */\n    setMaxLengthEnabled: function (enable) {\n        this._textFieldRenderer.setMaxLengthEnabled(enable);\n    },\n\n    /**\n     * Returns Whether to open string length limit.\n     * @returns {Boolean}\n     */\n    isMaxLengthEnabled: function () {\n        return this._textFieldRenderer.isMaxLengthEnabled();\n    },\n\n    /**\n     * Sets the max length of ccui.TextField. Only when you turn on the string length limit, it is valid.\n     * @param {number} length\n     */\n    setMaxLength: function (length) {\n        this._textFieldRenderer.setMaxLength(length);\n        this.setString(this.getString());\n    },\n\n    /**\n     * Returns the max length of ccui.TextField.\n     * @returns {number} length\n     */\n    getMaxLength: function () {\n        return this._textFieldRenderer.getMaxLength();\n    },\n\n    /**\n     * Sets whether to open setting string as password character.\n     * @param {Boolean} enable\n     */\n    setPasswordEnabled: function (enable) {\n        this._textFieldRenderer.setPasswordEnabled(enable);\n    },\n\n    /**\n     * Returns whether to open setting string as password character.\n     * @returns {Boolean}\n     */\n    isPasswordEnabled: function () {\n        return this._textFieldRenderer.isPasswordEnabled();\n    },\n\n    /**\n     * Sets the password style character, Only when you turn on setting string as password character, it is valid.\n     * @param styleText\n     */\n    setPasswordStyleText: function(styleText){\n        this._textFieldRenderer.setPasswordStyleText(styleText);\n        this._passwordStyleText = styleText;\n\n        this.setString(this.getString());\n    },\n\n    /**\n     * Returns the password style character.\n     * @returns {String}\n     */\n    getPasswordStyleText: function () {\n        return this._passwordStyleText;\n    },\n\n    update: function (dt) {\n        if (this.getDetachWithIME()) {\n            this._detachWithIMEEvent();\n            this.setDetachWithIME(false);\n        }\n        if (this.getAttachWithIME()) {\n            this._attachWithIMEEvent();\n            this.setAttachWithIME(false);\n        }\n        if (this.getInsertText()) {\n            this._textFieldRendererAdaptDirty = true;\n            this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize());\n\n            this._insertTextEvent();\n            this.setInsertText(false);\n        }\n        if (this.getDeleteBackward()) {\n            this._textFieldRendererAdaptDirty = true;\n            this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize());\n\n            this._deleteBackwardEvent();\n            this.setDeleteBackward(false);\n        }\n    },\n\n    /**\n     * Returns whether attach with IME.\n     * @returns {Boolean}\n     */\n    getAttachWithIME: function () {\n        return this._textFieldRenderer.getAttachWithIME();\n    },\n\n    /**\n     * Sets attach with IME.\n     * @param {Boolean} attach\n     */\n    setAttachWithIME: function (attach) {\n        this._textFieldRenderer.setAttachWithIME(attach);\n    },\n\n    /**\n     * Returns whether detach with IME.\n     * @returns {Boolean}\n     */\n    getDetachWithIME: function () {\n        return this._textFieldRenderer.getDetachWithIME();\n    },\n\n    /**\n     * Sets detach with IME.\n     * @param {Boolean} detach\n     */\n    setDetachWithIME: function (detach) {\n        this._textFieldRenderer.setDetachWithIME(detach);\n    },\n\n    /**\n     * Returns insertText string of ccui.TextField.\n     * @returns {String}\n     */\n    getInsertText: function () {\n        return this._textFieldRenderer.getInsertText();\n    },\n\n    /**\n     * Sets insertText string to ccui.TextField.\n     * @param {String} insertText\n     */\n    setInsertText: function (insertText) {\n        this._textFieldRenderer.setInsertText(insertText);\n    },\n\n    /**\n     * Returns the delete backward of ccui.TextField.\n     * @returns {Boolean}\n     */\n    getDeleteBackward: function () {\n        return this._textFieldRenderer.getDeleteBackward();\n    },\n\n    /**\n     * Sets the delete backward of ccui.TextField.\n     * @param {Boolean} deleteBackward\n     */\n    setDeleteBackward: function (deleteBackward) {\n        this._textFieldRenderer.setDeleteBackward(deleteBackward);\n    },\n\n    _attachWithIMEEvent: function () {\n        if(this._textFieldEventSelector){\n            if (this._textFieldEventListener)\n                this._textFieldEventSelector.call(this._textFieldEventListener, this, ccui.TextField.EVENT_ATTACH_WITH_IME);\n            else\n                this._textFieldEventSelector(this, ccui.TextField.EVENT_ATTACH_WITH_IME);\n        }\n        if (this._ccEventCallback){\n            this._ccEventCallback(this, ccui.TextField.EVENT_ATTACH_WITH_IME);\n        }\n    },\n\n    _detachWithIMEEvent: function () {\n        if(this._textFieldEventSelector){\n            if (this._textFieldEventListener)\n                this._textFieldEventSelector.call(this._textFieldEventListener, this, ccui.TextField.EVENT_DETACH_WITH_IME);\n            else\n                this._textFieldEventSelector(this, ccui.TextField.EVENT_DETACH_WITH_IME);\n        }\n        if (this._ccEventCallback)\n            this._ccEventCallback(this, ccui.TextField.EVENT_DETACH_WITH_IME);\n    },\n\n    _insertTextEvent: function () {\n        if(this._textFieldEventSelector){\n            if (this._textFieldEventListener)\n                this._textFieldEventSelector.call(this._textFieldEventListener, this, ccui.TextField.EVENT_INSERT_TEXT);\n            else\n                this._textFieldEventSelector(this, ccui.TextField.EVENT_INSERT_TEXT);          //eventCallback\n        }\n        if (this._ccEventCallback)\n            this._ccEventCallback(this, ccui.TextField.EVENT_INSERT_TEXT);\n    },\n\n    _deleteBackwardEvent: function () {\n        if(this._textFieldEventSelector){\n            if (this._textFieldEventListener)\n                this._textFieldEventSelector.call(this._textFieldEventListener, this, ccui.TextField.EVENT_DELETE_BACKWARD);\n            else\n                this._textFieldEventSelector(this, ccui.TextField.EVENT_DELETE_BACKWARD);         //eventCallback\n        }\n        if (this._ccEventCallback)\n            this._ccEventCallback(this, ccui.TextField.EVENT_DELETE_BACKWARD);\n    },\n\n    /**\n     * Adds event listener to cuci.TextField.\n     * @param {Object} [target=]\n     * @param {Function} selector\n     * @deprecated since v3.0, please use addEventListener instead.\n     */\n    addEventListenerTextField: function (selector, target) {\n        this.addEventListener(selector, target);\n    },\n\n    /**\n     * Adds event listener callback.\n     * @param {Object} [target=]\n     * @param {Function} selector\n     */\n    addEventListener: function(selector, target){\n        this._textFieldEventSelector = selector;        //when target is undefined, _textFieldEventSelector is ccEventCallback.\n        this._textFieldEventListener = target;\n    },\n\n    _onSizeChanged: function () {\n        ccui.Widget.prototype._onSizeChanged.call(this);\n        this._textFieldRendererAdaptDirty = true;\n    },\n\n    _adaptRenderers: function(){\n        if (this._textFieldRendererAdaptDirty) {\n            this._textfieldRendererScaleChangedWithSize();\n            this._textFieldRendererAdaptDirty = false;\n        }\n    },\n\n    _textfieldRendererScaleChangedWithSize: function () {\n        if (!this._ignoreSize)\n            this._textFieldRenderer.setDimensions(this._contentSize);\n        this._textFieldRenderer.setPosition(this._contentSize.width / 2, this._contentSize.height / 2);\n    },\n\n    //@since v3.3\n    getAutoRenderSize: function(){\n        var virtualSize = this._textFieldRenderer.getContentSize();\n        if (!this._ignoreSize) {\n            this._textFieldRenderer.setDimensions(0, 0);\n            virtualSize = this._textFieldRenderer.getContentSize();\n            this._textFieldRenderer.setDimensions(this._contentSize.width, this._contentSize.height);\n        }\n        return virtualSize;\n    },\n\n    /**\n     * Returns the ccui.TextField's content size.\n     * @returns {cc.Size}\n     */\n    getVirtualRendererSize: function(){\n        return this._textFieldRenderer.getContentSize();\n    },\n\n    /**\n     * Returns the renderer of ccui.TextField.\n     * @returns {cc.Node}\n     */\n    getVirtualRenderer: function () {\n        return this._textFieldRenderer;\n    },\n\n    /**\n     * Returns the \"class name\" of ccui.TextField.\n     * @returns {string}\n     */\n    getDescription: function () {\n        return \"TextField\";\n    },\n\n    /**\n     * Open keyboard and receive input text.\n     * @return {Boolean}\n     */\n    attachWithIME: function () {\n        this._textFieldRenderer.attachWithIME();\n    },\n\n    _createCloneInstance: function () {\n        return new ccui.TextField();\n    },\n\n    _copySpecialProperties: function (textField) {\n        this.setString(textField._textFieldRenderer.getString());\n        this.setPlaceHolder(textField.getString());\n        this.setFontSize(textField._textFieldRenderer.getFontSize());\n        this.setFontName(textField._textFieldRenderer.getFontName());\n        this.setMaxLengthEnabled(textField.isMaxLengthEnabled());\n        this.setMaxLength(textField.getMaxLength());\n        this.setPasswordEnabled(textField.isPasswordEnabled());\n        this.setPasswordStyleText(textField._passwordStyleText);\n        this.setAttachWithIME(textField.getAttachWithIME());\n        this.setDetachWithIME(textField.getDetachWithIME());\n        this.setInsertText(textField.getInsertText());\n        this.setDeleteBackward(textField.getDeleteBackward());\n        this._ccEventCallback = textField._ccEventCallback;\n        this._textFieldEventListener = textField._textFieldEventListener;\n        this._textFieldEventSelector = textField._textFieldEventSelector;\n    },\n\n    /**\n     * Sets the text area size to ccui.TextField.\n     * @param {cc.Size} size\n     */\n    setTextAreaSize: function(size){\n        this.setContentSize(size);\n    },\n\n    /**\n     * Sets the text horizontal alignment of ccui.TextField.\n     * @param alignment\n     */\n    setTextHorizontalAlignment: function(alignment){\n        this._textFieldRenderer.setHorizontalAlignment(alignment);\n    },\n\n    /**\n     * Sets the text vertical alignment of ccui.TextField.\n     * @param alignment\n     */\n    setTextVerticalAlignment: function(alignment){\n        this._textFieldRenderer.setVerticalAlignment(alignment);\n    },\n    _setFont: function (font) {\n        this._textFieldRenderer._setFont(font);\n        this._textFieldRendererAdaptDirty = true;\n    },\n\n    _getFont: function () {\n        return this._textFieldRenderer._getFont();\n    },\n\n    _changePosition: function(){\n        this._adaptRenderers();\n    }\n});\n\n/**\n * Creates a ccui.TextField.\n * @deprecated since v3.0, please use new ccui.TextField() instead.\n * @param {String} placeholder\n * @param {String} fontName\n * @param {Number} fontSize\n * @returns {ccui.TextField}\n */\nccui.TextField.create = function(placeholder, fontName, fontSize){\n    return new ccui.TextField(placeholder, fontName, fontSize);\n};\n\nvar _p = ccui.TextField.prototype;\n\n// Extended properties\n/** @expose */\n_p.string;\ncc.defineGetterSetter(_p, \"string\", _p.getString, _p.setString);\n/** @expose */\n_p.placeHolder;\ncc.defineGetterSetter(_p, \"placeHolder\", _p.getPlaceHolder, _p.setPlaceHolder);\n/** @expose */\n_p.font;\ncc.defineGetterSetter(_p, \"font\", _p._getFont, _p._setFont);\n/** @expose */\n_p.fontSize;\ncc.defineGetterSetter(_p, \"fontSize\", _p.getFontSize, _p.setFontSize);\n/** @expose */\n_p.fontName;\ncc.defineGetterSetter(_p, \"fontName\", _p.getFontName, _p.setFontName);\n/** @expose */\n_p.maxLengthEnabled;\ncc.defineGetterSetter(_p, \"maxLengthEnabled\", _p.isMaxLengthEnabled, _p.setMaxLengthEnabled);\n/** @expose */\n_p.maxLength;\ncc.defineGetterSetter(_p, \"maxLength\", _p.getMaxLength, _p.setMaxLength);\n/** @expose */\n_p.passwordEnabled;\ncc.defineGetterSetter(_p, \"passwordEnabled\", _p.isPasswordEnabled, _p.setPasswordEnabled);\n\n_p = null;\n\n// Constants\n//TextField event\n/**\n * The attach with IME event flag of ccui.TextField\n * @constant\n * @type {number}\n */\nccui.TextField.EVENT_ATTACH_WITH_IME = 0;\n/**\n * The detach with IME event flag of ccui.TextField\n * @constant\n * @type {number}\n */\nccui.TextField.EVENT_DETACH_WITH_IME = 1;\n/**\n * The insert text event flag of ccui.TextField\n * @constant\n * @type {number}\n */\nccui.TextField.EVENT_INSERT_TEXT = 2;\n/**\n * The delete backward event flag of ccui.TextField\n * @constant\n * @type {number}\n */\nccui.TextField.EVENT_DELETE_BACKWARD = 3;\n\n/**\n * The zOrder value of ccui.TextField's renderer.\n * @constant\n * @type {number}\n */\nccui.TextField.RENDERER_ZORDER = -1;"]}