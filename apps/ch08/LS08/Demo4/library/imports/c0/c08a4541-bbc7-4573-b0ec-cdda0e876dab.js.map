{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark/assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark/kernel-template.js"],"names":["kernelConfig","kernelName","kernelInit","init","kernelCleanup","cleanup","kernelSimd","simd","kernelNonSimd","nonSimd","kernelIterations","benchmarks","add","Benchmark","n","s","i"],"mappings":";;;;;;AAAA;AACA;AACC,aAAY;;AAEX;AACA,MAAIA,eAAe;AACjBC,gBAAkB,MADD;AAEjBC,gBAAkBC,IAFD;AAGjBC,mBAAkBC,OAHD;AAIjBC,gBAAkBC,IAJD;AAKjBC,mBAAkBC,OALD;AAMjBC,sBAAkB;AAND,GAAnB;;AASA;AACAC,aAAWC,GAAX,CAAgB,IAAIC,SAAJ,CAAeb,YAAf,CAAhB;;AAEA;AACA,WAASG,IAAT,GAAiB;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAOI,KAAM,CAAN,MAAaE,QAAS,CAAT,CAApB;AACD;;AAED;AACA,WAASJ,OAAT,GAAoB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAOE,KAAM,CAAN,MAAaE,QAAS,CAAT,CAApB;AACD;;AAED;AACA,WAASF,IAAT,CAAeO,CAAf,EAAkB;AAChB,QAAIC,IAAI,CAAR;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,CAApB,EAAuB,EAAEE,CAAzB,EAA4B;AAC1BD,WAAKC,CAAL;AACD;AACD,WAAOD,CAAP;AACD;;AAED;AACA,WAASN,OAAT,CAAkBK,CAAlB,EAAqB;AACnB,QAAIC,IAAI,CAAR;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,CAApB,EAAuB,EAAEE,CAAzB,EAA4B;AAC1BD,WAAKC,CAAL;AACD;AACD,WAAOD,CAAP;AACD;AAEF,CA7DA,GAAD","file":"kernel-template.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark","sourcesContent":["// Kernel template\n// Author: Peter Jensen\n(function () {\n\n  // Kernel configuration\n  var kernelConfig = {\n    kernelName:       \"Test\",\n    kernelInit:       init,\n    kernelCleanup:    cleanup,\n    kernelSimd:       simd,\n    kernelNonSimd:    nonSimd,\n    kernelIterations: 100000000\n  };\n\n  // Hook up to the harness\n  benchmarks.add (new Benchmark (kernelConfig));\n\n  // Kernel Initializer\n  function init () {\n    // Do initial sanity check and initialize data for the kernels.\n    // The sanity check should verify that the simd and nonSimd results\n    // are the same.\n    // It is recommended to do minimal object creation in the kernels\n    // themselves.  If global data needs to be initialized, here would\n    // be the place to do it.\n    // If the sanity checks fails the kernels will not be executed\n    // Returns:\n    //   true:  First run (unoptimized) of the kernels passed\n    //   false: First run (unoptimized) of the kernels failed\n    return simd (1) === nonSimd (1);\n  }\n\n  // Kernel Cleanup\n  function cleanup () {\n    // Do final sanity check and perform cleanup.\n    // This function is called when all the kernel iterations have been\n    // executed, so they should be in their final optimized version.  The \n    // sanity check done during initialization will probably be of the \n    // initial unoptimized version.\n    // Returns:\n    //   true:  Last run (optimized) of the kernels passed\n    //   false: last run (optimized) of the kernels failed\n    return simd (1) === nonSimd (1);\n  }\n\n  // SIMD version of the kernel\n  function simd (n) {\n    var s = 0;\n    for (var i = 0; i < n; ++i) {\n      s += i;\n    }\n    return s;\n  }\n\n  // Non SIMD version of the kernel\n  function nonSimd (n) {\n    var s = 0;\n    for (var i = 0; i < n; ++i) {\n      s += i;\n    }\n    return s;\n  }\n\n} ());\n"]}