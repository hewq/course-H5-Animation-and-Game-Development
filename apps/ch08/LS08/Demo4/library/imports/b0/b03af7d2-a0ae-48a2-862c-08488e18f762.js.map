{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget/assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget/UIScrollView.js"],"names":["ccui","ScrollView","Layout","extend","_innerContainer","_direction","_topBoundary","_bottomBoundary","_leftBoundary","_rightBoundary","_touchMoveDisplacements","_touchMoveTimeDeltas","_touchMovePreviousTimestamp","_touchTotalTimeThreshold","_autoScrolling","_autoScrollTargetDelta","_autoScrollAttenuate","_autoScrollStartPosition","_autoScrollTotalTime","_autoScrollAccumulatedTime","_autoScrollCurrentlyOutOfBoundary","_autoScrollBraking","_autoScrollBrakingStartPosition","_bePressed","_childFocusCancelOffset","bounceEnabled","_outOfBoundaryAmount","_outOfBoundaryAmountDirty","inertiaScrollEnabled","_scrollBarEnabled","_verticalScrollBar","_horizontalScrollBar","_scrollViewEventListener","_scrollViewEventSelector","_className","ctor","prototype","call","setClippingEnabled","setTouchEnabled","DIR_NONE","cc","p","_initScrollBar","onEnter","scheduleUpdate","onExit","renderer","_removeCache","__instanceId","visit","parent","cmd","_renderCmd","parentCmd","_visible","_propagateFlagsDown","_adaptRenderers","_doLayout","pushRenderCommand","WebGLRenderCmd","currentID","_turnToCacheMode","stencilClipping","_clippingEnabled","_clippingType","CLIPPING_STENCIL","scissorClipping","CLIPPING_SCISSOR","stencilClippingVisit","scissorClippingVisit","i","children","_children","len","length","child","j","pChildren","_protectedChildren","pLen","pChild","_reorderChildDirty","sortAllChildren","_reorderProtectedChildDirty","sortAllProtectedChildren","_changeProtectedChild","postStencilVisit","postScissorVisit","_turnToNormalMode","updateChildren","_dirtyFlag","findNextFocusedWidget","direction","current","getLayoutType","LINEAR_VERTICAL","LINEAR_HORIZONTAL","Widget","_initRenderer","setColor","color","setOpacity","setCascadeColorEnabled","setCascadeOpacityEnabled","addProtectedChild","_createRenderCmd","_renderType","game","RENDER_TYPE_WEBGL","CanvasRenderCmd","_onSizeChanged","locSize","_contentSize","height","width","innerSize","getContentSize","setContentSize","size","Math","max","setPosition","onScrolled","_getHowMuchOutOfBoundary","setInnerContainerSize","innerContainer","innerSizeWidth","innerSizeHeight","log","pos","getPosition","contAP","getAnchorPoint","getLeftBoundary","x","getTopBoundary","y","setInnerContainerPosition","_updateScrollBar","_setInnerWidth","locW","innerWidth","container","oldInnerWidth","DIR_HORIZONTAL","DIR_BOTH","getRightBoundary","newInnerWidth","offset","_scrollChildren","innerAX","anchorX","_setInnerHeight","locH","innerHeight","oldInnerHeight","DIR_VERTICAL","newInnerHeight","innerAY","anchorY","position","getPositionX","getPositionY","MOVEDIR_TOP","MOVEDIR_RIGHT","_isOutOfBoundary","_processScrollEvent","_dispatchEvent","EVENT_CONTAINER_MOVED","getInnerContainerPosition","getInnerContainerSize","_getInnerWidth","_getInnerHeight","_isInContainer","widget","wPos","_position","wSize","wAnchor","_anchorPoint","_customSize","bottom","left","l","childrenArray","_inViewRect","addChild","zOrder","tag","getLocalZOrder","getTag","removeAllChildren","removeAllChildrenWithCleanup","cleanup","removeChild","getChildren","getChildrenCount","getChildByTag","getChildByName","name","_flattenVectorByDirection","vector","result","addition","undefined","outOfBoundaryAmount","getBottomBoundary","dir","outOfBoundary","MOVEDIR_BOTTOM","MOVEDIR_LEFT","_fltEqualZero","_moveInnerContainer","deltaMove","canStartBounceBack","adjustedMove","pAdd","_startBounceBackIfNeeded","_calculateTouchMoveVelocity","totalTime","totalMovement","pMult","setTouchTotalTimeThreshold","touchTotalTimeThreshold","getTouchTotalTimeThreshold","_startInertiaScroll","touchMoveVelocity","MOVEMENT_FACTOR","inertiaTotalMovement","_startAttenuatingAutoScroll","bounceBackAmount","BOUNCE_BACK_DURATION","_startAutoScroll","_startAutoScrollToDestination","destination","timeInSec","attenuated","pSub","_calculateAutoScrollTimeByInitialSpeed","initialSpeed","sqrt","initialVelocity","time","pLength","adjustedDeltaMove","currentOutOfBoundary","afterOutOfBoundary","stopAutoScroll","_isNecessaryAutoScrollBrake","_getAutoScrollStopEpsilon","point","abs","_processAutoScrolling","deltaTime","OUT_OF_BOUNDARY_BREAKING_FACTOR","brakingFactor","percentage","min","newPosition","reachedEnd","moveDelta","EVENT_AUTOSCROLL_ENDED","_jumpToDestination","desOrX","realMove","scrolledToLeft","scrolledToRight","scrolledToTop","scrolledToBottom","icBottomPos","icTopPos","icRightPos","icLeftPos","_processScrollingEvent","scrollToBottom","scrollToTop","scrollToLeft","scrollToRight","scrollToTopLeft","scrollToTopRight","inSize","scrollToBottomLeft","scrollToBottomRight","scrollToPercentVertical","percent","minY","h","scrollToPercentHorizontal","w","scrollToPercentBothDirection","jumpToBottom","jumpToTop","jumpToLeft","jumpToRight","jumpToTopLeft","jumpToTopRight","jumpToBottomLeft","jumpToBottomRight","jumpToPercentVertical","jumpToPercentHorizontal","jumpToPercentBothDirection","_gatherTouchMove","delta","NUMBER_OF_GATHERED_TOUCHES_FOR_MOVE_SPEED","splice","push","timestamp","Date","getTime","_handlePressLogic","touch","onTouchBegan","_handleMoveLogic","touchPositionInNodeSpace","convertToNodeSpace","getLocation","previousTouchPositionInNodeSpace","getPreviousLocation","_handleReleaseLogic","bounceBackStarted","onTouchEnded","event","pass","_isInterceptTouch","_hit","onTouchMoved","onTouchCancelled","update","dt","interceptTouchEvent","sender","_touchEnabled","touchPoint","TOUCH_BEGAN","_touchBeganPosition","TOUCH_MOVED","getTouchBeganPosition","_touchMovePosition","setHighlighted","TOUCH_CANCELED","TOUCH_ENDED","_touchEndPosition","isSwallowTouches","_directionEvent","bounce","EVENT_BOUNCE_TOP","EVENT_SCROLL_TO_TOP","EVENT_BOUNCE_BOTTOM","EVENT_SCROLL_TO_BOTTOM","EVENT_BOUNCE_LEFT","EVENT_SCROLL_TO_LEFT","EVENT_BOUNCE_RIGHT","EVENT_SCROLL_TO_RIGHT","EVENT_SCROLLING","_ccEventCallback","addEventListenerScrollView","selector","target","addEventListener","setDirection","_removeScrollBar","getDirection","setBounceEnabled","enabled","isBounceEnabled","setInertiaScrollEnabled","isInertiaScrollEnabled","setScrollBarEnabled","isScrollBarEnabled","setScrollBarPositionFromCorner","positionFromCorner","setScrollBarPositionFromCornerForVertical","setScrollBarPositionFromCornerForHorizontal","assert","setPositionFromCorner","getScrollBarPositionFromCornerForVertical","getPositionFromCorner","getScrollBarPositionFromCornerForHorizontal","setScrollBarWidth","setWidth","getScrollBarWidth","getWidth","setScrollBarColor","getScrollBarColor","getColor","WHITE","setScrollBarOpacity","opacity","getScrollBarOpacity","setScrollBarAutoHideEnabled","autoHideEnabled","isScrollBarAutoHideEnabled","setScrollBarAutoHideTime","autoHideTime","getScrollBarAutoHideTime","getInnerContainer","setLayoutType","type","_doLayoutDirty","getDescription","_createCloneInstance","_copyClonedWidgetChildren","model","_copySpecialProperties","scrollView","ScrollViewBar","removeProtectedChild","getNodeByTag","getNodes","removeNode","node","removeNodeByTag","removeAllNodes","addNode","_p","defineGetterSetter","create"],"mappings":"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","file":"UIScrollView.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget","sourcesContent":["/****************************************************************************\n Copyright (c) 2011-2012 cocos2d-x.org\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n/**\n * The ScrollView control of Cocos UI\n * @class\n * @extends ccui.Layout\n *\n * @property {Number}               innerWidth              - Inner container width of the scroll view\n * @property {Number}               innerHeight             - Inner container height of the scroll view\n * @property {ccui.ScrollView.DIR_NONE | ccui.ScrollView.DIR_VERTICAL | ccui.ScrollView.DIR_HORIZONTAL | ccui.ScrollView.DIR_BOTH}    direction               - Scroll direction of the scroll view\n * @property {Boolean}              bounceEnabled           - Indicate whether bounce is enabled\n * @property {Boolean}              inertiaScrollEnabled    - Indicate whether inertiaScroll is enabled\n * @property {Number}               touchTotalTimeThreshold - Touch total time threshold\n */\nccui.ScrollView = ccui.Layout.extend(/** @lends ccui.ScrollView# */{\n    _innerContainer: null,\n    _direction: null,\n\n    _topBoundary: 0,\n    _bottomBoundary: 0,\n    _leftBoundary: 0,\n    _rightBoundary: 0,\n\n    _touchMoveDisplacements: null,\n    _touchMoveTimeDeltas: null,\n    _touchMovePreviousTimestamp: 0,\n    _touchTotalTimeThreshold: 0.5,\n\n    _autoScrolling: false,\n    _autoScrollTargetDelta: null,\n    _autoScrollAttenuate: true,\n    _autoScrollStartPosition: null,\n    _autoScrollTotalTime: 0,\n    _autoScrollAccumulatedTime: 0,\n    _autoScrollCurrentlyOutOfBoundary: false,\n    _autoScrollBraking: false,\n    _autoScrollBrakingStartPosition: null,\n\n    _bePressed: false,\n\n    _childFocusCancelOffset: 0,\n\n    bounceEnabled: false,\n\n    _outOfBoundaryAmount: null,\n    _outOfBoundaryAmountDirty: true,\n\n    inertiaScrollEnabled: false,\n\n    _scrollBarEnabled: true,\n    _verticalScrollBar: null,\n    _horizontalScrollBar: null,\n\n    _scrollViewEventListener: null,\n    _scrollViewEventSelector: null,\n    _className: \"ScrollView\",\n\n    /**\n     * Allocates and initializes a UIScrollView.\n     * Constructor of ccui.ScrollView. override it to extend the construction behavior, remember to call \"this._super()\" in the extended \"ctor\" function.\n     * @example\n     * // example\n     * var uiScrollView = new ccui.ScrollView();\n     */\n    ctor: function () {\n        ccui.Layout.prototype.ctor.call(this);\n        this.setClippingEnabled(true);\n        this._innerContainer.setTouchEnabled(false);\n\n        this._direction = ccui.ScrollView.DIR_NONE;\n\n        this._childFocusCancelOffset = 5;\n        this.inertiaScrollEnabled = true;\n\n        this._outOfBoundaryAmount = cc.p(0, 0);\n        this._autoScrollTargetDelta = cc.p(0, 0);\n        this._autoScrollStartPosition = cc.p(0, 0);\n        this._autoScrollBrakingStartPosition = cc.p(0, 0);\n        this._touchMoveDisplacements = [];\n        this._touchMoveTimeDeltas = [];\n        this._touchMovePreviousTimestamp = 0;\n\n        this._scrollBarEnabled = true;\n        this._initScrollBar();\n\n        this.setTouchEnabled(true);\n    },\n\n    /**\n     * Calls the parent class' onEnter and schedules update function.\n     * @override\n     */\n    onEnter: function () {\n        ccui.Layout.prototype.onEnter.call(this);\n        this.scheduleUpdate();\n    },\n\n    onExit: function () {\n        cc.renderer._removeCache(this.__instanceId);\n        ccui.Layout.prototype.onExit.call(this);\n    },\n\n    visit: function (parent) {\n        var cmd = this._renderCmd, parentCmd = parent ? parent._renderCmd : null;\n\n        // quick return if not visible\n        if (!this._visible) {\n            cmd._propagateFlagsDown(parentCmd);\n            return;\n        }\n\n        this._adaptRenderers();\n        this._doLayout();\n\n        var renderer = cc.renderer;\n        cmd.visit(parentCmd);\n        \n        renderer.pushRenderCommand(cmd);\n        if (cmd instanceof ccui.ScrollView.WebGLRenderCmd) {\n            var currentID = this.__instanceId;\n            renderer._turnToCacheMode(currentID);\n        }\n\n        var stencilClipping = this._clippingEnabled && this._clippingType === ccui.Layout.CLIPPING_STENCIL;\n        var scissorClipping = this._clippingEnabled && this._clippingType === ccui.Layout.CLIPPING_SCISSOR;\n        \n        if (stencilClipping) {\n            cmd.stencilClippingVisit(parentCmd);\n        }\n        else if (scissorClipping) {\n            cmd.scissorClippingVisit(parentCmd);\n        }\n\n        var i, children = this._children, len = children.length, child;\n        var j, pChildren = this._protectedChildren, pLen = pChildren.length, pChild;\n\n        if (this._reorderChildDirty) this.sortAllChildren();\n        if (this._reorderProtectedChildDirty) this.sortAllProtectedChildren();\n        for (i = 0; i < len; i++) {\n            child = children[i];\n            if (child && child._visible) {\n                child.visit(this);\n            }\n        }\n        for (j = 0; j < pLen; j++) {\n            pChild = pChildren[j];\n            if (pChild && pChild._visible) {\n                cmd._changeProtectedChild(pChild);\n                pChild.visit(this);\n            }\n        }\n\n        if (stencilClipping) {\n            cmd.postStencilVisit();\n        }\n        else if (scissorClipping) {\n            cmd.postScissorVisit();\n        }\n\n        if (cmd instanceof ccui.ScrollView.WebGLRenderCmd) {\n            renderer._turnToNormalMode();\n        }\n\n        // Need to update children after do layout\n        this.updateChildren();\n\n        cmd._dirtyFlag = 0;\n    },\n\n    /**\n     * When a widget is in a layout, you could call this method to get the next focused widget within a specified _direction.             <br/>\n     * If the widget is not in a layout, it will return itself\n     *\n     * @param {Number} _direction the _direction to look for the next focused widget in a layout\n     * @param {ccui.Widget} current the current focused widget\n     * @returns {ccui.Widget}\n     */\n    findNextFocusedWidget: function (direction, current) {\n        if (this.getLayoutType() === ccui.Layout.LINEAR_VERTICAL\n            || this.getLayoutType() === ccui.Layout.LINEAR_HORIZONTAL) {\n            return this._innerContainer.findNextFocusedWidget(direction, current);\n        } else\n            return ccui.Widget.prototype.findNextFocusedWidget.call(this, direction, current);\n    },\n\n    _initRenderer: function () {\n        ccui.Layout.prototype._initRenderer.call(this);\n\n        this._innerContainer = new ccui.Layout();\n        this._innerContainer.setColor(cc.color(255, 255, 255));\n        this._innerContainer.setOpacity(255);\n        this._innerContainer.setCascadeColorEnabled(true);\n        this._innerContainer.setCascadeOpacityEnabled(true);\n\n        this.addProtectedChild(this._innerContainer, 1, 1);\n    },\n\n    _createRenderCmd: function () {\n        if (cc._renderType === cc.game.RENDER_TYPE_WEBGL)\n            return new ccui.ScrollView.WebGLRenderCmd(this);\n        else\n            return new ccui.ScrollView.CanvasRenderCmd(this);\n    },\n\n    _onSizeChanged: function () {\n        ccui.Layout.prototype._onSizeChanged.call(this);\n        var locSize = this._contentSize;\n        this._topBoundary = locSize.height;\n        this._rightBoundary = locSize.width;\n        var innerSize = this._innerContainer.getContentSize();\n        this._innerContainer.setContentSize(cc.size(Math.max(innerSize.width, locSize.width), Math.max(innerSize.height, locSize.height)));\n        this._innerContainer.setPosition(0, locSize.height - this._innerContainer.getContentSize().height);\n\n        if(this._verticalScrollBar)\n            this._verticalScrollBar.onScrolled(this._getHowMuchOutOfBoundary());\n\n        if(this._horizontalScrollBar)\n            this._horizontalScrollBar.onScrolled(this._getHowMuchOutOfBoundary());\n    },\n\n    /**\n     * Changes inner container size of ScrollView.     <br/>\n     * Inner container size must be larger than or equal the size of ScrollView.\n     * @param {cc.Size} size inner container size.\n     */\n    setInnerContainerSize: function (size) {\n         var innerContainer = this._innerContainer,\n            locSize = this._contentSize,\n            innerSizeWidth = locSize.width, innerSizeHeight = locSize.height;\n\n        if (size.width < locSize.width)\n            cc.log(\"Inner width <= ScrollView width, it will be force sized!\");\n        else\n            innerSizeWidth = size.width;\n\n        if (size.height < locSize.height)\n            cc.log(\"Inner height <= ScrollView height, it will be force sized!\");\n        else\n            innerSizeHeight = size.height;\n\n        innerContainer.setContentSize(cc.size(innerSizeWidth, innerSizeHeight));\n\n        var pos = this._innerContainer.getPosition();\n        var contAP = this._innerContainer.getAnchorPoint();\n\n        if (this._innerContainer.getLeftBoundary() != 0.0)\n        {\n            pos.x = contAP.x * innerSizeWidth;\n        }\n        if (this._innerContainer.getTopBoundary() != this._contentSize.height)\n        {\n            pos.y = this._contentSize.height - (1.0 - contAP.y) * innerSizeHeight;\n        }\n        this.setInnerContainerPosition(pos);\n\n        this._updateScrollBar(cc.p(0 ,0));\n    },\n\n    _setInnerWidth: function (width) {\n        var locW = this._contentSize.width,\n            innerWidth = locW,\n            container = this._innerContainer,\n            oldInnerWidth = container.width;\n        if (width < locW)\n            cc.log(\"Inner width <= scrollview width, it will be force sized!\");\n        else\n            innerWidth = width;\n        container.width = innerWidth;\n\n        switch (this._direction) {\n            case ccui.ScrollView.DIR_HORIZONTAL:\n            case ccui.ScrollView.DIR_BOTH:\n                if (container.getRightBoundary() <= locW) {\n                    var newInnerWidth = container.width;\n                    var offset = oldInnerWidth - newInnerWidth;\n                    this._scrollChildren(offset, 0);\n                }\n                break;\n        }\n        var innerAX = container.anchorX;\n        if (container.getLeftBoundary() > 0.0)\n            container.x = innerAX * innerWidth;\n        if (container.getRightBoundary() < locW)\n            container.x = locW - ((1.0 - innerAX) * innerWidth);\n    },\n\n    _setInnerHeight: function (height) {\n        var locH = this._contentSize.height,\n            innerHeight = locH,\n            container = this._innerContainer,\n            oldInnerHeight = container.height;\n        if (height < locH)\n            cc.log(\"Inner height <= scrollview height, it will be force sized!\");\n        else\n            innerHeight = height;\n        container.height = innerHeight;\n\n        switch (this._direction) {\n            case ccui.ScrollView.DIR_VERTICAL:\n            case ccui.ScrollView.DIR_BOTH:\n                var newInnerHeight = innerHeight;\n                var offset = oldInnerHeight - newInnerHeight;\n                this._scrollChildren(0, offset);\n                break;\n        }\n        var innerAY = container.anchorY;\n        if (container.getLeftBoundary() > 0.0)\n            container.y = innerAY * innerHeight;\n        if (container.getRightBoundary() < locH)\n            container.y = locH - ((1.0 - innerAY) * innerHeight);\n    },\n    /**\n     * Set inner container position\n     *\n     * @param {cc.Point} position Inner container position.\n     */\n    setInnerContainerPosition: function (position) {\n        if (position.x === this._innerContainer.getPositionX() && position.y === this._innerContainer.getPositionY()) {\n            return;\n        }\n        this._innerContainer.setPosition(position);\n        this._outOfBoundaryAmountDirty = true;\n\n        // Process bouncing events\n        if (this.bounceEnabled) {\n            for (var _direction = ccui.ScrollView.MOVEDIR_TOP; _direction < ccui.ScrollView.MOVEDIR_RIGHT; ++_direction) {\n                if (this._isOutOfBoundary(_direction)) {\n                    this._processScrollEvent(_direction, true);\n                }\n            }\n        }\n\n        this._dispatchEvent(ccui.ScrollView.EVENT_CONTAINER_MOVED);\n    },\n\n    /**\n     * Get inner container position\n     *\n     * @return The inner container position.\n     */\n    getInnerContainerPosition: function () {\n        return this._innerContainer.getPosition();\n    },\n\n    /**\n     * Returns inner container size of ScrollView.     <br/>\n     * Inner container size must be larger than or equal ScrollView's size.\n     *\n     * @return {cc.Size} inner container size.\n     */\n    getInnerContainerSize: function () {\n        return this._innerContainer.getContentSize();\n    },\n    _getInnerWidth: function () {\n        return this._innerContainer.width;\n    },\n    _getInnerHeight: function () {\n        return this._innerContainer.height;\n    },\n\n    _isInContainer: function (widget) {\n        if (!this._clippingEnabled)\n            return true;\n        var wPos = widget._position,\n            wSize = widget._contentSize,\n            wAnchor = widget._anchorPoint,\n            size = this._customSize,\n            pos = this._innerContainer._position,\n            bottom = 0, left = 0;\n        if (\n            // Top\n        (bottom = wPos.y - wAnchor.y * wSize.height) >= size.height - pos.y ||\n            // Bottom\n        bottom + wSize.height <= -pos.y ||\n            // right\n        (left = wPos.x - wAnchor.x * wSize.width) >= size.width - pos.x ||\n            // left\n        left + wSize.width <= -pos.x\n        )\n            return false;\n        else return true;\n    },\n\n    updateChildren: function () {\n        var child, i, l;\n        var childrenArray = this._innerContainer._children;\n        for (i = 0, l = childrenArray.length; i < l; i++) {\n            child = childrenArray[i];\n            if (child._inViewRect === true && this._isInContainer(child) === false)\n                child._inViewRect = false;\n            else if (child._inViewRect === false && this._isInContainer(child) === true)\n                child._inViewRect = true;\n        }\n    },\n    /**\n     * Add child to ccui.ScrollView.\n     * @param {cc.Node} widget\n     * @param {Number} [zOrder]\n     * @param {Number|string} [tag] tag or name\n     * @returns {boolean}\n     */\n    addChild: function (widget, zOrder, tag) {\n        if (!widget)\n            return false;\n        if (this._isInContainer(widget) === false)\n            widget._inViewRect = false;\n        zOrder = zOrder || widget.getLocalZOrder();\n        tag = tag || widget.getTag();\n        return this._innerContainer.addChild(widget, zOrder, tag);\n    },\n\n    /**\n     * Removes all children.\n     */\n    removeAllChildren: function () {\n        this.removeAllChildrenWithCleanup(true);\n    },\n\n    /**\n     * Removes all children.\n     * @param {Boolean} cleanup\n     */\n    removeAllChildrenWithCleanup: function (cleanup) {\n        this._innerContainer.removeAllChildrenWithCleanup(cleanup);\n    },\n\n    /**\n     * Removes widget child\n     * @override\n     * @param {ccui.Widget} child\n     * @param {Boolean} cleanup\n     * @returns {boolean}\n     */\n    removeChild: function (child, cleanup) {\n        return this._innerContainer.removeChild(child, cleanup);\n    },\n\n    /**\n     * Returns inner container's children\n     * @returns {Array}\n     */\n    getChildren: function () {\n        return this._innerContainer.getChildren();\n    },\n\n    /**\n     * Gets the count of inner container's children\n     * @returns {Number}\n     */\n    getChildrenCount: function () {\n        return this._innerContainer.getChildrenCount();\n    },\n\n    /**\n     * Gets a child from the container given its tag\n     * @param {Number} tag\n     * @returns {ccui.Widget}\n     */\n    getChildByTag: function (tag) {\n        return this._innerContainer.getChildByTag(tag);\n    },\n\n    /**\n     * Gets a child from the container given its name\n     * @param {String} name\n     * @returns {ccui.Widget}\n     */\n    getChildByName: function (name) {\n        return this._innerContainer.getChildByName(name);\n    },\n\n    _flattenVectorByDirection: function (vector) {\n        var result = cc.p(0, 0);\n        result.x = (this._direction === ccui.ScrollView.DIR_VERTICAL ? 0 : vector.x);\n        result.y = (this._direction === ccui.ScrollView.DIR_HORIZONTAL ? 0 : vector.y);\n        return result;\n    },\n\n    _getHowMuchOutOfBoundary: function (addition) {\n        if (addition === undefined)\n            addition = cc.p(0, 0);\n\n        if (addition.x === 0 && addition.y === 0 && !this._outOfBoundaryAmountDirty) {\n            return this._outOfBoundaryAmount;\n        }\n\n        var outOfBoundaryAmount = cc.p(0, 0);\n\n        if (this._innerContainer.getLeftBoundary() + addition.x > this._leftBoundary) {\n            outOfBoundaryAmount.x = this._leftBoundary - (this._innerContainer.getLeftBoundary() + addition.x);\n        }\n        else if (this._innerContainer.getRightBoundary() + addition.x < this._rightBoundary) {\n            outOfBoundaryAmount.x = this._rightBoundary - (this._innerContainer.getRightBoundary() + addition.x);\n        }\n\n        if (this._innerContainer.getTopBoundary() + addition.y < this._topBoundary) {\n            outOfBoundaryAmount.y = this._topBoundary - (this._innerContainer.getTopBoundary() + addition.y);\n        }\n        else if (this._innerContainer.getBottomBoundary() + addition.y > this._bottomBoundary) {\n            outOfBoundaryAmount.y = this._bottomBoundary - (this._innerContainer.getBottomBoundary() + addition.y);\n        }\n\n        if (addition.x === 0 && addition.y === 0) {\n            this._outOfBoundaryAmount = outOfBoundaryAmount;\n            this._outOfBoundaryAmountDirty = false;\n        }\n        return outOfBoundaryAmount;\n    },\n\n    _isOutOfBoundary: function (dir) {\n        var outOfBoundary = this._getHowMuchOutOfBoundary();\n        if (dir !== undefined) {\n            switch (dir) {\n                case ccui.ScrollView.MOVEDIR_TOP:\n                    return outOfBoundary.y > 0;\n                case ccui.ScrollView.MOVEDIR_BOTTOM:\n                    return outOfBoundary.y < 0;\n                case ccui.ScrollView.MOVEDIR_LEFT:\n                    return outOfBoundary.x < 0;\n                case ccui.ScrollView.MOVEDIR_RIGHT:\n                    return outOfBoundary.x > 0;\n            }\n        }\n        else {\n            return !this._fltEqualZero(outOfBoundary);\n        }\n\n        return false;\n    },\n\n\n    _moveInnerContainer: function (deltaMove, canStartBounceBack) {\n        var adjustedMove = this._flattenVectorByDirection(deltaMove);\n\n        this.setInnerContainerPosition(cc.pAdd(this.getInnerContainerPosition(), adjustedMove));\n\n        var outOfBoundary = this._getHowMuchOutOfBoundary();\n        this._updateScrollBar(outOfBoundary);\n\n        if (this.bounceEnabled && canStartBounceBack) {\n            this._startBounceBackIfNeeded();\n        }\n    },\n\n    _updateScrollBar: function(outOfBoundary)\n    {\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.onScrolled(outOfBoundary);\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.onScrolled(outOfBoundary);\n        }\n    },\n\n    _calculateTouchMoveVelocity: function () {\n        var totalTime = 0;\n        for (var i = 0; i < this._touchMoveTimeDeltas.length; ++i) {\n            totalTime += this._touchMoveTimeDeltas[i];\n        }\n        if (totalTime == 0 || totalTime >= this._touchTotalTimeThreshold) {\n            return cc.p(0, 0);\n        }\n\n        var totalMovement = cc.p(0, 0);\n\n        for (var i = 0; i < this._touchMoveDisplacements.length; ++i) {\n            totalMovement.x += this._touchMoveDisplacements[i].x;\n            totalMovement.y += this._touchMoveDisplacements[i].y;\n        }\n\n        return cc.pMult(totalMovement, 1 / totalTime);\n    },\n\n    /**\n     * Set the touch total time threshold\n     * @param {Number} touchTotalTimeThreshold\n     */\n    setTouchTotalTimeThreshold: function (touchTotalTimeThreshold) {\n        this._touchTotalTimeThreshold = touchTotalTimeThreshold;\n    },\n\n\n    /**\n     * Get the touch total time threshold\n     * @returns {Number}\n     */\n    getTouchTotalTimeThreshold: function () {\n        return this._touchTotalTimeThreshold;\n    },\n\n    _startInertiaScroll: function (touchMoveVelocity) {\n        var MOVEMENT_FACTOR = 0.7;\n        var inertiaTotalMovement = cc.pMult(touchMoveVelocity, MOVEMENT_FACTOR);\n        this._startAttenuatingAutoScroll(inertiaTotalMovement, touchMoveVelocity);\n    },\n\n    _startBounceBackIfNeeded: function () {\n        if (!this.bounceEnabled) {\n            return false;\n        }\n        var bounceBackAmount = this._getHowMuchOutOfBoundary();\n        if (this._fltEqualZero(bounceBackAmount)) {\n            return false;\n        }\n\n        var BOUNCE_BACK_DURATION = 1.0;\n        this._startAutoScroll(bounceBackAmount, BOUNCE_BACK_DURATION, true);\n        return true;\n    },\n\n    _startAutoScrollToDestination: function (destination, timeInSec, attenuated) {\n        this._startAutoScroll(cc.pSub(destination, this._innerContainer.getPosition()), timeInSec, attenuated);\n    },\n\n    _calculateAutoScrollTimeByInitialSpeed: function (initialSpeed) {\n        // Calculate the time from the initial speed according to quintic polynomial.\n        return Math.sqrt(Math.sqrt(initialSpeed / 5));\n    },\n\n    _startAttenuatingAutoScroll: function (deltaMove, initialVelocity) {\n        var time = this._calculateAutoScrollTimeByInitialSpeed(cc.pLength(initialVelocity));\n        this._startAutoScroll(deltaMove, time, true);\n    },\n\n    _startAutoScroll: function (deltaMove, timeInSec, attenuated) {\n        var adjustedDeltaMove = this._flattenVectorByDirection(deltaMove);\n\n        this._autoScrolling = true;\n        this._autoScrollTargetDelta = adjustedDeltaMove;\n        this._autoScrollAttenuate = attenuated;\n        this._autoScrollStartPosition = this._innerContainer.getPosition();\n        this._autoScrollTotalTime = timeInSec;\n        this._autoScrollAccumulatedTime = 0;\n        this._autoScrollBraking = false;\n        this._autoScrollBrakingStartPosition = cc.p(0, 0);\n\n        // If the destination is also out of boundary of same side, start brake from beggining.\n        var currentOutOfBoundary = this._getHowMuchOutOfBoundary();\n        if (!this._fltEqualZero(currentOutOfBoundary)) {\n            this._autoScrollCurrentlyOutOfBoundary = true;\n            var afterOutOfBoundary = this._getHowMuchOutOfBoundary(adjustedDeltaMove);\n            if (currentOutOfBoundary.x * afterOutOfBoundary.x > 0 || currentOutOfBoundary.y * afterOutOfBoundary.y > 0) {\n                this._autoScrollBraking = true;\n            }\n        }\n    },\n\n    /**\n     * Immediately stops inner container scroll initiated by any of the \"scrollTo*\" member functions\n     */\n    stopAutoScroll: function () {\n        this._autoScrolling = false;\n        this._autoScrollAttenuate = true;\n        this._autoScrollTotalTime = 0;\n        this._autoScrollAccumulatedTime = 0;\n    },\n\n    _isNecessaryAutoScrollBrake: function () {\n        if (this._autoScrollBraking) {\n            return true;\n        }\n\n        if (this._isOutOfBoundary()) {\n            // It just went out of boundary.\n            if (!this._autoScrollCurrentlyOutOfBoundary) {\n                this._autoScrollCurrentlyOutOfBoundary = true;\n                this._autoScrollBraking = true;\n                this._autoScrollBrakingStartPosition = this.getInnerContainerPosition();\n                return true;\n            }\n        }\n        else {\n            this._autoScrollCurrentlyOutOfBoundary = false;\n        }\n        return false;\n    },\n\n    _getAutoScrollStopEpsilon: function () {\n        return 0.0001;\n    },\n\n    _fltEqualZero: function (point) {\n        return (Math.abs(point.x) <= 0.0001 && Math.abs(point.y) <= 0.0001);\n    },\n\n    _processAutoScrolling: function (deltaTime) {\n        var OUT_OF_BOUNDARY_BREAKING_FACTOR = 0.05;\n        // Make auto scroll shorter if it needs to deaccelerate.\n        var brakingFactor = (this._isNecessaryAutoScrollBrake() ? OUT_OF_BOUNDARY_BREAKING_FACTOR : 1);\n\n        // Elapsed time\n        this._autoScrollAccumulatedTime += deltaTime * (1 / brakingFactor);\n\n        // Calculate the progress percentage\n        var percentage = Math.min(1, this._autoScrollAccumulatedTime / this._autoScrollTotalTime);\n        if (this._autoScrollAttenuate) {\n            percentage -= 1;\n            percentage = percentage * percentage * percentage * percentage * percentage + 1;\n        }\n\n        // Calculate the new position\n        var newPosition = cc.pAdd(this._autoScrollStartPosition, cc.pMult(this._autoScrollTargetDelta, percentage));\n        var reachedEnd = Math.abs(percentage - 1) <= this._getAutoScrollStopEpsilon();\n\n        if (this.bounceEnabled) {\n            // The new position is adjusted if out of boundary\n            newPosition = cc.pAdd(this._autoScrollBrakingStartPosition, cc.pMult(cc.pSub(newPosition, this._autoScrollBrakingStartPosition), brakingFactor));\n        }\n        else {\n            // Don't let go out of boundary\n            var moveDelta = cc.pSub(newPosition, this.getInnerContainerPosition());\n            var outOfBoundary = this._getHowMuchOutOfBoundary(moveDelta);\n            if (!this._fltEqualZero(outOfBoundary)) {\n                newPosition.x += outOfBoundary.x;\n                newPosition.y += outOfBoundary.y;\n\n                reachedEnd = true;\n            }\n        }\n\n        // Finish auto scroll if it ended\n        if (reachedEnd) {\n            this._autoScrolling = false;\n            this._dispatchEvent(ccui.ScrollView.EVENT_AUTOSCROLL_ENDED);\n        }\n\n        this._moveInnerContainer(cc.pSub(newPosition, this.getInnerContainerPosition()), reachedEnd);\n    },\n\n    _jumpToDestination: function (desOrX, y) {\n        if (desOrX.x === undefined) {\n            desOrX = cc.p(desOrX, y);\n        }\n\n        this._autoScrolling = false;\n        this._moveInnerContainer(cc.pSub(desOrX, this.getInnerContainerPosition()), true);\n    },\n\n    _scrollChildren: function (deltaMove) {\n        var realMove = deltaMove;\n        if (this.bounceEnabled) {\n            // If the position of the inner container is out of the boundary, the offsets should be divided by two.\n            var outOfBoundary = this._getHowMuchOutOfBoundary();\n            realMove.x *= (outOfBoundary.x == 0 ? 1 : 0.5);\n            realMove.y *= (outOfBoundary.y == 0 ? 1 : 0.5);\n        }\n\n        if (!this.bounceEnabled) {\n            var outOfBoundary = this._getHowMuchOutOfBoundary(realMove);\n            realMove.x += outOfBoundary.x;\n            realMove.y += outOfBoundary.y;\n        }\n\n        var scrolledToLeft = false;\n        var scrolledToRight = false;\n        var scrolledToTop = false;\n        var scrolledToBottom = false;\n\n        if (realMove.y > 0.0) // up\n        {\n            var icBottomPos = this._innerContainer.getBottomBoundary();\n            if (icBottomPos + realMove.y >= this._bottomBoundary) {\n                scrolledToBottom = true;\n            }\n        }\n        else if (realMove.y < 0.0) // down\n        {\n            var icTopPos = this._innerContainer.getTopBoundary();\n            if (icTopPos + realMove.y <= this._topBoundary) {\n                scrolledToTop = true;\n            }\n        }\n\n        if (realMove.x < 0.0) // left\n        {\n            var icRightPos = this._innerContainer.getRightBoundary();\n            if (icRightPos + realMove.x <= this._rightBoundary) {\n                scrolledToRight = true;\n            }\n        }\n        else if (realMove.x > 0.0) // right\n        {\n            var icLeftPos = this._innerContainer.getLeftBoundary();\n            if (icLeftPos + realMove.x >= this._leftBoundary) {\n                scrolledToLeft = true;\n            }\n        }\n        this._moveInnerContainer(realMove, false);\n\n        if (realMove.x != 0 || realMove.y != 0) {\n            this._processScrollingEvent();\n        }\n        if (scrolledToBottom) {\n            this._processScrollEvent(ccui.ScrollView.MOVEDIR_BOTTOM, false);\n        }\n        if (scrolledToTop) {\n            this._processScrollEvent(ccui.ScrollView.MOVEDIR_TOP, false);\n        }\n        if (scrolledToLeft) {\n            this._processScrollEvent(ccui.ScrollView.MOVEDIR_LEFT, false);\n        }\n        if (scrolledToRight) {\n            this._processScrollEvent(ccui.ScrollView.MOVEDIR_RIGHT, false);\n        }\n    },\n\n    /**\n     * Scroll inner container to bottom boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToBottom: function (time, attenuated) {\n        this._startAutoScrollToDestination(cc.p(this._innerContainer.getPositionX(), 0), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to top boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToTop: function (time, attenuated) {\n        this._startAutoScrollToDestination(\n            cc.p(this._innerContainer.getPositionX(), this._contentSize.height - this._innerContainer.getContentSize().height), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to left boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToLeft: function (time, attenuated) {\n        this._startAutoScrollToDestination(cc.p(0, this._innerContainer.getPositionY()), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to right boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToRight: function (time, attenuated) {\n        this._startAutoScrollToDestination(\n            cc.p(this._contentSize.width - this._innerContainer.getContentSize().width, this._innerContainer.getPositionY()), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to top and left boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToTopLeft: function (time, attenuated) {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll direction is not both!\");\n            return;\n        }\n        this._startAutoScrollToDestination(cc.p(0, this._contentSize.height - this._innerContainer.getContentSize().height), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to top and right boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToTopRight: function (time, attenuated) {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll direction is not both!\");\n            return;\n        }\n        var inSize = this._innerContainer.getContentSize();\n        this._startAutoScrollToDestination(cc.p(this._contentSize.width - inSize.width,\n            this._contentSize.height - inSize.height), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to bottom and left boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToBottomLeft: function (time, attenuated) {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll direction is not both!\");\n            return;\n        }\n        this._startAutoScrollToDestination(cc.p(0, 0), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to bottom and right boundary of ScrollView.\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToBottomRight: function (time, attenuated) {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll direction is not both!\");\n            return;\n        }\n        this._startAutoScrollToDestination(cc.p(this._contentSize.width - this._innerContainer.getContentSize().width, 0), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to vertical percent position of ScrollView.\n     * @param {Number} percent\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToPercentVertical: function (percent, time, attenuated) {\n        var minY = this._contentSize.height - this._innerContainer.getContentSize().height;\n        var h = -minY;\n        this._startAutoScrollToDestination(cc.p(this._innerContainer.getPositionX(), minY + percent * h / 100), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to horizontal percent position of ScrollView.\n     * @param {Number} percent\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToPercentHorizontal: function (percent, time, attenuated) {\n        var w = this._innerContainer.getContentSize().width - this._contentSize.width;\n        this._startAutoScrollToDestination(cc.p(-(percent * w / 100), this._innerContainer.getPositionY()), time, attenuated);\n    },\n\n    /**\n     * Scroll inner container to both _direction percent position of ScrollView.\n     * @param {cc.Point} percent\n     * @param {Number} time\n     * @param {Boolean} attenuated\n     */\n    scrollToPercentBothDirection: function (percent, time, attenuated) {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH)\n            return;\n        var minY = this._contentSize.height - this._innerContainer.getContentSize().height;\n        var h = -minY;\n        var w = this._innerContainer.getContentSize().width - this._contentSize.width;\n        this._startAutoScrollToDestination(cc.p(-(percent.x * w / 100), minY + percent.y * h / 100), time, attenuated);\n    },\n\n    /**\n     * Move inner container to bottom boundary of ScrollView.\n     */\n    jumpToBottom: function () {\n        this._jumpToDestination(this._innerContainer.getPositionX(), 0);\n    },\n\n    /**\n     * Move inner container to top boundary of ScrollView.\n     */\n    jumpToTop: function () {\n        this._jumpToDestination(this._innerContainer.getPositionX(), this._contentSize.height - this._innerContainer.getContentSize().height);\n    },\n\n    /**\n     * Move inner container to left boundary of ScrollView.\n     */\n    jumpToLeft: function () {\n        this._jumpToDestination(0, this._innerContainer.getPositionY());\n    },\n\n    /**\n     * Move inner container to right boundary of ScrollView.\n     */\n    jumpToRight: function () {\n        this._jumpToDestination(this._contentSize.width - this._innerContainer.getContentSize().width, this._innerContainer.getPositionY());\n    },\n\n    /**\n     * Move inner container to top and left boundary of ScrollView.\n     */\n    jumpToTopLeft: function () {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll _direction is not both!\");\n            return;\n        }\n        this._jumpToDestination(0, this._contentSize.height - this._innerContainer.getContentSize().height);\n    },\n\n    /**\n     * Move inner container to top and right boundary of ScrollView.\n     */\n    jumpToTopRight: function () {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll _direction is not both!\");\n            return;\n        }\n        var inSize = this._innerContainer.getContentSize();\n        this._jumpToDestination(this._contentSize.width - inSize.width, this._contentSize.height - inSize.height);\n    },\n\n    /**\n     * Move inner container to bottom and left boundary of ScrollView.\n     */\n    jumpToBottomLeft: function () {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll _direction is not both!\");\n            return;\n        }\n        this._jumpToDestination(0, 0);\n    },\n\n    /**\n     * Move inner container to bottom and right boundary of ScrollView.\n     */\n    jumpToBottomRight: function () {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH) {\n            cc.log(\"Scroll _direction is not both!\");\n            return;\n        }\n        this._jumpToDestination(this._contentSize.width - this._innerContainer.getContentSize().width, 0);\n    },\n\n    /**\n     * Move inner container to vertical percent position of ScrollView.\n     * @param {Number} percent The destination vertical percent, accept value between 0 - 100\n     */\n    jumpToPercentVertical: function (percent) {\n        var minY = this._contentSize.height - this._innerContainer.getContentSize().height;\n        var h = -minY;\n        this._jumpToDestination(this._innerContainer.getPositionX(), minY + percent * h / 100);\n    },\n\n    /**\n     * Move inner container to horizontal percent position of ScrollView.\n     * @param {Number} percent The destination vertical percent, accept value between 0 - 100\n     */\n    jumpToPercentHorizontal: function (percent) {\n        var w = this._innerContainer.getContentSize().width - this._contentSize.width;\n        this._jumpToDestination(-(percent * w / 100), this._innerContainer.getPositionY());\n    },\n\n    /**\n     * Move inner container to both _direction percent position of ScrollView.\n     * @param {cc.Point} percent The destination vertical percent, accept value between 0 - 100\n     */\n    jumpToPercentBothDirection: function (percent) {\n        if (this._direction !== ccui.ScrollView.DIR_BOTH)\n            return;\n        var inSize = this._innerContainer.getContentSize();\n        var minY = this._contentSize.height - inSize.height;\n        var h = -minY;\n        var w = inSize.width - this._contentSize.width;\n        this._jumpToDestination(-(percent.x * w / 100), minY + percent.y * h / 100);\n    },\n\n    _gatherTouchMove: function (delta) {\n        var NUMBER_OF_GATHERED_TOUCHES_FOR_MOVE_SPEED = 5;\n        while (this._touchMoveDisplacements.length >= NUMBER_OF_GATHERED_TOUCHES_FOR_MOVE_SPEED) {\n            this._touchMoveDisplacements.splice(0, 1);\n            this._touchMoveTimeDeltas.splice(0, 1)\n        }\n        this._touchMoveDisplacements.push(delta);\n\n        var timestamp = (new Date()).getTime();\n        this._touchMoveTimeDeltas.push((timestamp - this._touchMovePreviousTimestamp) / 1000);\n        this._touchMovePreviousTimestamp = timestamp;\n    },\n\n    _handlePressLogic: function (touch) {\n        this._bePressed = true;\n        this._autoScrolling = false;\n\n        // Clear gathered touch move information\n\n        this._touchMovePreviousTimestamp = (new Date()).getTime();\n        this._touchMoveDisplacements.length = 0;\n        this._touchMoveTimeDeltas.length = 0;\n\n\n        if(this._verticalScrollBar)\n        {\n           this._verticalScrollBar.onTouchBegan();\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.onTouchBegan();\n        }\n    },\n\n    _handleMoveLogic: function (touch) {\n        var touchPositionInNodeSpace = this.convertToNodeSpace(touch.getLocation()),\n            previousTouchPositionInNodeSpace = this.convertToNodeSpace(touch.getPreviousLocation());\n        var delta = cc.pSub(touchPositionInNodeSpace, previousTouchPositionInNodeSpace);\n\n        this._scrollChildren(delta);\n        this._gatherTouchMove(delta);\n    },\n\n    _handleReleaseLogic: function (touch) {\n\n        var touchPositionInNodeSpace = this.convertToNodeSpace(touch.getLocation()),\n            previousTouchPositionInNodeSpace = this.convertToNodeSpace(touch.getPreviousLocation());\n        var delta = cc.pSub(touchPositionInNodeSpace, previousTouchPositionInNodeSpace);\n\n        this._gatherTouchMove(delta);\n\n        this._bePressed = false;\n\n        var bounceBackStarted = this._startBounceBackIfNeeded();\n        if (!bounceBackStarted && this.inertiaScrollEnabled) {\n            var touchMoveVelocity = this._calculateTouchMoveVelocity();\n            if (touchMoveVelocity.x !== 0 || touchMoveVelocity.y !== 0) {\n                this._startInertiaScroll(touchMoveVelocity);\n            }\n        }\n\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.onTouchEnded();\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.onTouchEnded();\n        }\n    },\n\n    /**\n     * The touch began event callback handler of ccui.ScrollView.\n     * @param {cc.Touch} touch\n     * @param {cc.Event} event\n     * @returns {boolean}\n     */\n    onTouchBegan: function (touch, event) {\n        var pass = ccui.Layout.prototype.onTouchBegan.call(this, touch, event);\n        if (!this._isInterceptTouch) {\n            if (this._hit)\n                this._handlePressLogic(touch);\n        }\n        return pass;\n    },\n\n    /**\n     * The touch moved event callback handler of ccui.ScrollView.\n     * @param {cc.Touch} touch\n     * @param {cc.Event} event\n     */\n    onTouchMoved: function (touch, event) {\n        ccui.Layout.prototype.onTouchMoved.call(this, touch, event);\n        if (!this._isInterceptTouch)\n            this._handleMoveLogic(touch);\n    },\n\n    /**\n     * The touch ended event callback handler of ccui.ScrollView.\n     * @param {cc.Touch} touch\n     * @param {cc.Event} event\n     */\n    onTouchEnded: function (touch, event) {\n        ccui.Layout.prototype.onTouchEnded.call(this, touch, event);\n        if (!this._isInterceptTouch)\n            this._handleReleaseLogic(touch);\n        this._isInterceptTouch = false;\n    },\n\n    /**\n     * The touch canceled event callback of ccui.ScrollView.\n     * @param {cc.Touch} touch\n     * @param {cc.Event} event\n     */\n    onTouchCancelled: function (touch, event) {\n        ccui.Layout.prototype.onTouchCancelled.call(this, touch, event);\n        if (!this._isInterceptTouch)\n            this._handleReleaseLogic(touch);\n        this._isInterceptTouch = false;\n    },\n\n    /**\n     * The update callback handler.\n     * @param {Number} dt\n     */\n    update: function (dt) {\n        if (this._autoScrolling)\n            this._processAutoScrolling(dt);\n    },\n\n    /**\n     * Intercept touch event, handle its child's touch event.\n     * @override\n     * @param {number} event event type\n     * @param {ccui.Widget} sender\n     * @param {cc.Touch} touch\n     */\n    interceptTouchEvent: function (event, sender, touch) {\n        if (!this._touchEnabled) {\n            ccui.Layout.prototype.interceptTouchEvent.call(this, event, sender, touch);\n            return;\n        }\n\n        if (this._direction === ccui.ScrollView.DIR_NONE)\n            return;\n\n        var touchPoint = touch.getLocation();\n        switch (event) {\n            case ccui.Widget.TOUCH_BEGAN:\n                this._isInterceptTouch = true;\n                this._touchBeganPosition.x = touchPoint.x;\n                this._touchBeganPosition.y = touchPoint.y;\n                this._handlePressLogic(touch);\n                break;\n            case ccui.Widget.TOUCH_MOVED:\n                var offset = cc.pLength(cc.pSub(sender.getTouchBeganPosition(), touchPoint));\n                this._touchMovePosition.x = touchPoint.x;\n                this._touchMovePosition.y = touchPoint.y;\n                if (offset > this._childFocusCancelOffset) {\n                    sender.setHighlighted(false);\n                    this._handleMoveLogic(touch);\n                }\n                break;\n            case ccui.Widget.TOUCH_CANCELED:\n            case ccui.Widget.TOUCH_ENDED:\n                this._touchEndPosition.x = touchPoint.x;\n                this._touchEndPosition.y = touchPoint.y;\n                this._handleReleaseLogic(touch);\n                if (sender.isSwallowTouches())\n                    this._isInterceptTouch = false;\n                break;\n        }\n    },\n\n    _processScrollEvent: function (_directionEvent, bounce) {\n        var event = 0;\n\n        switch (_directionEvent) {\n            case ccui.ScrollView.MOVEDIR_TOP:\n                event = (bounce ? ccui.ScrollView.EVENT_BOUNCE_TOP : ccui.ScrollView.EVENT_SCROLL_TO_TOP);\n                break;\n            case ccui.ScrollView.MOVEDIR_BOTTOM:\n                event = (bounce ? ccui.ScrollView.EVENT_BOUNCE_BOTTOM : ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM);\n                break;\n            case ccui.ScrollView.MOVEDIR_LEFT:\n                event = (bounce ? ccui.ScrollView.EVENT_BOUNCE_LEFT : ccui.ScrollView.EVENT_SCROLL_TO_LEFT);\n                break;\n            case ccui.ScrollView.MOVEDIR_RIGHT:\n                event = (bounce ? ccui.ScrollView.EVENT_BOUNCE_RIGHT : ccui.ScrollView.EVENT_SCROLL_TO_RIGHT);\n                break;\n        }\n\n        this._dispatchEvent(event);\n    },\n\n    _processScrollingEvent: function () {\n        this._dispatchEvent(ccui.ScrollView.EVENT_SCROLLING);\n    },\n\n    _dispatchEvent: function (event) {\n        if (this._scrollViewEventSelector) {\n            if (this._scrollViewEventListener)\n                this._scrollViewEventSelector.call(this._scrollViewEventListener, this, event);\n            else\n                this._scrollViewEventSelector(this, event);\n        }\n        if (this._ccEventCallback)\n            this._ccEventCallback(this, event);\n    },\n\n    /**\n     * Adds callback function called ScrollView event triggered\n     * @param {Function} selector\n     * @param {Object} [target=]\n     * @deprecated since v3.0, please use addEventListener instead.\n     */\n    addEventListenerScrollView: function (selector, target) {\n        this._scrollViewEventSelector = selector;\n        this._scrollViewEventListener = target;\n    },\n\n    /**\n     * Adds callback function called ScrollView event triggered\n     * @param {Function} selector\n     */\n    addEventListener: function (selector) {\n        this._ccEventCallback = selector;\n    },\n\n    /**\n     * Changes scroll _direction of ScrollView.\n     * @param {ccui.ScrollView.DIR_NONE | ccui.ScrollView.DIR_VERTICAL | ccui.ScrollView.DIR_HORIZONTAL | ccui.ScrollView.DIR_BOTH} dir\n     *   Direction::VERTICAL means vertical scroll, Direction::HORIZONTAL means horizontal scroll\n     */\n    setDirection: function (dir) {\n        this._direction = dir;\n\n        if(this._scrollBarEnabled)\n        {\n            this._removeScrollBar();\n            this._initScrollBar();\n        }\n    },\n\n    /**\n     * Returns scroll direction of ScrollView.\n     * @returns {ccui.ScrollView.DIR_NONE | ccui.ScrollView.DIR_VERTICAL | ccui.ScrollView.DIR_HORIZONTAL | ccui.ScrollView.DIR_BOTH}\n     */\n    getDirection: function () {\n        return this._direction;\n    },\n\n    /**\n     * Sets bounce enabled\n     * @param {Boolean} enabled\n     */\n    setBounceEnabled: function (enabled) {\n        this.bounceEnabled = enabled;\n    },\n\n    /**\n     * Returns whether bounce is enabled\n     * @returns {boolean}\n     */\n    isBounceEnabled: function () {\n        return this.bounceEnabled;\n    },\n\n    /**\n     * Sets inertiaScroll enabled\n     * @param {boolean} enabled\n     */\n    setInertiaScrollEnabled: function (enabled) {\n        this.inertiaScrollEnabled = enabled;\n    },\n\n    /**\n     * Returns whether inertiaScroll is enabled\n     * @returns {boolean}\n     */\n    isInertiaScrollEnabled: function () {\n        return this.inertiaScrollEnabled;\n    },\n\n    /**\n     * Toggle scroll bar enabled.\n     * @param {boolean} enabled True if enable scroll bar, false otherwise.\n     */\n    setScrollBarEnabled: function(enabled)\n    {\n        if(this._scrollBarEnabled === enabled)\n        {\n            return;\n        }\n\n        if(this._scrollBarEnabled)\n        {\n            this._removeScrollBar();\n        }\n        this._scrollBarEnabled = enabled;\n        if(this._scrollBarEnabled)\n        {\n            this._initScrollBar();\n        }\n    },\n    /**\n     * Query scroll bar state.\n     * @returns {boolean} True if scroll bar is enabled, false otherwise.\n     */\n    isScrollBarEnabled: function()\n    {\n        return this._scrollBarEnabled;\n    },\n\n    /**\n     * Set the scroll bar positions from the left-bottom corner (horizontal) and right-top corner (vertical).\n     * @param {cc.Point} positionFromCorner The position from the left-bottom corner (horizontal) and right-top corner (vertical).\n     */\n    setScrollBarPositionFromCorner: function(positionFromCorner)\n    {\n        if(this._direction !== ccui.ScrollView.DIR_HORIZONTAL)\n        {\n            this.setScrollBarPositionFromCornerForVertical(positionFromCorner);\n        }\n        if(this._direction !== ccui.ScrollView.DIR_VERTICAL)\n        {\n            this.setScrollBarPositionFromCornerForHorizontal(positionFromCorner);\n        }\n    },\n\n    /**\n     * Set the vertical scroll bar position from right-top corner.\n     * @param {cc.Point} positionFromCorner The position from right-top corner\n     */\n    setScrollBarPositionFromCornerForVertical: function(positionFromCorner)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        cc.assert(this._direction !== ccui.ScrollView.DIR_HORIZONTAL, \"Scroll view doesn't have a vertical scroll bar!\");\n        this._verticalScrollBar.setPositionFromCorner(positionFromCorner);\n    },\n\n    /**\n     * Get the vertical scroll bar's position from right-top corner.\n     * @returns {cc.Point}\n     */\n    getScrollBarPositionFromCornerForVertical: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        cc.assert(this._direction !== ccui.ScrollView.DIR_HORIZONTAL, \"Scroll view doesn't have a vertical scroll bar!\");\n        return this._verticalScrollBar.getPositionFromCorner();\n    },\n\n    /**\n     * Set the horizontal scroll bar position from left-bottom corner.\n     * @param {cc.Point} positionFromCorner The position from left-bottom corner\n     */\n    setScrollBarPositionFromCornerForHorizontal: function(positionFromCorner)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        cc.assert(this._direction !== ccui.ScrollView.DIR_VERTICAL, \"Scroll view doesn't have a horizontal scroll bar!\");\n        this._horizontalScrollBar.setPositionFromCorner(positionFromCorner);\n    },\n\n    /**\n     * Get the horizontal scroll bar's position from right-top corner.\n     * @returns {cc.Point}\n     */\n    getScrollBarPositionFromCornerForHorizontal: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        cc.assert(this._direction !== ccui.ScrollView.DIR_VERTICAL, \"Scroll view doesn't have a horizontal scroll bar!\");\n        return this._horizontalScrollBar.getPositionFromCorner();\n    },\n\n    /**\n     * Set the scroll bar's width\n     * @param {number} width The scroll bar's width\n     */\n    setScrollBarWidth: function(width)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.setWidth(width);\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.setWidth(width);\n        }\n    },\n\n    /**\n     * Get the scroll bar's width\n     * @returns {number} the scroll bar's width\n     */\n    getScrollBarWidth: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            return this._verticalScrollBar.getWidth();\n        }\n        if(this._horizontalScrollBar)\n        {\n            return this._horizontalScrollBar.getWidth();\n        }\n        return 0;\n    },\n\n    /**\n     * Set the scroll bar's color\n     * @param {cc.Color} color the scroll bar's color\n     */\n    setScrollBarColor: function(color)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.setColor(color);\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.setColor(color);\n        }\n    },\n\n    /**\n     * Get the scroll bar's color\n     * @returns {cc.Color} the scroll bar's color\n     */\n    getScrollBarColor: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.getColor();\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.getColor();\n        }\n        return cc.color.WHITE;\n    },\n\n    /**\n     * Set the scroll bar's opacity\n     * @param {number} opacity the scroll bar's opacity\n     */\n    setScrollBarOpacity: function(opacity)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.opacity = opacity;\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.opacity = opacity;\n        }\n    },\n\n    /**\n     * Get the scroll bar's opacity\n     * @returns {number}\n     */\n    getScrollBarOpacity: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            return this._verticalScrollBar.opacity;\n        }\n        if(this._horizontalScrollBar)\n        {\n            return this._horizontalScrollBar.opacity;\n        }\n        return -1;\n    },\n\n    /**\n     * Set scroll bar auto hide state\n     * @param {boolean} autoHideEnabled scroll bar auto hide state\n     */\n    setScrollBarAutoHideEnabled: function(autoHideEnabled)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.autoHideEnabled = autoHideEnabled;\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.autoHideEnabled = autoHideEnabled;\n        }\n    },\n\n    /**\n     * Query scroll bar auto hide state\n     * @returns {boolean}\n     */\n    isScrollBarAutoHideEnabled: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            return this._verticalScrollBar.autoHideEnabled;\n        }\n        if(this._horizontalScrollBar)\n        {\n            return this._horizontalScrollBar.autoHideEnabled;\n        }\n        return false;\n    },\n\n    /**\n     * Set scroll bar auto hide time\n     * @param {number} autoHideTime scroll bar auto hide state\n     */\n    setScrollBarAutoHideTime: function(autoHideTime)\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            this._verticalScrollBar.autoHideTime = autoHideTime;\n        }\n        if(this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar.autoHideTime = autoHideTime;\n        }\n    },\n\n    /**\n     * Get the scroll bar's auto hide time\n     * @returns {number}\n     */\n    getScrollBarAutoHideTime: function()\n    {\n        cc.assert(this._scrollBarEnabled, \"Scroll bar should be enabled!\");\n        if(this._verticalScrollBar)\n        {\n            return this._verticalScrollBar.autoHideTime;\n        }\n        if(this._horizontalScrollBar)\n        {\n            return this._horizontalScrollBar.autoHideTime;\n        }\n        return 0;\n    },\n\n    /**\n     * Gets inner container of ScrollView. Inner container is the container of ScrollView's children.\n     * @returns {ccui.Layout}\n     */\n    getInnerContainer: function () {\n        return this._innerContainer;\n    },\n\n    /**\n     * Sets LayoutType of ccui.ScrollView.\n     * @param {ccui.Layout.ABSOLUTE|ccui.Layout.LINEAR_VERTICAL|ccui.Layout.LINEAR_HORIZONTAL|ccui.Layout.RELATIVE} type\n     */\n    setLayoutType: function (type) {\n        this._innerContainer.setLayoutType(type);\n    },\n\n    /**\n     * Returns the layout type of ccui.ScrollView.\n     * @returns {ccui.Layout.ABSOLUTE|ccui.Layout.LINEAR_VERTICAL|ccui.Layout.LINEAR_HORIZONTAL|ccui.Layout.RELATIVE}\n     */\n    getLayoutType: function () {\n        return this._innerContainer.getLayoutType();\n    },\n\n    _doLayout: function () {\n        if (!this._doLayoutDirty)\n            return;\n        this._doLayoutDirty = false;\n    },\n\n    /**\n     * Returns the \"class name\" of ccui.ScrollView.\n     * @returns {string}\n     */\n    getDescription: function () {\n        return \"ScrollView\";\n    },\n\n    _createCloneInstance: function () {\n        return new ccui.ScrollView();\n    },\n\n    _copyClonedWidgetChildren: function (model) {\n        ccui.Layout.prototype._copyClonedWidgetChildren.call(this, model);\n    },\n\n    _copySpecialProperties: function (scrollView) {\n        if (scrollView instanceof ccui.ScrollView) {\n            ccui.Layout.prototype._copySpecialProperties.call(this, scrollView);\n            this.setInnerContainerSize(scrollView.getInnerContainerSize());\n            this.setInnerContainerPosition(scrollView.getInnerContainerPosition());\n            this.setDirection(scrollView._direction);\n\n            this._topBoundary = scrollView._topBoundary;\n            this._bottomBoundary = scrollView._bottomBoundary;\n            this._leftBoundary = scrollView._leftBoundary;\n            this._rightBoundary = scrollView._rightBoundary;\n            this._bePressed = scrollView._bePressed;\n            this._childFocusCancelOffset = scrollView._childFocusCancelOffset;\n            this._touchMoveDisplacements = scrollView._touchMoveDisplacements;\n            this._touchMoveTimeDeltas = scrollView._touchMoveTimeDeltas;\n            this._touchMovePreviousTimestamp = scrollView._touchMovePreviousTimestamp;\n            this._autoScrolling = scrollView._autoScrolling;\n            this._autoScrollAttenuate = scrollView._autoScrollAttenuate;\n            this._autoScrollStartPosition = scrollView._autoScrollStartPosition;\n            this._autoScrollTargetDelta = scrollView._autoScrollTargetDelta;\n            this._autoScrollTotalTime = scrollView._autoScrollTotalTime;\n            this._autoScrollAccumulatedTime = scrollView._autoScrollAccumulatedTime;\n            this._autoScrollCurrentlyOutOfBoundary = scrollView._autoScrollCurrentlyOutOfBoundary;\n            this._autoScrollBraking = scrollView._autoScrollBraking;\n            this._autoScrollBrakingStartPosition = scrollView._autoScrollBrakingStartPosition;\n\n            this.setBounceEnabled(scrollView.bounceEnabled);\n            this.setInertiaScrollEnabled(scrollView.inertiaScrollEnabled);\n\n            this._scrollViewEventListener = scrollView._scrollViewEventListener;\n            this._scrollViewEventSelector = scrollView._scrollViewEventSelector;\n            this._ccEventCallback = scrollView._ccEventCallback;\n\n            this.setScrollBarEnabled(scrollView.isScrollBarEnabled());\n            if(this.isScrollBarEnabled())\n            {\n                if(this._direction !== ccui.ScrollView.DIR_HORIZONTAL)\n                {\n                    this.setScrollBarPositionFromCornerForVertical(scrollView.getScrollBarPositionFromCornerForVertical());\n                }\n                if(this._direction !== ccui.ScrollView.DIR_VERTICAL)\n                {\n                    this.setScrollBarPositionFromCornerForHorizontal(scrollView.getScrollBarPositionFromCornerForHorizontal());\n                }\n                this.setScrollBarWidth(scrollView.getScrollBarWidth());\n                this.setScrollBarColor(scrollView.getScrollBarColor());\n                this.setScrollBarAutoHideEnabled(scrollView.isScrollBarAutoHideEnabled());\n                this.setScrollBarAutoHideTime(scrollView.getScrollBarAutoHideTime());\n            }\n        }\n    },\n\n    _initScrollBar: function()\n    {\n        if(this._direction !== ccui.ScrollView.DIR_HORIZONTAL && !this._verticalScrollBar)\n        {\n            this._verticalScrollBar = new ccui.ScrollViewBar(this, ccui.ScrollView.DIR_VERTICAL);\n            this.addProtectedChild(this._verticalScrollBar, 2);\n        }\n        if(this._direction !== ccui.ScrollView.DIR_VERTICAL && !this._horizontalScrollBar)\n        {\n            this._horizontalScrollBar = new ccui.ScrollViewBar(this, ccui.ScrollView.DIR_HORIZONTAL);\n            this.addProtectedChild(this._horizontalScrollBar, 2);\n        }\n    },\n\n    _removeScrollBar: function()\n    {\n        if(this._verticalScrollBar)\n        {\n            this.removeProtectedChild(this._verticalScrollBar);\n            this._verticalScrollBar = null;\n        }\n        if(this._horizontalScrollBar)\n        {\n            this.removeProtectedChild(this._horizontalScrollBar);\n            this._horizontalScrollBar = null;\n        }\n    },\n\n    /**\n     * Returns a node by tag\n     * @param {Number} tag\n     * @returns {cc.Node}\n     * @deprecated  since v3.0, please use getChildByTag instead.\n     */\n    getNodeByTag: function (tag) {\n        return this._innerContainer.getNodeByTag(tag);\n    },\n\n    /**\n     * Returns all nodes of inner container\n     * @returns {Array}\n     * @deprecated since v3.0, please use getChildren instead.\n     */\n    getNodes: function () {\n        return this._innerContainer.getNodes();\n    },\n\n    /**\n     * Removes a node from ccui.ScrollView.\n     * @param {cc.Node} node\n     * @deprecated since v3.0, please use removeChild instead.\n     */\n    removeNode: function (node) {\n        this._innerContainer.removeNode(node);\n    },\n\n    /**\n     * Removes a node by tag\n     * @param {Number} tag\n     * @deprecated since v3.0, please use removeChildByTag instead.\n     */\n    removeNodeByTag: function (tag) {\n        this._innerContainer.removeNodeByTag(tag);\n    },\n\n    /**\n     * Remove all node from ccui.ScrollView.\n     * @deprecated since v3.0, please use removeAllChildren instead.\n     */\n    removeAllNodes: function () {\n        this._innerContainer.removeAllNodes();\n    },\n\n    /**\n     * Add node for scrollView\n     * @param {cc.Node} node\n     * @param {Number} zOrder\n     * @param {Number} tag\n     * @deprecated since v3.0, please use addChild instead.\n     */\n    addNode: function (node, zOrder, tag) {\n        this._innerContainer.addNode(node, zOrder, tag);\n    }\n});\n\nvar _p = ccui.ScrollView.prototype;\n\n// Extended properties\n/** @expose */\n_p.innerWidth;\ncc.defineGetterSetter(_p, \"innerWidth\", _p._getInnerWidth, _p._setInnerWidth);\n/** @expose */\n_p.innerHeight;\ncc.defineGetterSetter(_p, \"innerHeight\", _p._getInnerHeight, _p._setInnerHeight);\n/** @expose */\n_p.direction;\ncc.defineGetterSetter(_p, \"direction\", _p.getDirection, _p.setDirection);\n/** @expose */\n_p.touchTotalTimeThreshold;\ncc.defineGetterSetter(_p, \"touchTotalTimeThreshold\", _p.getTouchTotalTimeThreshold, _p.setTouchTotalTimeThreshold);\n_p = null;\n/**\n * allocates and initializes a UIScrollView.\n * @deprecated since v3.0, please use new ccui.ScrollView() instead.\n * @return {ccui.ScrollView}\n */\nccui.ScrollView.create = function () {\n    return new ccui.ScrollView();\n};\n\n// Constants\n//ScrollView direction\n/**\n * The none flag of ccui.ScrollView's direction.\n * @constant\n * @type {number}\n */\nccui.ScrollView.DIR_NONE = 0;\n/**\n * The vertical flag of ccui.ScrollView's direction.\n * @constant\n * @type {number}\n */\nccui.ScrollView.DIR_VERTICAL = 1;\n/**\n * The horizontal flag of ccui.ScrollView's direction.\n * @constant\n * @type {number}\n */\nccui.ScrollView.DIR_HORIZONTAL = 2;\n/**\n * The both flag of ccui.ScrollView's direction.\n * @constant\n * @type {number}\n */\nccui.ScrollView.DIR_BOTH = 3;\n\n//ScrollView event\n/**\n * The flag scroll to top of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_SCROLL_TO_TOP = 0;\n/**\n * The flag scroll to bottom of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_SCROLL_TO_BOTTOM = 1;\n/**\n * The flag scroll to left of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_SCROLL_TO_LEFT = 2;\n/**\n * The flag scroll to right of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_SCROLL_TO_RIGHT = 3;\n/**\n * The scrolling flag of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_SCROLLING = 4;\n/**\n * The flag bounce top of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_BOUNCE_TOP = 5;\n/**\n * The flag bounce bottom of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_BOUNCE_BOTTOM = 6;\n/**\n * The flag bounce left of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_BOUNCE_LEFT = 7;\n/**\n * The flag bounce right of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_BOUNCE_RIGHT = 8;\n/**\n * The flag container moved of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_CONTAINER_MOVED = 9;\n/**\n * The flag autoscroll ended of ccui.ScrollView's event.\n * @constant\n * @type {number}\n */\nccui.ScrollView.EVENT_AUTOSCROLL_ENDED = 10;\n\n/**\n * @ignore\n */\n\nccui.ScrollView.MOVEDIR_TOP = 0;\nccui.ScrollView.MOVEDIR_BOTTOM = 1;\nccui.ScrollView.MOVEDIR_LEFT = 2;\nccui.ScrollView.MOVEDIR_RIGHT = 3;\n"]}