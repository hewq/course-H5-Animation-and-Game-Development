{"version":3,"sources":["../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/transitions/assets/frameworks/cocos2d-html5/cocos2d/transitions/CCTransition.js"],"names":["cc","SCENE_FADE","TRANSITION_ORIENTATION_LEFT_OVER","TRANSITION_ORIENTATION_RIGHT_OVER","TRANSITION_ORIENTATION_UP_OVER","TRANSITION_ORIENTATION_DOWN_OVER","TransitionScene","Scene","extend","_inScene","_outScene","_duration","_isInSceneOnTop","_isSendCleanupToScene","_className","ctor","t","scene","prototype","call","undefined","initWithDuration","_setNewScene","dt","unschedule","director","isSendCleanupToScene","runScene","eventManager","setEnabled","visible","_sceneOrder","visit","Node","onEnter","_performRecursive","_stateCallbackType","onExitTransitionDidStart","onExit","onEnterTransitionDidFinish","cleanup","Error","init","attr","x","y","anchorX","anchorY","getRunningScene","finish","scale","rotation","schedule","hideOutShowIn","create","TransitionSceneOriented","_orientation","orientation","TransitionRotoZoom","rotoZoom","sequence","spawn","scaleBy","rotateBy","delayTime","runAction","reverse","callFunc","TransitionJumpZoom","winSize","getWinSize","width","jump","jumpBy","p","scaleIn","scaleTo","scaleOut","jumpZoomOut","jumpZoomIn","delay","TransitionMoveInL","initScenes","action","easeActionWithAction","setPosition","moveTo","EaseOut","TransitionMoveInR","TransitionMoveInT","height","TransitionMoveInB","ADJUST_FACTOR","TransitionSlideInL","inA","outA","inAction","outAction","moveBy","EaseInOut","TransitionSlideInR","TransitionSlideInB","TransitionSlideInT","TransitionShrinkGrow","TransitionFade","_color","color","l","LayerColor","addChild","f","getChildByTag","a","fadeIn","fadeOut","removeChildByTag","BLACK","r","g","b","TransitionCrossFade","layer","inTexture","RenderTexture","sprite","begin","end","outTexture","setBlendFunc","ONE","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","opacity","layerAction","fadeTo","TransitionTurnOffTiles","_gridProxy","NodeGrid","setTarget","aspect","toff","turnOffTiles","size","stopGrid","TransitionSplitCols","_switchTargetToInscene","split","seq","splitCols","TransitionSplitRows","splitRows","TransitionFadeTR","actionWithSize","fadeOutTRTiles","TransitionFadeBL","fadeOutBLTiles","TransitionFadeUp","FadeOutUpTiles","TransitionFadeDown","fadeOutDownTiles"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;;;;;AAKAA,GAAGC,UAAH,GAAgB,UAAhB;;AAEA;;;;;AAKAD,GAAGE,gCAAH,GAAsC,CAAtC;AACA;;;;;AAKAF,GAAGG,iCAAH,GAAuC,CAAvC;AACA;;;;;AAKAH,GAAGI,8BAAH,GAAoC,CAApC;AACA;;;;;AAKAJ,GAAGK,gCAAH,GAAsC,CAAtC;;AAEA;;;;;;;;AAQAL,GAAGM,eAAH,GAAqBN,GAAGO,KAAH,CAASC,MAAT,EAAgB,iCAAiC;AAClEC,cAAU,IADwD;AAElEC,eAAW,IAFuD;AAGlEC,eAAW,IAHuD;AAIlEC,qBAAiB,KAJiD;AAKlEC,2BAAuB,KAL2C;AAMlEC,gBAAY,iBANsD;;AAQlE;;;;;;AAMAC,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGO,KAAH,CAASW,SAAT,CAAmBH,IAAnB,CAAwBI,IAAxB,CAA6B,IAA7B;AACA,YAAIH,MAAMI,SAAN,IAAmBH,UAAUG,SAAjC,EACI,KAAKC,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB;AACP,KAlBiE;;AAoBlE;AACAK,kBAAc,sBAAUC,EAAV,EAAc;AACxB,aAAKC,UAAL,CAAgB,KAAKF,YAArB;AACA;AACA,YAAIG,WAAWzB,GAAGyB,QAAlB;AACA,aAAKZ,qBAAL,GAA6BY,SAASC,oBAAT,EAA7B;AACAD,iBAASE,QAAT,CAAkB,KAAKlB,QAAvB;;AAEA;AACAT,WAAG4B,YAAH,CAAgBC,UAAhB,CAA2B,IAA3B;;AAEA;AACA,aAAKnB,SAAL,CAAeoB,OAAf,GAAyB,IAAzB;AACH,KAjCiE;;AAmClE;AACAC,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,IAAvB;AACH,KAtCiE;;AAwClE;;;AAGAoB,WAAO,iBAAY;AACf,YAAI,KAAKpB,eAAT,EAA0B;AACtB,iBAAKF,SAAL,CAAesB,KAAf;AACA,iBAAKvB,QAAL,CAAcuB,KAAd;AACH,SAHD,MAGO;AACH,iBAAKvB,QAAL,CAAcuB,KAAd;AACA,iBAAKtB,SAAL,CAAesB,KAAf;AACH;AACDhC,WAAGiC,IAAH,CAAQf,SAAR,CAAkBc,KAAlB,CAAwBb,IAAxB,CAA6B,IAA7B;AACH,KApDiE;;AAsDlE;;;;;;;;AAQAe,aAAS,mBAAY;AACjBlC,WAAGiC,IAAH,CAAQf,SAAR,CAAkBgB,OAAlB,CAA0Bf,IAA1B,CAA+B,IAA/B;;AAEA;AACAnB,WAAG4B,YAAH,CAAgBC,UAAhB,CAA2B,KAA3B;;AAEA;AACA;AACA,aAAKnB,SAAL,CAAeyB,iBAAf,CAAiCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BC,wBAA5D;;AAEA,aAAK5B,QAAL,CAAc0B,iBAAd,CAAgCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BF,OAA3D;AACH,KAzEiE;;AA2ElE;;;;;;;;AAQAI,YAAQ,kBAAY;AAChBtC,WAAGiC,IAAH,CAAQf,SAAR,CAAkBoB,MAAlB,CAAyBnB,IAAzB,CAA8B,IAA9B;;AAEA;AACAnB,WAAG4B,YAAH,CAAgBC,UAAhB,CAA2B,IAA3B;;AAEA,aAAKnB,SAAL,CAAeyB,iBAAf,CAAiCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BE,MAA5D;;AAEA;AACA;AACA,aAAK7B,QAAL,CAAc0B,iBAAd,CAAgCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BG,0BAA3D;AACH,KA9FiE;;AAgGlE;;;AAGAC,aAAS,mBAAY;AACjBxC,WAAGiC,IAAH,CAAQf,SAAR,CAAkBsB,OAAlB,CAA0BrB,IAA1B,CAA+B,IAA/B;;AAEA,YAAI,KAAKN,qBAAT,EACI,KAAKH,SAAL,CAAeyB,iBAAf,CAAiCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BI,OAA5D;AACP,KAxGiE;;AA0GlE;;;;;;AAMAnB,sBAAkB,0BAAUL,CAAV,EAAaC,KAAb,EAAoB;AAClC,YAAI,CAACA,KAAL,EACI,MAAM,IAAIwB,KAAJ,CAAU,uEAAV,CAAN;;AAEJ,YAAI,KAAKC,IAAL,EAAJ,EAAiB;AACb,iBAAK/B,SAAL,GAAiBK,CAAjB;AACA,iBAAK2B,IAAL,CAAU;AACNC,mBAAG,CADG;AAENC,mBAAG,CAFG;AAGNC,yBAAS,CAHH;AAINC,yBAAS;AAJH,aAAV;AAMA;AACA,iBAAKtC,QAAL,GAAgBQ,KAAhB;AACA,iBAAKP,SAAL,GAAiBV,GAAGyB,QAAH,CAAYuB,eAAZ,EAAjB;AACA,gBAAI,CAAC,KAAKtC,SAAV,EAAqB;AACjB,qBAAKA,SAAL,GAAiB,IAAIV,GAAGO,KAAP,EAAjB;AACA,qBAAKG,SAAL,CAAegC,IAAf;AACH;;AAED,gBAAI,KAAKjC,QAAL,KAAkB,KAAKC,SAA3B,EACI,MAAM,IAAI+B,KAAJ,CAAU,iGAAV,CAAN;;AAEJ,iBAAKV,WAAL;AACA,mBAAO,IAAP;AACH,SArBD,MAqBO;AACH,mBAAO,KAAP;AACH;AACJ,KA5IiE;;AA8IlE;;;AAGAkB,YAAQ,kBAAY;AAChB;AACA,aAAKxC,QAAL,CAAckC,IAAd,CAAmB;AACfb,qBAAS,IADM;AAEfc,eAAG,CAFY;AAGfC,eAAG,CAHY;AAIfK,mBAAO,GAJQ;AAKfC,sBAAU;AALK,SAAnB;;AAQA,aAAKzC,SAAL,CAAeiC,IAAf,CAAoB;AAChBb,qBAAS,KADO;AAEhBc,eAAG,CAFa;AAGhBC,eAAG,CAHa;AAIhBK,mBAAO,GAJS;AAKhBC,sBAAU;AALM,SAApB;;AAQA;AACA,aAAKC,QAAL,CAAc,KAAK9B,YAAnB,EAAiC,CAAjC;AACH,KArKiE;;AAuKlE;;;AAGA+B,mBAAe,yBAAY;AACvB,aAAK5C,QAAL,CAAcqB,OAAd,GAAwB,IAAxB;AACA,aAAKpB,SAAL,CAAeoB,OAAf,GAAyB,KAAzB;AACH;AA7KiE,CAAjD,CAArB;AA+KA;;;;;;;AAOA9B,GAAGM,eAAH,CAAmBgD,MAAnB,GAA4B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC5C,WAAO,IAAIjB,GAAGM,eAAP,CAAuBU,CAAvB,EAA0BC,KAA1B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;;;;AAYAjB,GAAGuD,uBAAH,GAA6BvD,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,yCAAyC;AAC5FgD,kBAAc,CAD8E;;AAG5F;;;;;;AAMAzC,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoBwC,WAApB,EAAiC;AACnCzD,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAsC,uBAAerC,SAAf,IAA4B,KAAKC,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,EAAgCwC,WAAhC,CAA5B;AACH,KAZ2F;AAa5F;;;;;;;AAOApC,sBAAkB,0BAAUL,CAAV,EAAaC,KAAb,EAAoBwC,WAApB,EAAiC;AAC/C,YAAIzD,GAAGM,eAAH,CAAmBY,SAAnB,CAA6BG,gBAA7B,CAA8CF,IAA9C,CAAmD,IAAnD,EAAyDH,CAAzD,EAA4DC,KAA5D,CAAJ,EAAwE;AACpE,iBAAKuC,YAAL,GAAoBC,WAApB;AACH;AACD,eAAO,IAAP;AACH;AAzB2F,CAAnE,CAA7B;;AA4BA;;;;;;;;AAQAzD,GAAGuD,uBAAH,CAA2BD,MAA3B,GAAoC,UAAUtC,CAAV,EAAaC,KAAb,EAAoBwC,WAApB,EAAiC;AACjE,WAAO,IAAIzD,GAAGuD,uBAAP,CAA+BvC,CAA/B,EAAkCC,KAAlC,EAAyCwC,WAAzC,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAzD,GAAG0D,kBAAH,GAAwB1D,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,oCAAoC;;AAElF;;;;;;AAMAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAXiF;AAYlF;;;;AAIAiB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;;AAEA,aAAKV,QAAL,CAAckC,IAAd,CAAmB;AACfO,mBAAO,KADQ;AAEfJ,qBAAS,GAFM;AAGfC,qBAAS;AAHM,SAAnB;AAKA,aAAKrC,SAAL,CAAeiC,IAAf,CAAoB;AAChBO,mBAAO,GADS;AAEhBJ,qBAAS,GAFO;AAGhBC,qBAAS;AAHO,SAApB;;AAMA,YAAIY,WAAW3D,GAAG4D,QAAH,CACX5D,GAAG6D,KAAH,CAAS7D,GAAG8D,OAAH,CAAW,KAAKnD,SAAL,GAAiB,CAA5B,EAA+B,KAA/B,CAAT,EACIX,GAAG+D,QAAH,CAAY,KAAKpD,SAAL,GAAiB,CAA7B,EAAgC,MAAM,CAAtC,CADJ,CADW,EAGXX,GAAGgE,SAAH,CAAa,KAAKrD,SAAL,GAAiB,CAA9B,CAHW,CAAf;;AAKA,aAAKD,SAAL,CAAeuD,SAAf,CAAyBN,QAAzB;AACA,aAAKlD,QAAL,CAAcwD,SAAd,CACIjE,GAAG4D,QAAH,CAAYD,SAASO,OAAT,EAAZ,EACIlE,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CADJ,CADJ;AAGH;AAvCiF,CAA9D,CAAxB;;AA0CA;;;;;;;AAOAjD,GAAG0D,kBAAH,CAAsBJ,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAG0D,kBAAP,CAA0B1C,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGoE,kBAAH,GAAwBpE,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,oCAAoC;AAClF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATiF;AAUlF;;;AAGAiB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;AACA,YAAIkD,UAAUrE,GAAGyB,QAAH,CAAY6C,UAAZ,EAAd;;AAEA,aAAK7D,QAAL,CAAckC,IAAd,CAAmB;AACfO,mBAAO,GADQ;AAEfN,eAAGyB,QAAQE,KAFI;AAGf1B,eAAG,CAHY;AAIfC,qBAAS,GAJM;AAKfC,qBAAS;AALM,SAAnB;AAOA,aAAKrC,SAAL,CAAeoC,OAAf,GAAyB,GAAzB;AACA,aAAKpC,SAAL,CAAeqC,OAAf,GAAyB,GAAzB;;AAEA,YAAIyB,OAAOxE,GAAGyE,MAAH,CAAU,KAAK9D,SAAL,GAAiB,CAA3B,EAA8BX,GAAG0E,CAAH,CAAK,CAACL,QAAQE,KAAd,EAAqB,CAArB,CAA9B,EAAuDF,QAAQE,KAAR,GAAgB,CAAvE,EAA0E,CAA1E,CAAX;AACA,YAAII,UAAU3E,GAAG4E,OAAH,CAAW,KAAKjE,SAAL,GAAiB,CAA5B,EAA+B,GAA/B,CAAd;AACA,YAAIkE,WAAW7E,GAAG4E,OAAH,CAAW,KAAKjE,SAAL,GAAiB,CAA5B,EAA+B,GAA/B,CAAf;;AAEA,YAAImE,cAAc9E,GAAG4D,QAAH,CAAYiB,QAAZ,EAAsBL,IAAtB,CAAlB;AACA,YAAIO,aAAa/E,GAAG4D,QAAH,CAAYY,IAAZ,EAAkBG,OAAlB,CAAjB;;AAEA,YAAIK,QAAQhF,GAAGgE,SAAH,CAAa,KAAKrD,SAAL,GAAiB,CAA9B,CAAZ;AACA,aAAKD,SAAL,CAAeuD,SAAf,CAAyBa,WAAzB;AACA,aAAKrE,QAAL,CAAcwD,SAAd,CAAwBjE,GAAG4D,QAAH,CAAYoB,KAAZ,EAAmBD,UAAnB,EAA+B/E,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAA/B,CAAxB;AACH;AArCiF,CAA9D,CAAxB;;AAwCA;;;;;;;AAOAjD,GAAGoE,kBAAH,CAAsBd,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAGoE,kBAAP,CAA0BpD,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGiF,iBAAH,GAAuBjF,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,mCAAmC;AAChF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAT+E;AAUhF;;;AAGAiB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;AACA,aAAK+D,UAAL;;AAEA,YAAIC,SAAS,KAAKA,MAAL,EAAb;AACA,aAAK1E,QAAL,CAAcwD,SAAd,CACIjE,GAAG4D,QAAH,CAAY,KAAKwB,oBAAL,CAA0BD,MAA1B,CAAZ,EAA+CnF,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAA/C,CADJ;AAGH,KArB+E;;AAuBhF;;;AAGAiC,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0B,CAACrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBC,KAApD,EAA2D,CAA3D;AACH,KA5B+E;;AA8BhF;;;AAGAY,YAAQ,kBAAY;AAChB,eAAOnF,GAAGsF,MAAH,CAAU,KAAK3E,SAAf,EAA0BX,GAAG0E,CAAH,CAAK,CAAL,EAAQ,CAAR,CAA1B,CAAP;AACH,KAnC+E;;AAqChF;;;;;AAKAU,0BAAsB,8BAAUD,MAAV,EAAkB;AACpC,eAAO,IAAInF,GAAGuF,OAAP,CAAeJ,MAAf,EAAuB,GAAvB,CAAP;AACH;AA5C+E,CAA7D,CAAvB;;AA+CA;;;;;;;AAOAnF,GAAGiF,iBAAH,CAAqB3B,MAArB,GAA8B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC9C,WAAO,IAAIjB,GAAGiF,iBAAP,CAAyBjE,CAAzB,EAA4BC,KAA5B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGwF,iBAAH,GAAuBxF,GAAGiF,iBAAH,CAAqBzE,MAArB,EAA4B,mCAAmC;AAClF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGiF,iBAAH,CAAqB/D,SAArB,CAA+BH,IAA/B,CAAoCI,IAApC,CAAyC,IAAzC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATiF;AAUlF;;;AAGAiE,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0BrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBC,KAAnD,EAA0D,CAA1D;AACH;AAfiF,CAA/D,CAAvB;;AAkBA;;;;;;;AAOAvE,GAAGwF,iBAAH,CAAqBlC,MAArB,GAA8B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC9C,WAAO,IAAIjB,GAAGwF,iBAAP,CAAyBxE,CAAzB,EAA4BC,KAA5B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGyF,iBAAH,GAAuBzF,GAAGiF,iBAAH,CAAqBzE,MAArB,EAA4B,mCAAmC;AAClF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGiF,iBAAH,CAAqB/D,SAArB,CAA+BH,IAA/B,CAAoCI,IAApC,CAAyC,IAAzC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATiF;AAUlF;;;AAGAiE,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0B,CAA1B,EAA6BrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBoB,MAAtD;AACH;AAfiF,CAA/D,CAAvB;;AAkBA;;;;;;;AAOA1F,GAAGyF,iBAAH,CAAqBnC,MAArB,GAA8B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC9C,WAAO,IAAIjB,GAAGyF,iBAAP,CAAyBzE,CAAzB,EAA4BC,KAA5B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAG2F,iBAAH,GAAuB3F,GAAGiF,iBAAH,CAAqBzE,MAArB,EAA4B,mCAAmC;AAClF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGiF,iBAAH,CAAqB/D,SAArB,CAA+BH,IAA/B,CAAoCI,IAApC,CAAyC,IAAzC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATiF;;AAWlF;;;AAGAiE,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0B,CAA1B,EAA6B,CAACrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBoB,MAAvD;AACH;AAhBiF,CAA/D,CAAvB;;AAmBA;;;;;;;AAOA1F,GAAG2F,iBAAH,CAAqBrC,MAArB,GAA8B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC9C,WAAO,IAAIjB,GAAG2F,iBAAP,CAAyB3E,CAAzB,EAA4BC,KAA5B,CAAP;AACH,CAFD;;AAIA;;;;;;;;AAQAjB,GAAG4F,aAAH,GAAmB,GAAnB;;AAEA;;;;;;;;;AASA5F,GAAG6F,kBAAH,GAAwB7F,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,oCAAoC;AAClF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATiF;AAUlFc,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,KAAvB;AACH,KAZiF;;AAclF;;;AAGAsB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;AACA,aAAK+D,UAAL;;AAEA,YAAIY,MAAM,KAAKX,MAAL,EAAV;AACA,YAAIY,OAAO,KAAKZ,MAAL,EAAX;;AAEA,YAAIa,WAAWhG,GAAG4D,QAAH,CAAY,KAAKwB,oBAAL,CAA0BU,GAA1B,CAAZ,EAA4C9F,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAA5C,CAAf;AACA,YAAIgD,YAAY,KAAKb,oBAAL,CAA0BW,IAA1B,CAAhB;AACA,aAAKtF,QAAL,CAAcwD,SAAd,CAAwB+B,QAAxB;AACA,aAAKtF,SAAL,CAAeuD,SAAf,CAAyBgC,SAAzB;AACH,KA5BiF;;AA8BlF;;;AAGAf,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0B,CAACrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBC,KAA1B,GAAkCvE,GAAG4F,aAA/D,EAA8E,CAA9E;AACH,KAnCiF;AAoClF;;;;AAIAT,YAAQ,kBAAY;AAChB,eAAOnF,GAAGkG,MAAH,CAAU,KAAKvF,SAAf,EAA0BX,GAAG0E,CAAH,CAAK1E,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBC,KAAzB,GAAiCvE,GAAG4F,aAAzC,EAAwD,CAAxD,CAA1B,CAAP;AACH,KA1CiF;;AA4ClF;;;;AAIAR,0BAAsB,8BAAUD,MAAV,EAAkB;AACpC,eAAO,IAAInF,GAAGmG,SAAP,CAAiBhB,MAAjB,EAAyB,GAAzB,CAAP;AACH;AAlDiF,CAA9D,CAAxB;;AAqDA;;;;;;;AAOAnF,GAAG6F,kBAAH,CAAsBvC,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAG6F,kBAAP,CAA0B7E,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGoG,kBAAH,GAAwBpG,GAAG6F,kBAAH,CAAsBrF,MAAtB,EAA6B,oCAAoC;AACrF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAG6F,kBAAH,CAAsB3E,SAAtB,CAAgCH,IAAhC,CAAqCI,IAArC,CAA0C,IAA1C;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAToF;AAUrFc,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,IAAvB;AACH,KAZoF;AAarF;;;AAGAsE,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0BrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBC,KAAzB,GAAiCvE,GAAG4F,aAA9D,EAA6E,CAA7E;AACH,KAlBoF;AAmBrF;;;;AAIAT,YAAQ,kBAAY;AAChB,eAAOnF,GAAGkG,MAAH,CAAU,KAAKvF,SAAf,EAA0BX,GAAG0E,CAAH,CAAK,EAAE1E,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBC,KAAzB,GAAiCvE,GAAG4F,aAAtC,CAAL,EAA2D,CAA3D,CAA1B,CAAP;AACH;AAzBoF,CAAjE,CAAxB;;AA4BA;;;;;;;AAOA5F,GAAGoG,kBAAH,CAAsB9C,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAGoG,kBAAP,CAA0BpF,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGqG,kBAAH,GAAwBrG,GAAG6F,kBAAH,CAAsBrF,MAAtB,EAA6B,oCAAoC;AACrF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAG6F,kBAAH,CAAsB3E,SAAtB,CAAgCH,IAAhC,CAAqCI,IAArC,CAA0C,IAA1C;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAToF;AAUrFc,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,KAAvB;AACH,KAZoF;;AAcrF;;;AAGAsE,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0B,CAA1B,EAA6B,EAAErF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBoB,MAAzB,GAAkC1F,GAAG4F,aAAvC,CAA7B;AACH,KAnBoF;;AAqBrF;;;;AAIAT,YAAQ,kBAAY;AAChB,eAAOnF,GAAGkG,MAAH,CAAU,KAAKvF,SAAf,EAA0BX,GAAG0E,CAAH,CAAK,CAAL,EAAQ1E,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBoB,MAAzB,GAAkC1F,GAAG4F,aAA7C,CAA1B,CAAP;AACH;AA3BoF,CAAjE,CAAxB;;AA8BA;;;;;;;AAOA5F,GAAGqG,kBAAH,CAAsB/C,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAGqG,kBAAP,CAA0BrF,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGsG,kBAAH,GAAwBtG,GAAG6F,kBAAH,CAAsBrF,MAAtB,EAA6B,oCAAoC;AACrF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAG6F,kBAAH,CAAsB3E,SAAtB,CAAgCH,IAAhC,CAAqCI,IAArC,CAA0C,IAA1C;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAToF;AAUrFc,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,IAAvB;AACH,KAZoF;;AAcrF;;;AAGAsE,gBAAY,sBAAY;AACpB,aAAKzE,QAAL,CAAc4E,WAAd,CAA0B,CAA1B,EAA6BrF,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBoB,MAAzB,GAAkC1F,GAAG4F,aAAlE;AACH,KAnBoF;;AAqBrF;;;;AAIAT,YAAQ,kBAAY;AAChB,eAAOnF,GAAGkG,MAAH,CAAU,KAAKvF,SAAf,EAA0BX,GAAG0E,CAAH,CAAK,CAAL,EAAQ,EAAE1E,GAAGyB,QAAH,CAAY6C,UAAZ,GAAyBoB,MAAzB,GAAkC1F,GAAG4F,aAAvC,CAAR,CAA1B,CAAP;AACH;AA3BoF,CAAjE,CAAxB;;AA8BA;;;;;;;AAOA5F,GAAGsG,kBAAH,CAAsBhD,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAGsG,kBAAP,CAA0BtF,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGuG,oBAAH,GAA0BvG,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,sCAAsC;AACtF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATqF;AAUtF;;;AAGAiB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;;AAEA,aAAKV,QAAL,CAAckC,IAAd,CAAmB;AACfO,mBAAO,KADQ;AAEfJ,qBAAS,IAAI,GAFE;AAGfC,qBAAS;AAHM,SAAnB;AAKA,aAAKrC,SAAL,CAAeiC,IAAf,CAAoB;AAChBO,mBAAO,GADS;AAEhBJ,qBAAS,IAAI,GAFG;AAGhBC,qBAAS;AAHO,SAApB;;AAMA,YAAI8B,WAAW7E,GAAG4E,OAAH,CAAW,KAAKjE,SAAhB,EAA2B,IAA3B,CAAf;AACA,YAAIgE,UAAU3E,GAAG4E,OAAH,CAAW,KAAKjE,SAAhB,EAA2B,GAA3B,CAAd;;AAEA,aAAKF,QAAL,CAAcwD,SAAd,CAAwBjE,GAAG4D,QAAH,CAAY,KAAKwB,oBAAL,CAA0BT,OAA1B,CAAZ,EAAgD3E,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAAhD,CAAxB;AACA,aAAKvC,SAAL,CAAeuD,SAAf,CAAyB,KAAKmB,oBAAL,CAA0BP,QAA1B,CAAzB;AACH,KAhCqF;;AAkCtF;;;;AAIAO,0BAAsB,8BAAUD,MAAV,EAAkB;AACpC,eAAO,IAAInF,GAAGuF,OAAP,CAAeJ,MAAf,EAAuB,GAAvB,CAAP;AACH;AAxCqF,CAAhE,CAA1B;;AA2CA;;;;;;;AAOAnF,GAAGuG,oBAAH,CAAwBjD,MAAxB,GAAiC,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AACjD,WAAO,IAAIjB,GAAGuG,oBAAP,CAA4BvF,CAA5B,EAA+BC,KAA/B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;;AAUAjB,GAAGwG,cAAH,GAAoBxG,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,gCAAgC;AAC1EiG,YAAQ,IADkE;;AAG1E;;;;;;AAMA1F,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoByF,KAApB,EAA2B;AAC7B1G,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACA,aAAKsF,MAAL,GAAczG,GAAG0G,KAAH,EAAd;AACAzF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,EAAgCyF,KAAhC,CAAT;AACH,KAbyE;;AAe1E;;;AAGAxE,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;;AAEA,YAAIwF,IAAI,IAAI3G,GAAG4G,UAAP,CAAkB,KAAKH,MAAvB,CAAR;AACA,aAAKhG,QAAL,CAAcqB,OAAd,GAAwB,KAAxB;;AAEA,aAAK+E,QAAL,CAAcF,CAAd,EAAiB,CAAjB,EAAoB3G,GAAGC,UAAvB;AACA,YAAI6G,IAAI,KAAKC,aAAL,CAAmB/G,GAAGC,UAAtB,CAAR;;AAEA,YAAI+G,IAAIhH,GAAG4D,QAAH,CACJ5D,GAAGiH,MAAH,CAAU,KAAKtG,SAAL,GAAiB,CAA3B,CADI,EAEJX,GAAGmE,QAAH,CAAY,KAAKd,aAAjB,EAAgC,IAAhC,CAFI,EAGJrD,GAAGkH,OAAH,CAAW,KAAKvG,SAAL,GAAiB,CAA5B,CAHI,EAIJX,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAJI,CAAR;AAMA6D,UAAE7C,SAAF,CAAY+C,CAAZ;AACH,KAlCyE;;AAoC1E;;;AAGA1E,YAAQ,kBAAY;AAChBtC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BoB,MAA7B,CAAoCnB,IAApC,CAAyC,IAAzC;AACA,aAAKgG,gBAAL,CAAsBnH,GAAGC,UAAzB,EAAqC,KAArC;AACH,KA1CyE;;AA4C1E;;;;;;;AAOAoB,sBAAkB,0BAAUL,CAAV,EAAaC,KAAb,EAAoByF,KAApB,EAA2B;AACzCA,gBAAQA,SAAS1G,GAAG0G,KAAH,CAASU,KAA1B;AACA,YAAIpH,GAAGM,eAAH,CAAmBY,SAAnB,CAA6BG,gBAA7B,CAA8CF,IAA9C,CAAmD,IAAnD,EAAyDH,CAAzD,EAA4DC,KAA5D,CAAJ,EAAwE;AACpE,iBAAKwF,MAAL,CAAYY,CAAZ,GAAgBX,MAAMW,CAAtB;AACA,iBAAKZ,MAAL,CAAYa,CAAZ,GAAgBZ,MAAMY,CAAtB;AACA,iBAAKb,MAAL,CAAYc,CAAZ,GAAgBb,MAAMa,CAAtB;AACA,iBAAKd,MAAL,CAAYO,CAAZ,GAAgB,CAAhB;AACH;AACD,eAAO,IAAP;AACH;AA5DyE,CAA1D,CAApB;;AAgEA;;;;;;;;AAQAhH,GAAGwG,cAAH,CAAkBlD,MAAlB,GAA2B,UAAUtC,CAAV,EAAaC,KAAb,EAAoByF,KAApB,EAA2B;AAClD,WAAO,IAAI1G,GAAGwG,cAAP,CAAsBxF,CAAtB,EAAyBC,KAAzB,EAAgCyF,KAAhC,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASA1G,GAAGwH,mBAAH,GAAyBxH,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,qCAAqC;AACpF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KATmF;AAUpF;;;AAGAiB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;;AAEA;AACA;AACA,YAAIuF,QAAQ1G,GAAG0G,KAAH,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAZ;AACA,YAAIrC,UAAUrE,GAAGyB,QAAH,CAAY6C,UAAZ,EAAd;AACA,YAAImD,QAAQ,IAAIzH,GAAG4G,UAAP,CAAkBF,KAAlB,CAAZ;;AAEA;AACA,YAAIgB,YAAY,IAAI1H,GAAG2H,aAAP,CAAqBtD,QAAQE,KAA7B,EAAoCF,QAAQqB,MAA5C,CAAhB;;AAEAgC,kBAAUE,MAAV,CAAiB9E,OAAjB,GAA2B,GAA3B;AACA4E,kBAAUE,MAAV,CAAiB7E,OAAjB,GAA2B,GAA3B;AACA2E,kBAAU/E,IAAV,CAAe;AACXC,eAAGyB,QAAQE,KAAR,GAAgB,CADR;AAEX1B,eAAGwB,QAAQqB,MAAR,GAAiB,CAFT;AAGX5C,qBAAS,GAHE;AAIXC,qBAAS;AAJE,SAAf;;AAOA;AACA2E,kBAAUG,KAAV;AACA,aAAKpH,QAAL,CAAcuB,KAAd;AACA0F,kBAAUI,GAAV;;AAEA;AACA,YAAIC,aAAa,IAAI/H,GAAG2H,aAAP,CAAqBtD,QAAQE,KAA7B,EAAoCF,QAAQqB,MAA5C,CAAjB;AACAqC,mBAAW1C,WAAX,CAAuBhB,QAAQE,KAAR,GAAgB,CAAvC,EAA0CF,QAAQqB,MAAR,GAAiB,CAA3D;AACAqC,mBAAWH,MAAX,CAAkB9E,OAAlB,GAA4BiF,WAAWjF,OAAX,GAAqB,GAAjD;AACAiF,mBAAWH,MAAX,CAAkB7E,OAAlB,GAA4BgF,WAAWhF,OAAX,GAAqB,GAAjD;;AAEA;AACAgF,mBAAWF,KAAX;AACA,aAAKnH,SAAL,CAAesB,KAAf;AACA+F,mBAAWD,GAAX;;AAEAJ,kBAAUE,MAAV,CAAiBI,YAAjB,CAA8BhI,GAAGiI,GAAjC,EAAsCjI,GAAGiI,GAAzC,EArCiB,CAqC0E;AAC3FF,mBAAWH,MAAX,CAAkBI,YAAlB,CAA+BhI,GAAGkI,SAAlC,EAA6ClI,GAAGmI,mBAAhD,EAtCiB,CAsC0E;;AAE3F;AACAV,cAAMZ,QAAN,CAAea,SAAf;AACAD,cAAMZ,QAAN,CAAekB,UAAf;;AAEA;AACAL,kBAAUE,MAAV,CAAiBQ,OAAjB,GAA2B,GAA3B;AACAL,mBAAWH,MAAX,CAAkBQ,OAAlB,GAA4B,GAA5B;;AAEA;AACA,YAAIC,cAAcrI,GAAG4D,QAAH,CACd5D,GAAGsI,MAAH,CAAU,KAAK3H,SAAf,EAA0B,CAA1B,CADc,EACgBX,GAAGmE,QAAH,CAAY,KAAKd,aAAjB,EAAgC,IAAhC,CADhB,EAEdrD,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAFc,CAAlB;;AAKA;AACA8E,mBAAWH,MAAX,CAAkB3D,SAAlB,CAA4BoE,WAA5B;;AAEA;AACA,aAAKxB,QAAL,CAAcY,KAAd,EAAqB,CAArB,EAAwBzH,GAAGC,UAA3B;AACH,KAxEmF;;AA0EpF;;;AAGAqC,YAAQ,kBAAY;AAChB,aAAK6E,gBAAL,CAAsBnH,GAAGC,UAAzB,EAAqC,KAArC;AACAD,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BoB,MAA7B,CAAoCnB,IAApC,CAAyC,IAAzC;AACH;AAhFmF,CAA/D,CAAzB;;AAmFA;;;;;;;AAOAnB,GAAGwH,mBAAH,CAAuBlE,MAAvB,GAAgC,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAChD,WAAO,IAAIjB,GAAGwH,mBAAP,CAA2BxG,CAA3B,EAA8BC,KAA9B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGuI,sBAAH,GAA4BvI,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,wCAAwC;AAC1FgI,gBAAY,IAD8E;AAE1F;;;;;AAKAzH,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACA,aAAKqH,UAAL,GAAkB,IAAIxI,GAAGyI,QAAP,EAAlB;AACAxH,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAXyF;;AAa1Fc,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,KAAvB;AACH,KAfyF;;AAiB1F;;;AAGAsB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;AACA,aAAKqH,UAAL,CAAgBE,SAAhB,CAA0B,KAAKhI,SAA/B;AACA,aAAK8H,UAAL,CAAgBrG,iBAAhB,CAAkCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BF,OAA7D;;AAEA,YAAImC,UAAUrE,GAAGyB,QAAH,CAAY6C,UAAZ,EAAd;AACA,YAAIqE,SAAStE,QAAQE,KAAR,GAAgBF,QAAQqB,MAArC;AACA,YAAI9C,IAAI,IAAK,KAAK+F,MAAlB;AACA,YAAI9F,IAAI,EAAR;AACA,YAAI+F,OAAO5I,GAAG6I,YAAH,CAAgB,KAAKlI,SAArB,EAAgCX,GAAG8I,IAAH,CAAQlG,CAAR,EAAWC,CAAX,CAAhC,CAAX;AACA,YAAIsC,SAAS,KAAKC,oBAAL,CAA0BwD,IAA1B,CAAb;AACA,aAAKJ,UAAL,CAAgBvE,SAAhB,CAA0BjE,GAAG4D,QAAH,CAAYuB,MAAZ,EAAoBnF,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAApB,EAAoDjD,GAAG+I,QAAH,EAApD,CAA1B;AACH,KAhCyF;;AAkC1F/G,WAAO,iBAAY;AACf,aAAKvB,QAAL,CAAcuB,KAAd;AACA,aAAKwG,UAAL,CAAgBxG,KAAhB;AACH,KArCyF;;AAuC1F;;;;AAIAoD,0BAAsB,8BAAUD,MAAV,EAAkB;AACpC,eAAOA,MAAP;AACH;AA7CyF,CAAlE,CAA5B;;AAgDA;;;;;;;AAOAnF,GAAGuI,sBAAH,CAA0BjF,MAA1B,GAAmC,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AACnD,WAAO,IAAIjB,GAAGuI,sBAAP,CAA8BvH,CAA9B,EAAiCC,KAAjC,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGgJ,mBAAH,GAAyBhJ,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,qCAAqC;AACpFgI,gBAAY,IADwE;;AAGpFS,4BAAwB,kCAAY;AAChC,aAAKT,UAAL,CAAgBE,SAAhB,CAA0B,KAAKjI,QAA/B;AACH,KALmF;;AAOpF;;;;;AAKAM,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACA,aAAKqH,UAAL,GAAkB,IAAIxI,GAAGyI,QAAP,EAAlB;AACAxH,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAhBmF;AAiBpF;;;AAGAiB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;AACA;AACA,aAAKqH,UAAL,CAAgBE,SAAhB,CAA0B,KAAKhI,SAA/B;AACA,aAAK8H,UAAL,CAAgBrG,iBAAhB,CAAkCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BF,OAA7D;;AAEA,YAAIgH,QAAQ,KAAK/D,MAAL,EAAZ;AACA,YAAIgE,MAAMnJ,GAAG4D,QAAH,CACNsF,KADM,EACClJ,GAAGmE,QAAH,CAAY,KAAK8E,sBAAjB,EAAyC,IAAzC,CADD,EACiDC,MAAMhF,OAAN,EADjD,CAAV;;AAGA,aAAKsE,UAAL,CAAgBvE,SAAhB,CACIjE,GAAG4D,QAAH,CAAY,KAAKwB,oBAAL,CAA0B+D,GAA1B,CAAZ,EAA4CnJ,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAA5C,EAA4EjD,GAAG+I,QAAH,EAA5E,CADJ;AAGH,KAjCmF;;AAmCpFzG,YAAQ,kBAAY;AAChB,aAAKkG,UAAL,CAAgBE,SAAhB,CAA0B,IAA1B;AACA,aAAKF,UAAL,CAAgBrG,iBAAhB,CAAkCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BE,MAA7D;AACAtC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BoB,MAA7B,CAAoCnB,IAApC,CAAyC,IAAzC;AACH,KAvCmF;;AAyCpFa,WAAO,iBAAY;AACf,aAAKwG,UAAL,CAAgBxG,KAAhB;AACH,KA3CmF;;AA6CpF;;;;AAIAoD,0BAAsB,8BAAUD,MAAV,EAAkB;AACpC,eAAO,IAAInF,GAAGmG,SAAP,CAAiBhB,MAAjB,EAAyB,GAAzB,CAAP;AACH,KAnDmF;;AAqDpF;;;AAGAA,YAAQ,kBAAY;AAChB,eAAOnF,GAAGoJ,SAAH,CAAa,KAAKzI,SAAL,GAAiB,GAA9B,EAAmC,CAAnC,CAAP;AACH;AA1DmF,CAA/D,CAAzB;;AA6DA;;;;;;;AAOAX,GAAGgJ,mBAAH,CAAuB1F,MAAvB,GAAgC,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAChD,WAAO,IAAIjB,GAAGgJ,mBAAP,CAA2BhI,CAA3B,EAA8BC,KAA9B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGqJ,mBAAH,GAAyBrJ,GAAGgJ,mBAAH,CAAuBxI,MAAvB,EAA8B,qCAAqC;;AAExF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGgJ,mBAAH,CAAuB9H,SAAvB,CAAiCH,IAAjC,CAAsCI,IAAtC,CAA2C,IAA3C;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAVuF;AAWxF;;;AAGAkE,YAAQ,kBAAY;AAChB,eAAOnF,GAAGsJ,SAAH,CAAa,KAAK3I,SAAL,GAAiB,GAA9B,EAAmC,CAAnC,CAAP;AACH;AAhBuF,CAAnE,CAAzB;;AAmBA;;;;;;;AAOAX,GAAGqJ,mBAAH,CAAuB/F,MAAvB,GAAgC,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAChD,WAAO,IAAIjB,GAAGqJ,mBAAP,CAA2BrI,CAA3B,EAA8BC,KAA9B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAGuJ,gBAAH,GAAsBvJ,GAAGM,eAAH,CAAmBE,MAAnB,EAA0B,kCAAkC;AAC9EgI,gBAAY,IADkE;AAE9E;;;;;AAKAzH,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BH,IAA7B,CAAkCI,IAAlC,CAAuC,IAAvC;AACA,aAAKqH,UAAL,GAAkB,IAAIxI,GAAGyI,QAAP,EAAlB;AACAxH,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAX6E;AAY9Ec,iBAAa,uBAAY;AACrB,aAAKnB,eAAL,GAAuB,KAAvB;AACH,KAd6E;;AAgB9E;;;AAGAsB,aAAS,mBAAY;AACjBlC,WAAGM,eAAH,CAAmBY,SAAnB,CAA6BgB,OAA7B,CAAqCf,IAArC,CAA0C,IAA1C;;AAEA,aAAKqH,UAAL,CAAgBE,SAAhB,CAA0B,KAAKhI,SAA/B;AACA,aAAK8H,UAAL,CAAgBrG,iBAAhB,CAAkCnC,GAAGiC,IAAH,CAAQG,kBAAR,CAA2BF,OAA7D;;AAEA,YAAImC,UAAUrE,GAAGyB,QAAH,CAAY6C,UAAZ,EAAd;AACA,YAAIqE,SAAStE,QAAQE,KAAR,GAAgBF,QAAQqB,MAArC;AACA,YAAI9C,IAAI,IAAK,KAAK+F,MAAlB;AACA,YAAI9F,IAAI,EAAR;;AAEA,YAAIsC,SAAS,KAAKqE,cAAL,CAAoBxJ,GAAG8I,IAAH,CAAQlG,CAAR,EAAWC,CAAX,CAApB,CAAb;AACA,aAAK2F,UAAL,CAAgBvE,SAAhB,CACIjE,GAAG4D,QAAH,CAAY,KAAKwB,oBAAL,CAA0BD,MAA1B,CAAZ,EAA+CnF,GAAGmE,QAAH,CAAY,KAAKlB,MAAjB,EAAyB,IAAzB,CAA/C,EAA+EjD,GAAG+I,QAAH,EAA/E,CADJ;AAGH,KAlC6E;;AAoC9E/G,WAAO,iBAAY;AACf,aAAKvB,QAAL,CAAcuB,KAAd;AACA,aAAKwG,UAAL,CAAgBxG,KAAhB;AACH,KAvC6E;;AAyC9E;;;;AAIAoD,0BAAsB,8BAAUD,MAAV,EAAkB;AACpC,eAAOA,MAAP;AACH,KA/C6E;;AAiD9E;;;;AAIAqE,oBAAgB,wBAAUV,IAAV,EAAgB;AAC5B,eAAO9I,GAAGyJ,cAAH,CAAkB,KAAK9I,SAAvB,EAAkCmI,IAAlC,CAAP;AACH;AAvD6E,CAA5D,CAAtB;;AA0DA;;;;;;;AAOA9I,GAAGuJ,gBAAH,CAAoBjG,MAApB,GAA6B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC7C,WAAO,IAAIjB,GAAGuJ,gBAAP,CAAwBvI,CAAxB,EAA2BC,KAA3B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAG0J,gBAAH,GAAsB1J,GAAGuJ,gBAAH,CAAoB/I,MAApB,EAA2B,kCAAkC;AAC/E;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGuJ,gBAAH,CAAoBrI,SAApB,CAA8BH,IAA9B,CAAmCI,IAAnC,CAAwC,IAAxC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAT8E;;AAW/E;;;;AAIAuI,oBAAgB,wBAAUV,IAAV,EAAgB;AAC5B,eAAO9I,GAAG2J,cAAH,CAAkB,KAAKhJ,SAAvB,EAAkCmI,IAAlC,CAAP;AACH;AAjB8E,CAA7D,CAAtB;;AAoBA;;;;;;;AAOA9I,GAAG0J,gBAAH,CAAoBpG,MAApB,GAA6B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC7C,WAAO,IAAIjB,GAAG0J,gBAAP,CAAwB1I,CAAxB,EAA2BC,KAA3B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAG4J,gBAAH,GAAsB5J,GAAGuJ,gBAAH,CAAoB/I,MAApB,EAA2B,kCAAkC;;AAE/E;;;;;;AAMAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGuJ,gBAAH,CAAoBrI,SAApB,CAA8BH,IAA9B,CAAmCI,IAAnC,CAAwC,IAAxC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAX8E;;AAa/E;;;;AAIAuI,oBAAgB,wBAAUV,IAAV,EAAgB;AAC5B,eAAO,IAAI9I,GAAG6J,cAAP,CAAsB,KAAKlJ,SAA3B,EAAsCmI,IAAtC,CAAP;AACH;AAnB8E,CAA7D,CAAtB;;AAsBA;;;;;;;AAOA9I,GAAG4J,gBAAH,CAAoBtG,MAApB,GAA6B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC7C,WAAO,IAAIjB,GAAG4J,gBAAP,CAAwB5I,CAAxB,EAA2BC,KAA3B,CAAP;AACH,CAFD;;AAIA;;;;;;;;;AASAjB,GAAG8J,kBAAH,GAAwB9J,GAAGuJ,gBAAH,CAAoB/I,MAApB,EAA2B,oCAAoC;;AAEnF;;;;;AAKAO,UAAM,cAAUC,CAAV,EAAaC,KAAb,EAAoB;AACtBjB,WAAGuJ,gBAAH,CAAoBrI,SAApB,CAA8BH,IAA9B,CAAmCI,IAAnC,CAAwC,IAAxC;AACAF,iBAAS,KAAKI,gBAAL,CAAsBL,CAAtB,EAAyBC,KAAzB,CAAT;AACH,KAVkF;;AAYnF;;;;AAIAuI,oBAAgB,wBAAUV,IAAV,EAAgB;AAC5B,eAAO9I,GAAG+J,gBAAH,CAAoB,KAAKpJ,SAAzB,EAAoCmI,IAApC,CAAP;AACH;AAlBkF,CAA/D,CAAxB;;AAqBA;;;;;;;AAOA9I,GAAG8J,kBAAH,CAAsBxG,MAAtB,GAA+B,UAAUtC,CAAV,EAAaC,KAAb,EAAoB;AAC/C,WAAO,IAAIjB,GAAG8J,kBAAP,CAA0B9I,CAA1B,EAA6BC,KAA7B,CAAP;AACH,CAFD","file":"CCTransition.js","sourceRoot":"../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/transitions","sourcesContent":["/****************************************************************************\n Copyright (c) 2008-2010 Ricardo Quesada\n Copyright (c) 2011-2012 cocos2d-x.org\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n/**\n * A tag constant for identifying fade scenes\n * @constant\n * @type Number\n */\ncc.SCENE_FADE = 4208917214;\n\n/**\n * horizontal orientation Type where the Left is nearer\n * @constant\n * @type Number\n */\ncc.TRANSITION_ORIENTATION_LEFT_OVER = 0;\n/**\n * horizontal orientation type where the Right is nearer\n * @constant\n * @type Number\n */\ncc.TRANSITION_ORIENTATION_RIGHT_OVER = 1;\n/**\n * vertical orientation type where the Up is nearer\n * @constant\n * @type Number\n */\ncc.TRANSITION_ORIENTATION_UP_OVER = 0;\n/**\n * vertical orientation type where the Bottom is nearer\n * @constant\n * @type Number\n */\ncc.TRANSITION_ORIENTATION_DOWN_OVER = 1;\n\n/**\n * @class\n * @extends cc.Scene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene the scene to transit with\n * @example\n * var trans = new TransitionScene(time,scene);\n */\ncc.TransitionScene = cc.Scene.extend(/** @lends cc.TransitionScene# */{\n    _inScene: null,\n    _outScene: null,\n    _duration: null,\n    _isInSceneOnTop: false,\n    _isSendCleanupToScene: false,\n    _className: \"TransitionScene\",\n\n    /**\n     * creates a base transition with duration and incoming scene\n     * Constructor of cc.TransitionScene\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene the scene to transit with\n     */\n    ctor: function (t, scene) {\n        cc.Scene.prototype.ctor.call(this);\n        if (t !== undefined && scene !== undefined)\n            this.initWithDuration(t, scene);\n    },\n\n    //private\n    _setNewScene: function (dt) {\n        this.unschedule(this._setNewScene);\n        // Before replacing, save the \"send cleanup to scene\"\n        var director = cc.director;\n        this._isSendCleanupToScene = director.isSendCleanupToScene();\n        director.runScene(this._inScene);\n\n        // enable events while transitions\n        cc.eventManager.setEnabled(true);\n\n        // issue #267\n        this._outScene.visible = true;\n    },\n\n    //protected\n    _sceneOrder: function () {\n        this._isInSceneOnTop = true;\n    },\n\n    /**\n     * stuff gets drawn here\n     */\n    visit: function () {\n        if (this._isInSceneOnTop) {\n            this._outScene.visit();\n            this._inScene.visit();\n        } else {\n            this._inScene.visit();\n            this._outScene.visit();\n        }\n        cc.Node.prototype.visit.call(this);\n    },\n\n    /**\n     *  <p>\n     *     Event callback that is invoked every time when cc.TransitionScene enters the 'stage'.                                   <br/>\n     *     If the TransitionScene enters the 'stage' with a transition, this event is called when the transition starts.        <br/>\n     *     During onEnter you can't access a \"sister/brother\" node.                                                    <br/>\n     *     If you override onEnter, you must call its parent's onEnter function with this._super().\n     * </p>\n     */\n    onEnter: function () {\n        cc.Node.prototype.onEnter.call(this);\n\n        // disable events while transitions\n        cc.eventManager.setEnabled(false);\n\n        // outScene should not receive the onEnter callback\n        // only the onExitTransitionDidStart\n        this._outScene._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart);\n\n        this._inScene._performRecursive(cc.Node._stateCallbackType.onEnter);\n    },\n\n    /**\n     *  <p>\n     * callback that is called every time the cc.TransitionScene leaves the 'stage'.                                         <br/>\n     * If the cc.TransitionScene leaves the 'stage' with a transition, this callback is called when the transition finishes. <br/>\n     * During onExit you can't access a sibling node.                                                             <br/>\n     * If you override onExit, you shall call its parent's onExit with this._super().\n     * </p>\n     */\n    onExit: function () {\n        cc.Node.prototype.onExit.call(this);\n\n        // enable events while transitions\n        cc.eventManager.setEnabled(true);\n\n        this._outScene._performRecursive(cc.Node._stateCallbackType.onExit);\n\n        // _inScene should not receive the onEnter callback\n        // only the onEnterTransitionDidFinish\n        this._inScene._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish);\n    },\n\n    /**\n     * custom cleanup\n     */\n    cleanup: function () {\n        cc.Node.prototype.cleanup.call(this);\n\n        if (this._isSendCleanupToScene)\n            this._outScene._performRecursive(cc.Node._stateCallbackType.cleanup);\n    },\n\n    /**\n     * initializes a transition with duration and incoming scene\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene a scene to transit to\n     * @return {Boolean} return false if error\n     */\n    initWithDuration: function (t, scene) {\n        if (!scene)\n            throw new Error(\"cc.TransitionScene.initWithDuration(): Argument scene must be non-nil\");\n\n        if (this.init()) {\n            this._duration = t;\n            this.attr({\n                x: 0,\n                y: 0,\n                anchorX: 0,\n                anchorY: 0\n            });\n            // retain\n            this._inScene = scene;\n            this._outScene = cc.director.getRunningScene();\n            if (!this._outScene) {\n                this._outScene = new cc.Scene();\n                this._outScene.init();\n            }\n\n            if (this._inScene === this._outScene)\n                throw new Error(\"cc.TransitionScene.initWithDuration(): Incoming scene must be different from the outgoing scene\");\n\n            this._sceneOrder();\n            return true;\n        } else {\n            return false;\n        }\n    },\n\n    /**\n     * called after the transition finishes\n     */\n    finish: function () {\n        // clean up\n        this._inScene.attr({\n            visible: true,\n            x: 0,\n            y: 0,\n            scale: 1.0,\n            rotation: 0.0\n        });\n\n        this._outScene.attr({\n            visible: false,\n            x: 0,\n            y: 0,\n            scale: 1.0,\n            rotation: 0.0\n        });\n\n        //[self schedule:@selector(setNewScene:) interval:0];\n        this.schedule(this._setNewScene, 0);\n    },\n\n    /**\n     * set hide the out scene and show in scene\n     */\n    hideOutShowIn: function () {\n        this._inScene.visible = true;\n        this._outScene.visible = false;\n    }\n});\n/**\n * creates a base transition with duration and incoming scene\n * @deprecated since v3.0, please use new cc.TransitionScene(t,scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene the scene to transit with\n * @return {cc.TransitionScene|Null}\n */\ncc.TransitionScene.create = function (t, scene) {\n    return new cc.TransitionScene(t, scene);\n};\n\n/**\n * A cc.Transition that supports orientation like.<br/>\n * Possible orientation: LeftOver, RightOver, UpOver, DownOver<br/>\n * useful for when you want to make a transition happen between 2 orientations\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @param {cc.TRANSITION_ORIENTATION_LEFT_OVER|cc.TRANSITION_ORIENTATION_RIGHT_OVER|cc.TRANSITION_ORIENTATION_UP_OVER|cc.TRANSITION_ORIENTATION_DOWN_OVER} orientation\n * @example\n * var trans = new cc.TransitionSceneOriented(time,scene,orientation);\n */\ncc.TransitionSceneOriented = cc.TransitionScene.extend(/** @lends cc.TransitionSceneOriented# */{\n    _orientation: 0,\n\n    /**\n     * Constructor of TransitionSceneOriented\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     * @param {cc.TRANSITION_ORIENTATION_LEFT_OVER|cc.TRANSITION_ORIENTATION_RIGHT_OVER|cc.TRANSITION_ORIENTATION_UP_OVER|cc.TRANSITION_ORIENTATION_DOWN_OVER} orientation\n     */\n    ctor: function (t, scene, orientation) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        orientation != undefined && this.initWithDuration(t, scene, orientation);\n    },\n    /**\n     * initialize the transition\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     * @param {cc.TRANSITION_ORIENTATION_LEFT_OVER|cc.TRANSITION_ORIENTATION_RIGHT_OVER|cc.TRANSITION_ORIENTATION_UP_OVER|cc.TRANSITION_ORIENTATION_DOWN_OVER} orientation\n     * @return {Boolean}\n     */\n    initWithDuration: function (t, scene, orientation) {\n        if (cc.TransitionScene.prototype.initWithDuration.call(this, t, scene)) {\n            this._orientation = orientation;\n        }\n        return true;\n    }\n});\n\n/**\n * creates a base transition with duration and incoming scene\n * @deprecated since v3.0 ,please use new cc.TransitionSceneOriented(t, scene, orientation) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @param {cc.TRANSITION_ORIENTATION_LEFT_OVER|cc.TRANSITION_ORIENTATION_RIGHT_OVER|cc.TRANSITION_ORIENTATION_UP_OVER|cc.TRANSITION_ORIENTATION_DOWN_OVER} orientation\n * @return {cc.TransitionSceneOriented}\n */\ncc.TransitionSceneOriented.create = function (t, scene, orientation) {\n    return new cc.TransitionSceneOriented(t, scene, orientation);\n};\n\n/**\n *  Rotate and zoom out the outgoing scene, and then rotate and zoom in the incoming\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionRotoZoom(t, scene);\n */\ncc.TransitionRotoZoom = cc.TransitionScene.extend(/** @lends cc.TransitionRotoZoom# */{\n\n    /**\n     * Constructor of TransitionRotoZoom\n     * @function\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * Custom On Enter callback\n     * @override\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n\n        this._inScene.attr({\n            scale: 0.001,\n            anchorX: 0.5,\n            anchorY: 0.5\n        });\n        this._outScene.attr({\n            scale: 1.0,\n            anchorX: 0.5,\n            anchorY: 0.5\n        });\n\n        var rotoZoom = cc.sequence(\n            cc.spawn(cc.scaleBy(this._duration / 2, 0.001),\n                cc.rotateBy(this._duration / 2, 360 * 2)),\n            cc.delayTime(this._duration / 2));\n\n        this._outScene.runAction(rotoZoom);\n        this._inScene.runAction(\n            cc.sequence(rotoZoom.reverse(),\n                cc.callFunc(this.finish, this)));\n    }\n});\n\n/**\n * Creates a Transition rotation and zoom\n * @deprecated since v3.0,please use new cc.TransitionRotoZoom(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene the scene to work with\n * @return {cc.TransitionRotoZoom}\n */\ncc.TransitionRotoZoom.create = function (t, scene) {\n    return new cc.TransitionRotoZoom(t, scene);\n};\n\n/**\n * Zoom out and jump the outgoing scene, and then jump and zoom in the incoming\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionJumpZoom(t, scene);\n */\ncc.TransitionJumpZoom = cc.TransitionScene.extend(/** @lends cc.TransitionJumpZoom# */{\n    /**\n     * Constructor of TransitionJumpZoom\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * Custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n        var winSize = cc.director.getWinSize();\n\n        this._inScene.attr({\n            scale: 0.5,\n            x: winSize.width,\n            y: 0,\n            anchorX: 0.5,\n            anchorY: 0.5\n        });\n        this._outScene.anchorX = 0.5;\n        this._outScene.anchorY = 0.5;\n\n        var jump = cc.jumpBy(this._duration / 4, cc.p(-winSize.width, 0), winSize.width / 4, 2);\n        var scaleIn = cc.scaleTo(this._duration / 4, 1.0);\n        var scaleOut = cc.scaleTo(this._duration / 4, 0.5);\n\n        var jumpZoomOut = cc.sequence(scaleOut, jump);\n        var jumpZoomIn = cc.sequence(jump, scaleIn);\n\n        var delay = cc.delayTime(this._duration / 2);\n        this._outScene.runAction(jumpZoomOut);\n        this._inScene.runAction(cc.sequence(delay, jumpZoomIn, cc.callFunc(this.finish, this)));\n    }\n});\n\n/**\n * creates a scene transition that zooms then jump across the screen, the same for the incoming scene\n * @deprecated since v3.0,please use new cc.TransitionJumpZoom(t, scene);\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionJumpZoom}\n */\ncc.TransitionJumpZoom.create = function (t, scene) {\n    return new cc.TransitionJumpZoom(t, scene);\n};\n\n/**\n * Move in from to the left the incoming scene.\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionMoveInL(time,scene);\n */\ncc.TransitionMoveInL = cc.TransitionScene.extend(/** @lends cc.TransitionMoveInL# */{\n    /**\n     * Constructor of TransitionMoveInL\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * Custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n        this.initScenes();\n\n        var action = this.action();\n        this._inScene.runAction(\n            cc.sequence(this.easeActionWithAction(action), cc.callFunc(this.finish, this))\n        );\n    },\n\n    /**\n     * initializes the scenes\n     */\n    initScenes: function () {\n        this._inScene.setPosition(-cc.director.getWinSize().width, 0);\n    },\n\n    /**\n     * returns the action that will be performed\n     */\n    action: function () {\n        return cc.moveTo(this._duration, cc.p(0, 0));\n    },\n\n    /**\n     * creates an ease action from action\n     * @param {cc.ActionInterval} action\n     * @return {cc.EaseOut}\n     */\n    easeActionWithAction: function (action) {\n        return new cc.EaseOut(action, 2.0);\n    }\n});\n\n/**\n * creates an action that  Move in from to the left the incoming scene.\n * @deprecated since v3.0,please use new cc.TransitionMoveInL(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionMoveInL}\n */\ncc.TransitionMoveInL.create = function (t, scene) {\n    return new cc.TransitionMoveInL(t, scene);\n};\n\n/**\n * Move in from to the right the incoming scene.\n * @class\n * @extends cc.TransitionMoveInL\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionMoveInR(time,scene);\n */\ncc.TransitionMoveInR = cc.TransitionMoveInL.extend(/** @lends cc.TransitionMoveInR# */{\n    /**\n     * Constructor of TransitionMoveInR\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionMoveInL.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * Init function\n     */\n    initScenes: function () {\n        this._inScene.setPosition(cc.director.getWinSize().width, 0);\n    }\n});\n\n/**\n * create a scene transition that Move in from to the right the incoming scene.\n * @deprecated since v3.0,please use new cc.TransitionMoveInR(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionMoveInR}\n */\ncc.TransitionMoveInR.create = function (t, scene) {\n    return new cc.TransitionMoveInR(t, scene);\n};\n\n/**\n * Move in from to the top the incoming scene.\n * @class\n * @extends cc.TransitionMoveInL\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionMoveInT(time,scene);\n */\ncc.TransitionMoveInT = cc.TransitionMoveInL.extend(/** @lends cc.TransitionMoveInT# */{\n    /**\n     * Constructor of TransitionMoveInT\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionMoveInL.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * init function\n     */\n    initScenes: function () {\n        this._inScene.setPosition(0, cc.director.getWinSize().height);\n    }\n});\n\n/**\n * Move in from to the top the incoming scene.\n * @deprecated since v3.0,please use new cc.TransitionMoveInT(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionMoveInT}\n */\ncc.TransitionMoveInT.create = function (t, scene) {\n    return new cc.TransitionMoveInT(t, scene);\n};\n\n/**\n *  Move in from to the bottom the incoming scene.\n * @class\n * @extends cc.TransitionMoveInL\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionMoveInB(time,scene);\n */\ncc.TransitionMoveInB = cc.TransitionMoveInL.extend(/** @lends cc.TransitionMoveInB# */{\n    /**\n     * Constructor of TransitionMoveInB\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionMoveInL.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n\n    /**\n     * init function\n     */\n    initScenes: function () {\n        this._inScene.setPosition(0, -cc.director.getWinSize().height);\n    }\n});\n\n/**\n * create a scene transition that Move in from to the bottom the incoming scene.\n * @deprecated since v3.0,please use new cc.TransitionMoveInB(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionMoveInB}\n */\ncc.TransitionMoveInB.create = function (t, scene) {\n    return new cc.TransitionMoveInB(t, scene);\n};\n\n/**\n * The adjust factor is needed to prevent issue #442<br/>\n * One solution is to use DONT_RENDER_IN_SUBPIXELS images, but NO<br/>\n * The other issue is that in some transitions (and I don't know why)<br/>\n * the order should be reversed (In in top of Out or vice-versa).\n * @constant\n * @type Number\n */\ncc.ADJUST_FACTOR = 0.5;\n\n/**\n * a transition that a new scene is slided from left\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = cc.TransitionSlideInL(time,scene);\n */\ncc.TransitionSlideInL = cc.TransitionScene.extend(/** @lends cc.TransitionSlideInL# */{\n    /**\n     * Constructor of TransitionSlideInL\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    _sceneOrder: function () {\n        this._isInSceneOnTop = false;\n    },\n\n    /**\n     * custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n        this.initScenes();\n\n        var inA = this.action();\n        var outA = this.action();\n\n        var inAction = cc.sequence(this.easeActionWithAction(inA), cc.callFunc(this.finish, this));\n        var outAction = this.easeActionWithAction(outA);\n        this._inScene.runAction(inAction);\n        this._outScene.runAction(outAction);\n    },\n\n    /**\n     * initializes the scenes\n     */\n    initScenes: function () {\n        this._inScene.setPosition(-cc.director.getWinSize().width + cc.ADJUST_FACTOR, 0);\n    },\n    /**\n     * returns the action that will be performed by the incoming and outgoing scene\n     * @return {cc.MoveBy}\n     */\n    action: function () {\n        return cc.moveBy(this._duration, cc.p(cc.director.getWinSize().width - cc.ADJUST_FACTOR, 0));\n    },\n\n    /**\n     * @param {cc.ActionInterval} action\n     * @return {*}\n     */\n    easeActionWithAction: function (action) {\n        return new cc.EaseInOut(action, 2.0);\n    }\n});\n\n/**\n * create a transition that a new scene is slided from left\n * @deprecated since v3.0,please use new cc.TransitionSlideInL(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionSlideInL}\n */\ncc.TransitionSlideInL.create = function (t, scene) {\n    return new cc.TransitionSlideInL(t, scene);\n};\n\n/**\n *  Slide in the incoming scene from the right border.\n * @class\n * @extends cc.TransitionSlideInL\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionSlideInR(time,scene);\n */\ncc.TransitionSlideInR = cc.TransitionSlideInL.extend(/** @lends cc.TransitionSlideInR# */{\n    /**\n     * Constructor of TransitionSlideInR\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionSlideInL.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    _sceneOrder: function () {\n        this._isInSceneOnTop = true;\n    },\n    /**\n     * initializes the scenes\n     */\n    initScenes: function () {\n        this._inScene.setPosition(cc.director.getWinSize().width - cc.ADJUST_FACTOR, 0);\n    },\n    /**\n     *  returns the action that will be performed by the incoming and outgoing scene\n     * @return {cc.MoveBy}\n     */\n    action: function () {\n        return cc.moveBy(this._duration, cc.p(-(cc.director.getWinSize().width - cc.ADJUST_FACTOR), 0));\n    }\n});\n\n/**\n * create Slide in the incoming scene from the right border.\n * @deprecated since v3.0,please use new cc.TransitionSlideInR(t, scene) instead\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionSlideInR}\n */\ncc.TransitionSlideInR.create = function (t, scene) {\n    return new cc.TransitionSlideInR(t, scene);\n};\n\n/**\n * Slide in the incoming scene from the bottom border.\n * @class\n * @extends cc.TransitionSlideInL\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionSlideInB(time,scene);\n */\ncc.TransitionSlideInB = cc.TransitionSlideInL.extend(/** @lends cc.TransitionSlideInB# */{\n    /**\n     * Constructor of TransitionSlideInB\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionSlideInL.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    _sceneOrder: function () {\n        this._isInSceneOnTop = false;\n    },\n\n    /**\n     * initializes the scenes\n     */\n    initScenes: function () {\n        this._inScene.setPosition(0, -(cc.director.getWinSize().height - cc.ADJUST_FACTOR));\n    },\n\n    /**\n     * returns the action that will be performed by the incoming and outgoing scene\n     * @return {cc.MoveBy}\n     */\n    action: function () {\n        return cc.moveBy(this._duration, cc.p(0, cc.director.getWinSize().height - cc.ADJUST_FACTOR));\n    }\n});\n\n/**\n * create a Slide in the incoming scene from the bottom border.\n * @deprecated since v3.0,please use new cc.TransitionSlideInB(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionSlideInB}\n */\ncc.TransitionSlideInB.create = function (t, scene) {\n    return new cc.TransitionSlideInB(t, scene);\n};\n\n/**\n *  Slide in the incoming scene from the top border.\n *  @class\n *  @extends cc.TransitionSlideInL\n *  @param {Number} t time in seconds\n *  @param {cc.Scene} scene\n *  @example\n *  var trans = new cc.TransitionSlideInT(time,scene);\n */\ncc.TransitionSlideInT = cc.TransitionSlideInL.extend(/** @lends cc.TransitionSlideInT# */{\n    /**\n     * Constructor of TransitionSlideInT\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionSlideInL.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    _sceneOrder: function () {\n        this._isInSceneOnTop = true;\n    },\n\n    /**\n     * initializes the scenes\n     */\n    initScenes: function () {\n        this._inScene.setPosition(0, cc.director.getWinSize().height - cc.ADJUST_FACTOR);\n    },\n\n    /**\n     * returns the action that will be performed by the incoming and outgoing scene\n     * @return {cc.MoveBy}\n     */\n    action: function () {\n        return cc.moveBy(this._duration, cc.p(0, -(cc.director.getWinSize().height - cc.ADJUST_FACTOR)));\n    }\n});\n\n/**\n * create a Slide in the incoming scene from the top border.\n * @deprecated since v3.0,please use new cc.TransitionSlideInT(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionSlideInT}\n */\ncc.TransitionSlideInT.create = function (t, scene) {\n    return new cc.TransitionSlideInT(t, scene);\n};\n\n/**\n * Shrink the outgoing scene while grow the incoming scene\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionShrinkGrow(time,scene);\n */\ncc.TransitionShrinkGrow = cc.TransitionScene.extend(/** @lends cc.TransitionShrinkGrow# */{\n    /**\n     * Constructor of TransitionShrinkGrow\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * Custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n\n        this._inScene.attr({\n            scale: 0.001,\n            anchorX: 2 / 3.0,\n            anchorY: 0.5\n        });\n        this._outScene.attr({\n            scale: 1.0,\n            anchorX: 1 / 3.0,\n            anchorY: 0.5\n        });\n\n        var scaleOut = cc.scaleTo(this._duration, 0.01);\n        var scaleIn = cc.scaleTo(this._duration, 1.0);\n\n        this._inScene.runAction(cc.sequence(this.easeActionWithAction(scaleIn), cc.callFunc(this.finish, this)));\n        this._outScene.runAction(this.easeActionWithAction(scaleOut));\n    },\n\n    /**\n     * @param action\n     * @return {cc.EaseOut}\n     */\n    easeActionWithAction: function (action) {\n        return new cc.EaseOut(action, 2.0);\n    }\n});\n\n/**\n * Shrink the outgoing scene while grow the incoming scene\n * @deprecated since v3.0,please use new cc.TransitionShrinkGrow(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionShrinkGrow}\n */\ncc.TransitionShrinkGrow.create = function (t, scene) {\n    return new cc.TransitionShrinkGrow(t, scene);\n};\n\n/**\n * Fade out the outgoing scene and then fade in the incoming scene.\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @param {cc.TRANSITION_ORIENTATION_LEFT_OVER|cc.TRANSITION_ORIENTATION_RIGHT_OVER|cc.TRANSITION_ORIENTATION_UP_OVER|cc.TRANSITION_ORIENTATION_DOWN_OVER} o\n * @example\n * var trans = new cc.TransitionFade(time,scene,color)\n */\ncc.TransitionFade = cc.TransitionScene.extend(/** @lends cc.TransitionFade# */{\n    _color: null,\n\n    /**\n     * Constructor of TransitionFade\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     * @param {cc.TRANSITION_ORIENTATION_LEFT_OVER|cc.TRANSITION_ORIENTATION_RIGHT_OVER|cc.TRANSITION_ORIENTATION_UP_OVER|cc.TRANSITION_ORIENTATION_DOWN_OVER} o\n     */\n    ctor: function (t, scene, color) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        this._color = cc.color();\n        scene && this.initWithDuration(t, scene, color);\n    },\n\n    /**\n     * custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n\n        var l = new cc.LayerColor(this._color);\n        this._inScene.visible = false;\n\n        this.addChild(l, 2, cc.SCENE_FADE);\n        var f = this.getChildByTag(cc.SCENE_FADE);\n\n        var a = cc.sequence(\n            cc.fadeIn(this._duration / 2),\n            cc.callFunc(this.hideOutShowIn, this),\n            cc.fadeOut(this._duration / 2),\n            cc.callFunc(this.finish, this)\n        );\n        f.runAction(a);\n    },\n\n    /**\n     * custom on exit\n     */\n    onExit: function () {\n        cc.TransitionScene.prototype.onExit.call(this);\n        this.removeChildByTag(cc.SCENE_FADE, false);\n    },\n\n    /**\n     * initializes the transition with a duration and with an RGB color\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     * @param {cc.Color} color\n     * @return {Boolean}\n     */\n    initWithDuration: function (t, scene, color) {\n        color = color || cc.color.BLACK;\n        if (cc.TransitionScene.prototype.initWithDuration.call(this, t, scene)) {\n            this._color.r = color.r;\n            this._color.g = color.g;\n            this._color.b = color.b;\n            this._color.a = 0;\n        }\n        return true;\n    }\n});\n\n\n/**\n * Fade out the outgoing scene and then fade in the incoming scene.\n * @deprecated since v3.0,please use new cc.TransitionFade(time,scene,color) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @param {cc.Color} color\n * @return {cc.TransitionFade}\n */\ncc.TransitionFade.create = function (t, scene, color) {\n    return new cc.TransitionFade(t, scene, color);\n};\n\n/**\n * Cross fades two scenes using the cc.RenderTexture object.\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionCrossFade(time,scene);\n */\ncc.TransitionCrossFade = cc.TransitionScene.extend(/** @lends cc.TransitionCrossFade# */{\n    /**\n     * Constructor of TransitionCrossFade\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n\n        // create a transparent color layer\n        // in which we are going to add our rendertextures\n        var color = cc.color(0, 0, 0, 0);\n        var winSize = cc.director.getWinSize();\n        var layer = new cc.LayerColor(color);\n\n        // create the first render texture for inScene\n        var inTexture = new cc.RenderTexture(winSize.width, winSize.height);\n\n        inTexture.sprite.anchorX = 0.5;\n        inTexture.sprite.anchorY = 0.5;\n        inTexture.attr({\n            x: winSize.width / 2,\n            y: winSize.height / 2,\n            anchorX: 0.5,\n            anchorY: 0.5\n        });\n\n        // render inScene to its texturebuffer\n        inTexture.begin();\n        this._inScene.visit();\n        inTexture.end();\n\n        // create the second render texture for outScene\n        var outTexture = new cc.RenderTexture(winSize.width, winSize.height);\n        outTexture.setPosition(winSize.width / 2, winSize.height / 2);\n        outTexture.sprite.anchorX = outTexture.anchorX = 0.5;\n        outTexture.sprite.anchorY = outTexture.anchorY = 0.5;\n\n        // render outScene to its texturebuffer\n        outTexture.begin();\n        this._outScene.visit();\n        outTexture.end();\n\n        inTexture.sprite.setBlendFunc(cc.ONE, cc.ONE);                                             // inScene will lay on background and will not be used with alpha\n        outTexture.sprite.setBlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA);                      // we are going to blend outScene via alpha\n\n        // add render textures to the layer\n        layer.addChild(inTexture);\n        layer.addChild(outTexture);\n\n        // initial opacity:\n        inTexture.sprite.opacity = 255;\n        outTexture.sprite.opacity = 255;\n\n        // create the blend action\n        var layerAction = cc.sequence(\n            cc.fadeTo(this._duration, 0), cc.callFunc(this.hideOutShowIn, this),\n            cc.callFunc(this.finish, this)\n        );\n\n        // run the blend action\n        outTexture.sprite.runAction(layerAction);\n\n        // add the layer (which contains our two rendertextures) to the scene\n        this.addChild(layer, 2, cc.SCENE_FADE);\n    },\n\n    /**\n     * custom on exit\n     */\n    onExit: function () {\n        this.removeChildByTag(cc.SCENE_FADE, false);\n        cc.TransitionScene.prototype.onExit.call(this);\n    },\n});\n\n/**\n * Cross fades two scenes using the cc.RenderTexture object.\n * @deprecated since v3.0,please use new cc.TransitionCrossFade(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionCrossFade}\n */\ncc.TransitionCrossFade.create = function (t, scene) {\n    return new cc.TransitionCrossFade(t, scene);\n};\n\n/**\n *  Turn off the tiles of the outgoing scene in random order\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionTurnOffTiles(time,scene);\n */\ncc.TransitionTurnOffTiles = cc.TransitionScene.extend(/** @lends cc.TransitionTurnOffTiles# */{\n    _gridProxy: null,\n    /**\n     * Constructor of TransitionCrossFade\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        this._gridProxy = new cc.NodeGrid();\n        scene && this.initWithDuration(t, scene);\n    },\n\n    _sceneOrder: function () {\n        this._isInSceneOnTop = false;\n    },\n\n    /**\n     * custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n        this._gridProxy.setTarget(this._outScene);\n        this._gridProxy._performRecursive(cc.Node._stateCallbackType.onEnter);\n\n        var winSize = cc.director.getWinSize();\n        var aspect = winSize.width / winSize.height;\n        var x = 0 | (12 * aspect);\n        var y = 12;\n        var toff = cc.turnOffTiles(this._duration, cc.size(x, y));\n        var action = this.easeActionWithAction(toff);\n        this._gridProxy.runAction(cc.sequence(action, cc.callFunc(this.finish, this), cc.stopGrid()));\n    },\n\n    visit: function () {\n        this._inScene.visit();\n        this._gridProxy.visit();\n    },\n\n    /**\n     * @param {cc.ActionInterval} action\n     * @return {cc.ActionInterval}\n     */\n    easeActionWithAction: function (action) {\n        return action;\n    }\n});\n\n/**\n *  Turn off the tiles of the outgoing scene in random order\n * @deprecated since v3.0,please use new cc.TransitionTurnOffTiles(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionTurnOffTiles}\n */\ncc.TransitionTurnOffTiles.create = function (t, scene) {\n    return new cc.TransitionTurnOffTiles(t, scene);\n};\n\n/**\n *  The odd columns goes upwards while the even columns goes downwards.\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionSplitCols(time,scene);\n */\ncc.TransitionSplitCols = cc.TransitionScene.extend(/** @lends cc.TransitionSplitCols# */{\n    _gridProxy: null,\n\n    _switchTargetToInscene: function () {\n        this._gridProxy.setTarget(this._inScene);\n    },\n\n    /**\n     * Constructor of TransitionSplitCols\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        this._gridProxy = new cc.NodeGrid();\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n        //this._inScene.visible = false;\n        this._gridProxy.setTarget(this._outScene);\n        this._gridProxy._performRecursive(cc.Node._stateCallbackType.onEnter);\n\n        var split = this.action();\n        var seq = cc.sequence(\n            split, cc.callFunc(this._switchTargetToInscene, this), split.reverse());\n\n        this._gridProxy.runAction(\n            cc.sequence(this.easeActionWithAction(seq), cc.callFunc(this.finish, this), cc.stopGrid())\n        );\n    },\n\n    onExit: function () {\n        this._gridProxy.setTarget(null);\n        this._gridProxy._performRecursive(cc.Node._stateCallbackType.onExit);\n        cc.TransitionScene.prototype.onExit.call(this);\n    },\n\n    visit: function () {\n        this._gridProxy.visit();\n    },\n\n    /**\n     * @param {cc.ActionInterval} action\n     * @return {cc.EaseInOut}\n     */\n    easeActionWithAction: function (action) {\n        return new cc.EaseInOut(action, 3.0);\n    },\n\n    /**\n     * @return {*}\n     */\n    action: function () {\n        return cc.splitCols(this._duration / 2.0, 3);\n    }\n});\n\n/**\n * The odd columns goes upwards while the even columns goes downwards.\n * @deprecated since v3.0,please use new cc.TransitionSplitCols(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionSplitCols}\n */\ncc.TransitionSplitCols.create = function (t, scene) {\n    return new cc.TransitionSplitCols(t, scene);\n};\n\n/**\n *  The odd rows goes to the left while the even rows goes to the right.\n * @class\n * @extends cc.TransitionSplitCols\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionSplitRows(time,scene);\n */\ncc.TransitionSplitRows = cc.TransitionSplitCols.extend(/** @lends cc.TransitionSplitRows# */{\n\n    /**\n     * Constructor of TransitionSplitRows\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionSplitCols.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n    /**\n     * @return {*}\n     */\n    action: function () {\n        return cc.splitRows(this._duration / 2.0, 3);\n    }\n});\n\n/**\n * The odd rows goes to the left while the even rows goes to the right.\n * @deprecated since v3.0,please use new cc.TransitionSplitRows(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionSplitRows}\n */\ncc.TransitionSplitRows.create = function (t, scene) {\n    return new cc.TransitionSplitRows(t, scene);\n};\n\n/**\n *  Fade the tiles of the outgoing scene from the left-bottom corner the to top-right corner.\n * @class\n * @extends cc.TransitionScene\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionFadeTR(time,scene);\n */\ncc.TransitionFadeTR = cc.TransitionScene.extend(/** @lends cc.TransitionFadeTR# */{\n    _gridProxy: null,\n    /**\n     * Constructor of TransitionFadeTR\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionScene.prototype.ctor.call(this);\n        this._gridProxy = new cc.NodeGrid();\n        scene && this.initWithDuration(t, scene);\n    },\n    _sceneOrder: function () {\n        this._isInSceneOnTop = false;\n    },\n\n    /**\n     * Custom on enter\n     */\n    onEnter: function () {\n        cc.TransitionScene.prototype.onEnter.call(this);\n\n        this._gridProxy.setTarget(this._outScene);\n        this._gridProxy._performRecursive(cc.Node._stateCallbackType.onEnter);\n\n        var winSize = cc.director.getWinSize();\n        var aspect = winSize.width / winSize.height;\n        var x = 0 | (12 * aspect);\n        var y = 12;\n\n        var action = this.actionWithSize(cc.size(x, y));\n        this._gridProxy.runAction(\n            cc.sequence(this.easeActionWithAction(action), cc.callFunc(this.finish, this), cc.stopGrid())\n        );\n    },\n\n    visit: function () {\n        this._inScene.visit();\n        this._gridProxy.visit();\n    },\n\n    /**\n     * @param {cc.ActionInterval} action\n     * @return {cc.ActionInterval}\n     */\n    easeActionWithAction: function (action) {\n        return action;\n    },\n\n    /**\n     * @param {cc.Size} size\n     * @return {*}\n     */\n    actionWithSize: function (size) {\n        return cc.fadeOutTRTiles(this._duration, size);\n    }\n});\n\n/**\n *  Fade the tiles of the outgoing scene from the left-bottom corner the to top-right corner.\n * @deprecated since v3.0 please use new cc.TransitionFadeTR(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionFadeTR}\n */\ncc.TransitionFadeTR.create = function (t, scene) {\n    return new cc.TransitionFadeTR(t, scene);\n};\n\n/**\n *  Fade the tiles of the outgoing scene from the top-right corner to the bottom-left corner.\n * @class\n * @extends cc.TransitionFadeTR\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionFadeBL(time,scene)\n */\ncc.TransitionFadeBL = cc.TransitionFadeTR.extend(/** @lends cc.TransitionFadeBL# */{\n    /**\n     * Constructor of TransitionFadeBL\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionFadeTR.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n\n    /**\n     * @param {cc.Size} size\n     * @return {*}\n     */\n    actionWithSize: function (size) {\n        return cc.fadeOutBLTiles(this._duration, size);\n    }\n});\n\n/**\n * Fade the tiles of the outgoing scene from the top-right corner to the bottom-left corner.\n * @deprecated since v3.0,please use new cc.TransitionFadeBL(t, scene);\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionFadeBL}\n */\ncc.TransitionFadeBL.create = function (t, scene) {\n    return new cc.TransitionFadeBL(t, scene);\n};\n\n/**\n * Fade the tiles of the outgoing scene from the top-right corner to the bottom-left corner.\n * @class\n * @extends cc.TransitionFadeTR\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionFadeUp(time,scene);\n */\ncc.TransitionFadeUp = cc.TransitionFadeTR.extend(/** @lends cc.TransitionFadeUp# */{\n\n    /**\n     * Constructor of TransitionFadeUp\n     * @function\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionFadeTR.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n\n    /**\n     * @param {cc.Size} size\n     * @return {cc.FadeOutUpTiles}\n     */\n    actionWithSize: function (size) {\n        return new cc.FadeOutUpTiles(this._duration, size);\n    }\n});\n\n/**\n * Fade the tiles of the outgoing scene from the top-right corner to the bottom-left corner.\n * @deprecated since v3.0,please use new cc.TransitionFadeUp(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionFadeUp}\n */\ncc.TransitionFadeUp.create = function (t, scene) {\n    return new cc.TransitionFadeUp(t, scene);\n};\n\n/**\n * Fade the tiles of the outgoing scene from the top to the bottom.\n * @class\n * @extends cc.TransitionFadeTR\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @example\n * var trans = new cc.TransitionFadeDown(time,scene);\n */\ncc.TransitionFadeDown = cc.TransitionFadeTR.extend(/** @lends cc.TransitionFadeDown# */{\n\n    /**\n     * Constructor of TransitionFadeDown\n     * @param {Number} t time in seconds\n     * @param {cc.Scene} scene\n     */\n    ctor: function (t, scene) {\n        cc.TransitionFadeTR.prototype.ctor.call(this);\n        scene && this.initWithDuration(t, scene);\n    },\n\n    /**\n     * @param {cc.Size} size\n     * @return {*}\n     */\n    actionWithSize: function (size) {\n        return cc.fadeOutDownTiles(this._duration, size);\n    }\n});\n\n/**\n * Fade the tiles of the outgoing scene from the top to the bottom.\n * @deprecated since v3.0,please use new cc.TransitionFadeDown(t, scene) instead.\n * @param {Number} t time in seconds\n * @param {cc.Scene} scene\n * @return {cc.TransitionFadeDown}\n */\ncc.TransitionFadeDown.create = function (t, scene) {\n    return new cc.TransitionFadeDown(t, scene);\n};\n"]}