{"version":3,"sources":["../../../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/studio/parsers/assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/studio/parsers/timelineParser-2.x.js"],"names":["load","baseParser","DEBUG","Parser","extend","parse","file","json","path","resourcePath","undefined","_dirname","pretreatment","node","parseNode","getNodeJson","deferred","content","getClass","parser","getParam","value","dValue","generalAttributes","setName","position","setPosition","cc","p","scale","setScaleX","setScaleY","rotationSkewX","setRotationX","rotationSkewY","setRotationY","anchor","setAnchorPoint","setLocalZOrder","visible","setVisible","size","setContentSize","setOpacity","setTag","actionTag","extensionData","ccs","ComExtensionData","customProperty","setCustomProperty","setActionTag","getComponent","removeComponent","addComponent","setCascadeColorEnabled","setCascadeOpacityEnabled","setLayoutComponent","parseChild","children","i","length","child","ccui","PageView","Layout","addPage","ListView","Widget","pushBackCustomItem","getPositionType","POSITION_PERCENT","getPositionPercent","getAnchorPoint","setPositionPercent","x","y","addChild","skyBoxBrushInstance","getSkyboxRes","key","hasOwnProperty","initSingleNode","Node","color","setColor","getColor","leftFileData","rightFileData","upFileData","downFileData","forwardFileData","backFileData","fileUtil","jsb","fileUtils","isFileExist","CameraBackgroundSkyBoxBrush","create","initSprite","Sprite","loadTexture","type","setTexture","spriteFrame","spriteFrameCache","getSpriteFrame","setSpriteFrame","blendData","blendFunc","BlendFunc","ALPHA_PREMULTIPLIED","src","dst","setBlendFunc","setFlippedX","setFlippedY","initParticle","self","ParticleSystem","setPositionType","TYPE_GROUPED","sys","isNative","setDrawMode","TEXTURE_MODE","widgetAttributes","widget","enableContent","setUnifySizeEnabled","ignoreContentAdaptWithSize","name","flipX","flipY","zOrder","alpha","touchEnabled","setTouchEnabled","callBackType","setCallbackType","callBackName","setCallbackName","scaleX","scaleY","anchorPoint","bindCallback","callBack","e","addClickEventListener","addTouchEventListener","addCCSEventListener","layoutComponent","LayoutComponent","bindLayoutComponent","positionXPercentEnabled","positionYPercentEnabled","positionXPercent","positionYPercent","PrePosition","sizeXPercentEnable","sizeYPercentEnable","sizeXPercent","sizeYPercent","PreSize","stretchHorizontalEnabled","stretchVerticalEnabled","horizontalEdge","verticalEdge","leftMargin","rightMargin","topMargin","bottomMargin","setPositionPercentXEnabled","setPositionPercentYEnabled","setPositionPercentX","setPositionPercentY","setPercentWidthEnabled","setPercentHeightEnabled","setPercentWidth","setPercentHeight","setStretchWidthEnabled","setStretchHeightEnabled","horizontalEdgeType","NONE","LEFT","RIGHT","CENTER","setHorizontalEdge","verticalEdgeType","TOP","BOTTOM","setVerticalEdge","setTopMargin","setBottomMargin","setLeftMargin","setRightMargin","setLayoutBackground","layout","single","first","end","getBackGroundColorType","setBackGroundColor","setLayoutBackgroundVector","vector","setBackGroundColorVector","initPanel","clipEnabled","setClippingEnabled","colorType","setBackGroundColorType","bgColorOpacity","setBackGroundColorOpacity","backGroundScale9Enabled","setBackGroundImageScale9Enabled","opacity","setBackGroundImage","scale9OriginX","scale9OriginY","scale9Width","scale9Height","setBackGroundImageCapInsets","rect","isIgnoreContentAdaptWithSize","initText","Text","touchScaleEnabled","setTouchScaleChangeEnabled","text","setString","fontSize","setFontSize","fontName","setFontName","areaWidth","areaHeight","setTextAreaSize","h_alignment","setTextHorizontalAlignment","v_alignment","setTextVerticalAlignment","fontResource","join","loader","resPath","match","enableOutline","enableShadow","isCustomSize","setTextColor","initButton","Button","loadTextureNormal","loadTexturePressed","loadTextureDisabled","scale9Enabled","setScale9Enabled","setTitleText","setTitleFontSize","setTitleFontName","textColor","setTitleColor","displaystate","setBright","setEnabled","label","getTitleRenderer","enableStroke","capInsets","setCapInsets","initCheckBox","CheckBox","dataList","handle","loadTextureBackGround","loadTextureBackGroundSelected","loadTextureFrontCross","loadTextureBackGroundDisabled","loadTextureFrontCrossDisabled","forEach","item","call","selectedState","setSelected","initScrollView","ScrollView","innerNodeSize","innerSize","setInnerContainerSize","direction","setDirection","bounceEnabled","setBounceEnabled","initImageView","ImageView","initLoadingBar","LoadingBar","percent","setPercent","initSlider","Slider","textureList","loadBarTexture","loadSlidBallTextureNormal","loadSlidBallTexturePressed","loadSlidBallTextureDisabled","loadProgressBarTexture","initPageView","initListView","directionType","DIR_HORIZONTAL","verticalType","horizontalType","setGravity","GRAVITY_BOTTOM","GRAVITY_CENTER_VERTICAL","GRAVITY_TOP","DIR_VERTICAL","GRAVITY_LEFT","GRAVITY_RIGHT","GRAVITY_CENTER_HORIZONTAL","itemMargin","setItemsMargin","initTextAtlas","TextAtlas","stringValue","itemWidth","itemHeight","startCharMap","setProperty","initTextBMFont","TextBMFont","setFntFile","initTextField","TextField","passwordEnabled","setPasswordEnabled","passwordStyleText","setPasswordStyleText","placeHolder","setPlaceHolder","maxLengthEnabled","setMaxLengthEnabled","maxLength","setMaxLength","getVirtualRenderer","setLineBreakWithoutSpace","initSimpleAudio","ComAudio","loop","setLoop","setFile","initGameMap","TMXTiledMap","initProjectNode","projectFile","getRes","obj","action","tag","InnerActionSpeed","setTimeSpeed","runAction","gotoFrameAndPause","log","getFileName","arr","initArmature","Armature","isLoop","isAutoPlay","currentAnimationName","plists","pngs","armJson","plist","index","addSpriteFrames","armatureDataManager","addArmatureFileInfo","init","getAnimation","play","gotoAndPause","initBoneNode","BoneNode","setDebugDrawLength","initSkeletonNode","SkeletonNode","loadedPlist","cb","r","g","b","a","get3DVector","defValue","z","isNaN","vec3","math","general3DAttributes","pos","setPosition3D","rotation","setRotation3D","setScaleZ","camMask","setCameraMask","initNode3D","initCamera","s","winSize","fov","nearClip","farClip","Camera","createPerspective","width","height","camMode","cameraFlagData","cameraFlag","CameraFlag","USER1","USER2","USER3","USER4","USER5","USER6","USER7","USER8","DEFAULT","setCameraFlag","innerBrush","setBackgroundBrush","initSprite3D","resFile","Sprite3D","col","setCullFaceEnabled","setCullFace","gl","FRONT","lightFlagStr","lightFlag","LightFlag","LIGHT0","LIGHT1","LIGHT2","LIGHT3","LIGHT4","LIGHT5","LIGHT6","LIGHT7","LIGHT8","LIGHT9","LIGHT10","LIGHT11","LIGHT12","setLightMask","autoAction","animation","Animation3D","animate","Animate3D","RepeatForever","initParticle3D","PUParticleSystem3D","startParticleSystem","initLight3D","light","DirectionLight","flag","intensity","range","outerAngle","enabled","PointLight","SpotLight","degreesToRadians","AmbientLight","setIntensity","setLightFlag","register","registerParser","options","__parserName","_load","_parser"],"mappings":"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","file":"timelineParser-2.x.js","sourceRoot":"../../../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/studio/parsers","sourcesContent":["/****************************************************************************\n Copyright (c) 2013-2016 Chukong Technologies Inc.\n Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n(function(load, baseParser){\n\n    var DEBUG = false;\n\n    var Parser = baseParser.extend({\n\n        parse: function(file, json, path){\n            var resourcePath;\n            if(path !== undefined)\n                resourcePath = path;\n            else\n                resourcePath = this._dirname(file);\n            this.pretreatment(json, resourcePath, file);\n            var node = this.parseNode(this.getNodeJson(json), resourcePath);\n            this.deferred(json, resourcePath, node, file);\n            return node;\n        },\n\n        getNodeJson: function(json){\n            var content = json[\"Content\"];\n            if(content[\"ObjectData\"])\n                return content[\"ObjectData\"];\n\n            return content[\"Content\"][\"ObjectData\"];\n        },\n\n        getClass: function(json){\n            return json[\"ctype\"];\n        }\n\n    });\n    var parser = new Parser();\n\n\n    var getParam = function(value, dValue){\n        if(value === undefined)\n            return dValue;\n        else\n            return value;\n    };\n\n    //////////\n    // NODE //\n    //////////\n\n    parser.generalAttributes = function(node, json){\n        if(json[\"Name\"] != null)\n            node.setName(json[\"Name\"]);\n\n        var position = json[\"Position\"];\n        if(position != null && (position[\"X\"] != null || position[\"Y\"] != null))\n            node.setPosition(cc.p(position[\"X\"]||0, position[\"Y\"]||0));\n\n        var scale = json[\"Scale\"];\n        if(scale != null){\n            if(scale[\"ScaleX\"] != null)\n                node.setScaleX(scale[\"ScaleX\"]);\n            if(scale[\"ScaleY\"] != null)\n                node.setScaleY(scale[\"ScaleY\"]);\n        }\n\n        var rotationSkewX = json[\"RotationSkewX\"];\n        if (rotationSkewX != null)\n            node.setRotationX(rotationSkewX);\n\n        var rotationSkewY = json[\"RotationSkewY\"];\n        if (json[\"RotationSkewY\"] != null)\n            node.setRotationY(rotationSkewY);\n\n\n        var anchor = json[\"AnchorPoint\"];\n        if(anchor != null){\n            if(anchor[\"ScaleX\"] == null)\n                anchor[\"ScaleX\"] = 0;\n            if(anchor[\"ScaleY\"] == null)\n                anchor[\"ScaleY\"] = 0;\n            if(anchor[\"ScaleX\"] != 0.5 || anchor[\"ScaleY\"] != 0.5)\n                node.setAnchorPoint(cc.p(anchor[\"ScaleX\"], anchor[\"ScaleY\"]));\n        }\n\n        if (json[\"ZOrder\"] != null)\n            node.setLocalZOrder(json[\"ZOrder\"]);\n\n        var visible = getParam(json[\"VisibleForFrame\"], true);\n        node.setVisible(visible);\n\n        var size = json[\"Size\"];\n        if(size)\n            setContentSize(node, size);\n\n        if (json[\"Alpha\"] != null)\n            node.setOpacity(json[\"Alpha\"]);\n\n        node.setTag(json[\"Tag\"] || 0);\n\n        var actionTag = json[\"ActionTag\"] || 0;\n        var extensionData = new ccs.ComExtensionData();\n        var customProperty = json[\"UserData\"];\n        if(customProperty !== undefined)\n            extensionData.setCustomProperty(customProperty);\n        extensionData.setActionTag(actionTag);\n        if (node.getComponent(\"ComExtensionData\"))\n            node.removeComponent(\"ComExtensionData\");\n        node.addComponent(extensionData);\n\n        node.setCascadeColorEnabled(true);\n        node.setCascadeOpacityEnabled(true);\n\n        setLayoutComponent(node, json);\n    };\n\n    parser.parseChild = function(node, children, resourcePath){\n        if(!node || !children) return;\n        for (var i = 0; i < children.length; i++) {\n            var child = this.parseNode(children[i], resourcePath);\n            if(child){\n                if(node instanceof ccui.PageView){\n                    if(child instanceof ccui.Layout)\n                        node.addPage(child);\n                } else {\n                    if(node instanceof ccui.ListView){\n                        if(child instanceof ccui.Widget)\n                            node.pushBackCustomItem(child);\n                    } else {\n                        if(!(node instanceof ccui.Layout) && child instanceof ccui.Widget) {\n                            if(child.getPositionType() === ccui.Widget.POSITION_PERCENT) {\n                                var position = child.getPositionPercent();\n                                var anchor = node.getAnchorPoint();\n                                child.setPositionPercent(cc.p(position.x + anchor.x, position.y + anchor.y));\n                            }\n                        }\n                        node.addChild(child);\n                    }\n                }\n            }\n        }\n    };\n\n    var skyBoxBrushInstance = null;\n    var getSkyboxRes = function(json, key) {\n        if(json.hasOwnProperty(key) && json[key].hasOwnProperty(\"Path\")) {\n            return json[key][\"Path\"];\n        }\n        return \"\";\n    }\n\n    /**\n     * SingleNode\n     * @param json\n     * @returns {cc.Node}\n     */\n    parser.initSingleNode = function(json, resourcePath){\n        var node = new cc.Node();\n\n        this.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if(color != null)\n            node.setColor(getColor(color));\n\n        if(json.hasOwnProperty(\"SkyBoxEnabled\") && true == json[\"SkyBoxEnabled\"]&&\n\tjson.hasOwnProperty(\"SkyBoxValid\") && true == json[\"SkyBoxValid\"])\n        {\n            var leftFileData = resourcePath + getSkyboxRes(json, \"LeftImage\");\n            var rightFileData = resourcePath + getSkyboxRes(json, \"RightImage\");\n            var upFileData = resourcePath + getSkyboxRes(json, \"UpImage\");\n            var downFileData = resourcePath + getSkyboxRes(json, \"DownImage\");\n            var forwardFileData = resourcePath + getSkyboxRes(json, \"ForwardImage\");\n            var backFileData = resourcePath + getSkyboxRes(json, \"BackImage\");\n            var fileUtil = jsb.fileUtils;\n\t    if(fileUtil.isFileExist(leftFileData)&&\n                fileUtil.isFileExist(rightFileData)&&\n                fileUtil.isFileExist(upFileData)&&\n                fileUtil.isFileExist(downFileData)&&\n                fileUtil.isFileExist(forwardFileData)&&\n                fileUtil.isFileExist(backFileData))\n            {\n                skyBoxBrushInstance = cc.CameraBackgroundSkyBoxBrush.create(leftFileData,rightFileData,upFileData,downFileData,forwardFileData,backFileData);\n            }\n        }\n\n        return node;\n    };\n\n    /**\n     * Sprite\n     * @param json\n     * @param resourcePath\n     * @returns {cc.Sprite}\n     */\n    parser.initSprite = function(json, resourcePath){\n        var node =  new cc.Sprite();\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            if(type === 0)\n                node.setTexture(path);\n            else if(type === 1){\n                var spriteFrame = cc.spriteFrameCache.getSpriteFrame(path);\n                if(spriteFrame)\n                    node.setSpriteFrame(spriteFrame);\n            }\n        });\n\n        var blendData = json[\"BlendFunc\"];\n        if(json[\"BlendFunc\"]) {\n            var blendFunc = cc.BlendFunc.ALPHA_PREMULTIPLIED;\n            if (blendData[\"Src\"] !== undefined)\n                blendFunc.src = blendData[\"Src\"];\n            if (blendData[\"Dst\"] !== undefined)\n                blendFunc.dst = blendData[\"Dst\"];\n            node.setBlendFunc(blendFunc);\n        }\n\n        if(json[\"FlipX\"])\n            node.setFlippedX(true);\n        if(json[\"FlipY\"])\n            node.setFlippedY(true);\n\n        this.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if(color != null)\n            node.setColor(getColor(color));\n\n        return node;\n    };\n\n    /**\n     * Particle\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initParticle = function(json, resourcePath){\n        var node,\n            self = this;\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            node = new cc.ParticleSystem(path);\n            self.generalAttributes(node, json);\n            node.setPositionType(cc.ParticleSystem.TYPE_GROUPED);\n            !cc.sys.isNative && node.setDrawMode(cc.ParticleSystem.TEXTURE_MODE);\n\n            var blendData = json[\"BlendFunc\"];\n            if(json[\"BlendFunc\"]){\n                var blendFunc = cc.BlendFunc.ALPHA_PREMULTIPLIED;\n                if(blendData[\"Src\"] !== undefined)\n                    blendFunc.src = blendData[\"Src\"];\n                if(blendData[\"Dst\"] !== undefined)\n                    blendFunc.dst = blendData[\"Dst\"];\n                node.setBlendFunc(blendFunc);\n            }\n        });\n        return node;\n    };\n\n\n    ////////////\n    // WIDGET //\n    ////////////\n\n    parser.widgetAttributes = function (widget, json, enableContent) {\n        widget.setCascadeColorEnabled(true);\n        widget.setCascadeOpacityEnabled(true);\n\n        widget.setUnifySizeEnabled(false);\n        //widget.setLayoutComponentEnabled(true);\n        widget.ignoreContentAdaptWithSize(false);\n        !enableContent && setContentSize(widget, json[\"Size\"]);\n\n        var name = json[\"Name\"];\n        if (name)\n            widget.setName(name);\n\n        var actionTag = json[\"ActionTag\"] || 0;\n        widget.setActionTag(actionTag);\n        var extensionData = new ccs.ComExtensionData();\n        var customProperty = json[\"UserData\"];\n        if(customProperty !== undefined)\n            extensionData.setCustomProperty(customProperty);\n        extensionData.setActionTag(actionTag);\n        if (widget.getComponent(\"ComExtensionData\"))\n            widget.removeComponent(\"ComExtensionData\");\n        widget.addComponent(extensionData);\n\n        var rotationSkewX = json[\"RotationSkewX\"];\n        if (rotationSkewX)\n            widget.setRotationX(rotationSkewX);\n\n        var rotationSkewY = json[\"RotationSkewY\"];\n        if (rotationSkewY)\n            widget.setRotationY(rotationSkewY);\n\n        //var rotation = json[\"Rotation\"];\n\n        var flipX = json[\"FlipX\"];\n        if (flipX)\n            widget.setFlippedX(true);\n\n        var flipY = json[\"FlipY\"];\n        if (flipY)\n            widget.setFlippedY(true);\n\n        var zOrder = json[\"zOrder\"];\n        if (zOrder != null)\n            widget.setLocalZOrder(zOrder);\n\n        //var visible = json[\"Visible\"];\n\n        var visible = getParam(json[\"VisibleForFrame\"], true);\n        widget.setVisible(visible);\n\n        var alpha = json[\"Alpha\"];\n        if (alpha != null)\n            widget.setOpacity(alpha);\n\n        widget.setTag(json[\"Tag\"] || 0);\n\n        var touchEnabled = json[\"TouchEnable\"] || false;\n        widget.setTouchEnabled(touchEnabled);\n\n        // -- var frameEvent = json[\"FrameEvent\"];\n\n        var callBackType = json[\"CallBackType\"];\n        if (callBackType != null)\n            widget.setCallbackType(callBackType);\n\n        var callBackName = json[\"CallBackName\"];\n        if (callBackName)\n            widget.setCallbackName(callBackName);\n\n        var position = json[\"Position\"];\n        if (position != null)\n            widget.setPosition(position[\"X\"] || 0, position[\"Y\"] || 0);\n\n        var scale = json[\"Scale\"];\n        if (scale != null) {\n            var scaleX = getParam(scale[\"ScaleX\"], 1);\n            var scaleY = getParam(scale[\"ScaleY\"], 1);\n            widget.setScaleX(scaleX);\n            widget.setScaleY(scaleY);\n        }\n\n        var anchorPoint = json[\"AnchorPoint\"];\n        if (anchorPoint != null)\n            widget.setAnchorPoint(anchorPoint[\"ScaleX\"] || 0, anchorPoint[\"ScaleY\"] || 0);\n\n        var color = json[\"CColor\"];\n        if (color != null)\n            widget.setColor(getColor(color));\n\n        setLayoutComponent(widget, json);\n        bindCallback(widget, json);\n    };\n\n    var bindCallback = function(widget, json){\n        var callBackType = json[\"CallBackType\"];\n        var callBackName = json[\"CallBackName\"];\n        var callBack = function(e){\n            if(typeof widget[callBackName] === \"function\")\n                widget[callBackName](e);\n        };\n        if(callBackType === \"Click\"){\n            widget.addClickEventListener(callBack);\n        }else if(callBackType === \"Touch\"){\n            widget.addTouchEventListener(callBack);\n        }else if(callBackType === \"Event\"){\n            widget.addCCSEventListener(callBack);\n        }\n    };\n\n    var setLayoutComponent = function(widget, json){\n\n        var layoutComponent = ccui.LayoutComponent.bindLayoutComponent(widget);\n        if(!layoutComponent)\n            return;\n\n        var positionXPercentEnabled = json[\"PositionPercentXEnable\"] || json[\"PositionPercentXEnabled\"] || false;\n        var positionYPercentEnabled = json[\"PositionPercentYEnable\"] || json[\"PositionPercentYEnabled\"] || false;\n        var positionXPercent = 0,\n            positionYPercent = 0,\n            PrePosition = json[\"PrePosition\"];\n        if (PrePosition != null) {\n            positionXPercent = PrePosition[\"X\"] || 0;\n            positionYPercent = PrePosition[\"Y\"] || 0;\n        }\n        var sizeXPercentEnable = json[\"PercentWidthEnable\"] || json[\"PercentWidthEnabled\"]  || false;\n        var sizeYPercentEnable = json[\"PercentHeightEnable\"]|| json[\"PercentHeightEnabled\"]  || false;\n        var sizeXPercent = 0,\n            sizeYPercent = 0,\n            PreSize = json[\"PreSize\"];\n        if (PrePosition != null) {\n            sizeXPercent = PreSize[\"X\"] || 0;\n            sizeYPercent = PreSize[\"Y\"] || 0;\n        }\n        var stretchHorizontalEnabled = json[\"StretchWidthEnable\"] || false;\n        var stretchVerticalEnabled = json[\"StretchHeightEnable\"] || false;\n        var horizontalEdge = json[\"HorizontalEdge\"];// = ccui.LayoutComponent.horizontalEdge.LEFT;\n        var verticalEdge = json[\"VerticalEdge\"]; // = ccui.LayoutComponent.verticalEdge.TOP;\n        var leftMargin = json[\"LeftMargin\"] || 0;\n        var rightMargin = json[\"RightMargin\"] || 0;\n        var topMargin = json[\"TopMargin\"] || 0;\n        var bottomMargin = json[\"BottomMargin\"] || 0;\n\n        layoutComponent.setPositionPercentXEnabled(positionXPercentEnabled);\n        layoutComponent.setPositionPercentYEnabled(positionYPercentEnabled);\n        layoutComponent.setPositionPercentX(positionXPercent);\n        layoutComponent.setPositionPercentY(positionYPercent);\n        layoutComponent.setPercentWidthEnabled(sizeXPercentEnable);\n        layoutComponent.setPercentHeightEnabled(sizeYPercentEnable);\n        layoutComponent.setPercentWidth(sizeXPercent);\n        layoutComponent.setPercentHeight(sizeYPercent);\n        layoutComponent.setPercentWidthEnabled(sizeXPercentEnable || sizeYPercentEnable);\n        layoutComponent.setStretchWidthEnabled(stretchHorizontalEnabled);\n        layoutComponent.setStretchHeightEnabled(stretchVerticalEnabled);\n\n        var horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.NONE;\n        if (horizontalEdge === \"LeftEdge\") {\n            horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.LEFT;\n        } else if (horizontalEdge === \"RightEdge\") {\n            horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.RIGHT;\n        } else if (horizontalEdge === \"BothEdge\") {\n            horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.CENTER;\n        }\n        layoutComponent.setHorizontalEdge(horizontalEdgeType);\n\n        var verticalEdgeType = ccui.LayoutComponent.verticalEdge.NONE;\n        if (verticalEdge === \"TopEdge\") {\n            verticalEdgeType = ccui.LayoutComponent.verticalEdge.TOP;\n        } else if (verticalEdge === \"BottomEdge\") {\n            verticalEdgeType = ccui.LayoutComponent.verticalEdge.BOTTOM;\n        } else if (verticalEdge === \"BothEdge\") {\n            verticalEdgeType = ccui.LayoutComponent.verticalEdge.CENTER;\n        }\n        layoutComponent.setVerticalEdge(verticalEdgeType);\n\n        layoutComponent.setTopMargin(topMargin);\n        layoutComponent.setBottomMargin(bottomMargin);\n        layoutComponent.setLeftMargin(leftMargin);\n        layoutComponent.setRightMargin(rightMargin);\n\n        layoutComponent.setVerticalEdge(verticalEdgeType);\n\n        layoutComponent.setTopMargin(topMargin);\n        layoutComponent.setBottomMargin(bottomMargin);\n        layoutComponent.setLeftMargin(leftMargin);\n        layoutComponent.setRightMargin(rightMargin);\n    };\n\n    var setLayoutBackground = function(layout, single, first, end){\n        if( layout.getBackGroundColorType() === 2 ){\n            first = first || {};\n            end = end || {};\n            layout.setBackGroundColor(getColor(first), getColor(end));\n        }else{\n            single = single || {};\n            layout.setBackGroundColor(getColor(single));\n        }\n    };\n\n    var setLayoutBackgroundVector = function(widget, vector){\n        var x = vector[\"ScaleX\"] || 0;\n        var y = vector[\"ScaleY\"] || 0;\n        widget.setBackGroundColorVector(cc.p(x, y));\n    };\n\n    /**\n     * Layout\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.Layout}\n     */\n    parser.initPanel = function(json, resourcePath){\n        var widget = new ccui.Layout();\n\n        this.widgetAttributes(widget, json);\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        if(clipEnabled != null)\n            widget.setClippingEnabled(clipEnabled);\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        var bgColorOpacity = getParam(json[\"BackColorAlpha\"], 255);\n        if(bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if(backGroundScale9Enabled != null)\n            widget.setBackGroundImageScale9Enabled(backGroundScale9Enabled);\n\n        var opacity = getParam(json[\"Alpha\"], 255);\n        widget.setOpacity(opacity);\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            widget.setBackGroundImage(path, type);\n        });\n\n        if(backGroundScale9Enabled){\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX, scale9OriginY, scale9Width, scale9Height\n            ));\n\n            setContentSize(widget, json[\"Size\"]);\n        }else{\n            if (!widget.isIgnoreContentAdaptWithSize()){\n                setContentSize(widget, json[\"Size\"]);\n            }\n\n        }\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        return widget;\n    };\n\n    /**\n     * Text\n     * @param json\n     * @param resourcePath\n     */\n    parser.initText = function(json, resourcePath){\n\n        var widget = new ccui.Text();\n\n        var touchScaleEnabled = json[\"TouchScaleChangeAble\"];\n        if(touchScaleEnabled != null)\n            widget.setTouchScaleChangeEnabled(touchScaleEnabled);\n\n        var text = json[\"LabelText\"];\n        if(text != null)\n            widget.setString(text);\n\n        var fontSize = json[\"FontSize\"];\n        if(fontSize != null)\n            widget.setFontSize(fontSize);\n\n        var fontName = json[\"FontName\"];\n        if(fontName && \"\" !== fontName)\n            widget.setFontName(fontName);\n\n        var areaWidth = json[\"AreaWidth\"];\n        var areaHeight = json[\"areaHeight\"];\n        if(areaWidth && areaHeight)\n            widget.setTextAreaSize(cc.size(areaWidth, areaHeight));\n\n        var h_alignment = json[\"HorizontalAlignmentType\"] || \"HT_Left\";\n        switch(h_alignment){\n            case \"HT_Right\":\n                h_alignment = 2; break;\n            case \"HT_Center\":\n                h_alignment = 1; break;\n            case \"HT_Left\":\n            default:\n                h_alignment = 0;\n        }\n        widget.setTextHorizontalAlignment(h_alignment);\n\n        var v_alignment = json[\"VerticalAlignmentType\"] || \"VT_Top\";\n        switch(v_alignment){\n            case \"VT_Bottom\":\n                v_alignment = 2; break;\n            case \"VT_Center\":\n                v_alignment = 1; break;\n            case \"VT_Top\":\n            default:\n                v_alignment = 0;\n        }\n        widget.setTextVerticalAlignment(v_alignment);\n\n        var fontResource = json[\"FontResource\"];\n        if(fontResource != null){\n            var path = fontResource[\"Path\"];\n            //resoutceType = fontResource[\"Type\"];\n            if(path){\n                if (cc.sys.isNative) {\n                    fontName = cc.path.join(cc.loader.resPath, resourcePath, path);\n                } else {\n                    fontName = path.match(/([^\\/]+)\\.(\\S+)/);\n                    fontName = fontName ? fontName[1] : \"\";\n                }\n                widget.setFontName(fontName);\n            }\n        }\n\n        if(json[\"OutlineEnabled\"] && json[\"OutlineColor\"] && widget.enableOutline)\n            widget.enableOutline(getColor(json[\"OutlineColor\"]), getParam(json[\"OutlineSize\"], 1));\n\n        if(json[\"ShadowEnabled\"] && json[\"ShadowColor\"] && widget.enableShadow)\n            widget.enableShadow(\n                getColor(json[\"ShadowColor\"]),\n                cc.size(getParam(json[\"ShadowOffsetX\"], 2), getParam(json[\"ShadowOffsetY\"], -2)),\n                json[\"ShadowBlurRadius\"] || 0\n            );\n\n        var isCustomSize = json[\"IsCustomSize\"];\n        if(isCustomSize != null)\n            widget.ignoreContentAdaptWithSize(!isCustomSize);\n\n        widget.setUnifySizeEnabled(false);\n\n        var color = json[\"CColor\"];\n        json[\"CColor\"] = null;\n        widget.setTextColor(getColor(color));\n        this.widgetAttributes(widget, json, widget.isIgnoreContentAdaptWithSize());\n        json[\"CColor\"] = color;\n        return widget;\n\n    };\n\n    /**\n     * Button\n     * @param json\n     * @param resourcePath\n     */\n    parser.initButton = function(json, resourcePath){\n\n        var widget = new ccui.Button();\n\n        loadTexture(json[\"NormalFileData\"], resourcePath, function(path, type){\n            widget.loadTextureNormal(path, type);\n        });\n        loadTexture(json[\"PressedFileData\"], resourcePath, function(path, type){\n            widget.loadTexturePressed(path, type);\n        });\n        loadTexture(json[\"DisabledFileData\"], resourcePath, function(path, type){\n            widget.loadTextureDisabled(path, type);\n        });\n\n        var scale9Enabled = getParam(json[\"Scale9Enable\"], false);\n        if(scale9Enabled) {\n            widget.setScale9Enabled(scale9Enabled);\n        }\n\n        var text = json[\"ButtonText\"];\n        if(text != null)\n            widget.setTitleText(text);\n\n        var fontSize = json[\"FontSize\"];\n        if(fontSize != null)\n            widget.setTitleFontSize(fontSize);\n\n        var fontName = json[\"FontName\"];\n        if(fontName && \"\" !== fontName)\n            widget.setTitleFontName(fontName);\n\n        var textColor = json[\"TextColor\"];\n        if(textColor != null)\n            widget.setTitleColor(getColor(textColor));\n\n        var displaystate = getParam(json[\"DisplayState\"], true);\n        widget.setBright(displaystate);\n        widget.setEnabled(displaystate);\n\n        var fontResource = json[\"FontResource\"];\n        if(fontResource != null){\n            var path = fontResource[\"Path\"];\n            //resoutceType = fontResource[\"Type\"];\n            if(path){\n                if (cc.sys.isNative) {\n                    fontName = cc.path.join(cc.loader.resPath, resourcePath, path);\n                } else {\n                    fontName = path.match(/([^\\/]+)\\.(\\S+)/);\n                    fontName = fontName ? fontName[1] : \"\";\n                }\n                widget.setTitleFontName(fontName);\n            }\n        }\n\n        var label = widget.getTitleRenderer();\n        if(label && json[\"ShadowEnabled\"] && json[\"ShadowColor\"] && label.enableShadow){\n            label.enableShadow(\n                getColor(json[\"ShadowColor\"]),\n                cc.size(getParam(json[\"ShadowOffsetX\"], 2), getParam(json[\"ShadowOffsetY\"], -2)),\n                json[\"ShadowBlurRadius\"] || 0\n            );\n        }\n        if(label && json[\"OutlineEnabled\"] && json[\"OutlineColor\"] && label.enableStroke)\n            label.enableStroke(getColor(json[\"OutlineColor\"]), getParam(json[\"OutlineSize\"], 1));\n\n        this.widgetAttributes(widget, json);\n\n        if(scale9Enabled) {\n            widget.setUnifySizeEnabled(false);\n            widget.ignoreContentAdaptWithSize(false);\n            var capInsets = cc.rect(\n                    json[\"Scale9OriginX\"] || 0,\n                    json[\"Scale9OriginY\"] || 0,\n                    json[\"Scale9Width\"] || 0,\n                    json[\"Scale9Height\"] || 0\n            );\n            widget.setCapInsets(capInsets);\n\n        }\n\n        setContentSize(widget, json[\"Size\"]);\n\n        return widget;\n\n    };\n\n    /**\n     * CheckBox\n     * @param json\n     * @param resourcePath\n     */\n    parser.initCheckBox = function(json, resourcePath){\n\n        var widget = new ccui.CheckBox();\n\n        this.widgetAttributes(widget, json);\n\n        var dataList = [\n            {name: \"NormalBackFileData\", handle: widget.loadTextureBackGround},\n            {name: \"PressedBackFileData\", handle: widget.loadTextureBackGroundSelected},\n            {name: \"NodeNormalFileData\", handle: widget.loadTextureFrontCross},\n            {name: \"DisableBackFileData\", handle: widget.loadTextureBackGroundDisabled},\n            {name: \"NodeDisableFileData\", handle: widget.loadTextureFrontCrossDisabled}\n        ];\n\n        dataList.forEach(function(item){\n            loadTexture(json[item.name], resourcePath, function(path, type){\n                item.handle.call(widget, path, type);\n            });\n        });\n\n        var selectedState = getParam(json[\"CheckedState\"], false);\n        widget.setSelected(selectedState);\n\n        var displaystate = getParam(json[\"DisplayState\"], true);\n        widget.setBright(displaystate);\n        widget.setEnabled(displaystate);\n\n        return widget;\n    };\n\n    /**\n     * ScrollView\n     * @param json\n     * @param resourcePath\n     */\n    parser.initScrollView = function(json, resourcePath){\n        var widget = new ccui.ScrollView();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            widget.setBackGroundImage(path, type);\n        });\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        widget.setClippingEnabled(clipEnabled);\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        var bgColorOpacity = json[\"BackColorAlpha\"];\n        if(bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if(backGroundScale9Enabled){\n            widget.setBackGroundImageScale9Enabled(true);\n\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX, scale9OriginY, scale9Width, scale9Height\n            ));\n            setContentSize(widget, json[\"Size\"]);\n        }else if(!widget.isIgnoreContentAdaptWithSize()){\n            setContentSize(widget, json[\"Size\"]);\n        }\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        var innerNodeSize = json[\"InnerNodeSize\"];\n        var innerSize = cc.size(\n            innerNodeSize[\"Width\"] || 0,\n            innerNodeSize[\"Height\"] || 0\n        );\n        widget.setInnerContainerSize(innerSize);\n\n        var direction = 0;\n        if(json[\"ScrollDirectionType\"] === \"Vertical\") direction = 1;\n        if(json[\"ScrollDirectionType\"] === \"Horizontal\") direction = 2;\n        if(json[\"ScrollDirectionType\"] === \"Vertical_Horizontal\") direction = 3;\n        widget.setDirection(direction);\n\n        var bounceEnabled = getParam(json[\"IsBounceEnabled\"], false);\n        widget.setBounceEnabled(bounceEnabled);\n\n        return widget;\n    };\n\n    /**\n     * ImageView\n     * @param json\n     * @param resourcePath\n     */\n    parser.initImageView = function(json, resourcePath){\n\n        var widget = new ccui.ImageView();\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            widget.loadTexture(path, type);\n        });\n        loadTexture(json[\"ImageFileData\"], resourcePath, function(path, type){\n            widget.loadTexture(path, type);\n        });\n\n        var scale9Enabled = json[\"Scale9Enable\"];\n        if(scale9Enabled){\n            widget.setScale9Enabled(true);\n            widget.setUnifySizeEnabled(false);\n            widget.ignoreContentAdaptWithSize(false);\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setCapInsets(cc.rect(\n                scale9OriginX ,\n                scale9OriginY,\n                scale9Width,\n                scale9Height\n            ));\n        } else\n            setContentSize(widget, json[\"Size\"]);\n\n        this.widgetAttributes(widget, json);\n\n        return widget;\n    };\n\n    /**\n     * LoadingBar\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.LoadingBar}\n     */\n    parser.initLoadingBar = function(json, resourcePath){\n\n        var widget = new ccui.LoadingBar();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"ImageFileData\"], resourcePath, function(path, type){\n            widget.loadTexture(path, type);\n        });\n\n        var direction = json[\"ProgressType\"] === \"Right_To_Left\" ? 1 : 0;\n        widget.setDirection(direction);\n\n        var percent = getParam(json[\"ProgressInfo\"], 80);\n        if(percent != null)\n            widget.setPercent(percent);\n\n        return widget;\n\n    };\n\n    /**\n     * Slider\n     * @param json\n     * @param resourcePath\n     */\n    parser.initSlider = function(json, resourcePath){\n\n        var widget = new ccui.Slider();\n        var loader = cc.loader;\n\n        this.widgetAttributes(widget, json);\n\n        var textureList = [\n            {name: \"BackGroundData\", handle: widget.loadBarTexture},\n            {name: \"BallNormalData\", handle: widget.loadSlidBallTextureNormal},\n            {name: \"BallPressedData\", handle: widget.loadSlidBallTexturePressed},\n            {name: \"BallDisabledData\", handle: widget.loadSlidBallTextureDisabled},\n            {name: \"ProgressBarData\", handle: widget.loadProgressBarTexture}\n        ];\n        textureList.forEach(function(item){\n            loadTexture(json[item.name], resourcePath, function(path, type){\n                item.handle.call(widget, path, type);\n            });\n        });\n\n        var percent = json[\"PercentInfo\"] || 0;\n        widget.setPercent(percent);\n\n        var displaystate = getParam(json[\"DisplayState\"], true);\n        widget.setBright(displaystate);\n        widget.setEnabled(displaystate);\n\n        return widget;\n    };\n\n    /**\n     * PageView\n     * @param json\n     * @param resourcePath\n     */\n    parser.initPageView = function(json, resourcePath){\n\n        var widget = new ccui.PageView();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            widget.setBackGroundImage(path, type);\n        });\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        widget.setClippingEnabled(clipEnabled);\n\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if(backGroundScale9Enabled){\n            widget.setBackGroundImageScale9Enabled(true);\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX,\n                scale9OriginY,\n                scale9Width,\n                scale9Height\n            ));\n        }\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        var bgColorOpacity = json[\"BackColorAlpha\"];\n        if(bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        setContentSize(widget, json[\"Size\"]);\n\n        return widget;\n\n    };\n\n    /**\n     * ListView\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.ListView}\n     */\n    parser.initListView = function(json, resourcePath){\n\n        var widget = new ccui.ListView();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            widget.setBackGroundImage(path, type);\n        });\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        widget.setClippingEnabled(clipEnabled);\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        var bgColorOpacity = getParam(json[\"BackColorAlpha\"], 255);\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if(backGroundScale9Enabled){\n            widget.setBackGroundImageScale9Enabled(true);\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX,\n                scale9OriginY,\n                scale9Width,\n                scale9Height\n            ));\n        }\n\n        var directionType = getParam(json[\"DirectionType\"], ccui.ListView.DIR_HORIZONTAL);\n        var verticalType = getParam(json[\"VerticalType\"], \"Align_Left\");\n        var horizontalType = getParam(json[\"HorizontalType\"], \"Align_Top\");\n        if(!directionType){\n            widget.setDirection(ccui.ScrollView.DIR_HORIZONTAL);\n            if(verticalType === \"Align_Bottom\")\n                widget.setGravity(ccui.ListView.GRAVITY_BOTTOM);\n            else if(verticalType === \"Align_VerticalCenter\")\n                widget.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);\n            else\n                widget.setGravity(ccui.ListView.GRAVITY_TOP);\n        }else if(directionType === \"Vertical\"){\n            widget.setDirection(ccui.ScrollView.DIR_VERTICAL);\n            if (horizontalType === \"\")\n                widget.setGravity(ccui.ListView.GRAVITY_LEFT);\n            else if (horizontalType === \"Align_Right\")\n                widget.setGravity(ccui.ListView.GRAVITY_RIGHT);\n            else if (horizontalType === \"Align_HorizontalCenter\")\n                widget.setGravity(ccui.ListView.GRAVITY_CENTER_HORIZONTAL);\n        }\n\n\n        var bounceEnabled = getParam(json[\"IsBounceEnabled\"], false);\n        widget.setBounceEnabled(bounceEnabled);\n\n        var itemMargin = json[\"ItemMargin\"] || 0;\n        widget.setItemsMargin(itemMargin);\n\n        var innerSize = json[\"InnerNodeSize\"];\n        //Width\n        if(innerSize != null)\n            widget.setInnerContainerSize(cc.size(innerSize[\"Widget\"]||0, innerSize[\"Height\"]||0));\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        if(bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        setContentSize(widget, json[\"Size\"]);\n\n        return widget;\n    };\n\n    /**\n     * TextAtlas\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.TextAtlas}\n     */\n    parser.initTextAtlas = function(json, resourcePath){\n\n        var widget = new ccui.TextAtlas();\n\n        var stringValue = json[\"LabelText\"];\n        var itemWidth = json[\"CharWidth\"];\n        var itemHeight = json[\"CharHeight\"];\n\n        var startCharMap = json[\"StartChar\"];\n\n        loadTexture(json[\"LabelAtlasFileImage_CNB\"], resourcePath, function(path, type){\n            if(type === 0){\n                widget.setProperty(stringValue, path, itemWidth, itemHeight, startCharMap);\n            }\n        });\n        this.widgetAttributes(widget, json);\n\n        return widget;\n    };\n\n    /**\n     * TextBMFont\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.TextBMFont}\n     */\n    parser.initTextBMFont = function(json, resourcePath){\n\n        var widget = new ccui.TextBMFont();\n        this.widgetAttributes(widget, json);\n\n        var text = json[\"LabelText\"];\n        widget.setString(text);\n\n        loadTexture(json[\"LabelBMFontFile_CNB\"], resourcePath, function(path, type){\n            widget.setFntFile(path);\n        });\n        widget.ignoreContentAdaptWithSize(true);\n        return widget;\n    };\n\n    /**\n     * TextField\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.TextField}\n     */\n    parser.initTextField = function(json, resourcePath){\n        var widget = new ccui.TextField();\n\n        var passwordEnabled = json[\"PasswordEnable\"];\n        if(passwordEnabled){\n            widget.setPasswordEnabled(true);\n            var passwordStyleText = json[\"PasswordStyleText\"] || \"*\";\n            widget.setPasswordStyleText(passwordStyleText);\n        }\n\n        var placeHolder = json[\"PlaceHolderText\"];\n        if(placeHolder != null)\n            widget.setPlaceHolder(placeHolder);\n\n        var fontSize = json[\"FontSize\"];\n        if(fontSize != null)\n            widget.setFontSize(fontSize);\n\n        var fontName = json[\"FontName\"];\n        if(fontName && \"\" !== fontName)\n            widget.setFontName(fontName);\n\n        var maxLengthEnabled = json[\"MaxLengthEnable\"];\n        if(maxLengthEnabled){\n            widget.setMaxLengthEnabled(true);\n            var maxLength = json[\"MaxLengthText\"] || 0;\n            widget.setMaxLength(maxLength);\n        }\n\n        //var isCustomSize = json[\"IsCustomSize\"];\n        this.widgetAttributes(widget, json);\n\n        var text = json[\"LabelText\"];\n        if(text != null)\n            widget.setString(text);\n\n        var fontResource = json[\"FontResource\"];\n        if(fontResource != null){\n            var path = fontResource[\"Path\"];\n            //resoutceType = fontResource[\"Type\"];\n            if(path){\n                if (cc.sys.isNative) {\n                    fontName = cc.path.join(cc.loader.resPath, resourcePath, path);\n                } else {\n                    fontName = path.match(/([^\\/]+)\\.(\\S+)/);\n                    fontName = fontName ? fontName[1] : \"\";\n                }\n                widget.setFontName(fontName);\n            }\n        }\n\n        widget.setUnifySizeEnabled(false);\n        widget.ignoreContentAdaptWithSize(false);\n\n        var color = json[\"CColor\"];\n        if(color != null)\n            widget.setTextColor(getColor(color));\n\n        if (!widget.isIgnoreContentAdaptWithSize()){\n            setContentSize(widget, json[\"Size\"]);\n            if (cc.sys.isNative)\n                widget.getVirtualRenderer().setLineBreakWithoutSpace(true);\n        }\n\n\n        return widget;\n\n    };\n\n    /**\n     * SimpleAudio\n     * @param json\n     * @param resourcePath\n     */\n    parser.initSimpleAudio = function(json, resourcePath){\n\n        var node = new ccs.ComAudio();\n        var loop = json[\"Loop\"] || false;\n        //var volume = json[\"Volume\"] || 0;\n        //cc.audioEngine.setMusicVolume(volume);\n        node.setLoop(loop);\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            node.setFile(path);\n        });\n\n    };\n\n    /**\n     * GameMap\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initGameMap = function(json, resourcePath){\n\n        var node = null;\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            if(type === 0)\n                node = new cc.TMXTiledMap(path);\n\n            parser.generalAttributes(node, json);\n        });\n\n        return node;\n    };\n\n    /**\n     * ProjectNode\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initProjectNode = function(json, resourcePath){\n        var projectFile = json[\"FileData\"];\n        if(projectFile != null && projectFile[\"Path\"]){\n            var file = resourcePath + projectFile[\"Path\"];\n            if(cc.loader.getRes(file)){\n                var obj = ccs.load(file, resourcePath);\n                parser.generalAttributes(obj.node, json);\n                if(obj.action && obj.node){\n                    obj.action.tag = obj.node.tag;\n                    var InnerActionSpeed = json[\"InnerActionSpeed\"];\n                    if(InnerActionSpeed !== undefined)\n                        obj.action.setTimeSpeed(InnerActionSpeed);\n                    obj.node.runAction(obj.action);\n                    obj.action.gotoFrameAndPause(0);\n                }\n                return obj.node;\n            } else\n                cc.log(\"%s need to be preloaded\", file);\n        }\n    };\n\n    var getFileName = function(name){\n        if(!name) return \"\";\n        var arr = name.match(/([^\\/]+)\\.[^\\/]+$/);\n        if(arr && arr[1])\n            return arr[1];\n        else\n            return \"\";\n    };\n\n    /**\n     * Armature\n     * @param json\n     * @param resourcePath\n     */\n    parser.initArmature = function(json, resourcePath){\n\n        var node = new ccs.Armature();\n\n        var isLoop = json[\"IsLoop\"];\n\n        var isAutoPlay = json[\"IsAutoPlay\"];\n\n        var currentAnimationName = json[\"CurrentAnimationName\"];\n\n        loadTexture(json[\"FileData\"], resourcePath, function(path, type){\n            var plists, pngs;\n            var armJson = cc.loader.getRes(path);\n            if(!armJson)\n                cc.log(\"%s need to be preloaded\", path);\n            else{\n                plists = armJson[\"config_file_path\"];\n                pngs = armJson[\"config_png_path\"];\n                plists.forEach(function(plist, index){\n                    if(pngs[index])\n                        cc.spriteFrameCache.addSpriteFrames(plist, pngs[index]);\n                });\n            }\n            ccs.armatureDataManager.addArmatureFileInfo(path);\n            node.init(getFileName(path));\n            if(isAutoPlay)\n                node.getAnimation().play(currentAnimationName, -1, isLoop);\n            else{\n                node.getAnimation().play(currentAnimationName);\n                node.getAnimation().gotoAndPause(0);\n            }\n\n        });\n\n        parser.generalAttributes(node, json);\n\n        node.setColor(getColor(json[\"CColor\"]));\n        return node;\n    };\n\n    parser.initBoneNode = function(json, resourcePath){\n\n        var node = new ccs.BoneNode();\n\n        var length = json[\"Length\"];\n        if(length !== undefined)\n            node.setDebugDrawLength(length);\n\n        var blendFunc = json[\"BlendFunc\"];\n        if(blendFunc && blendFunc[\"Src\"] !== undefined && blendFunc[\"Dst\"] !== undefined)\n            node.setBlendFunc(new cc.BlendFunc(blendFunc[\"Src\"] || 0, blendFunc[\"Dst\"] || 0));\n\n        parser.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if(color && (color[\"R\"] !== undefined || color[\"G\"] !== undefined || color[\"B\"] !== undefined))\n            node.setColor(getColor(color));\n        return node;\n    };\n\n    parser.initSkeletonNode = function(json){\n        var node = new ccs.SkeletonNode();\n        parser.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if(color && (color[\"R\"] !== undefined || color[\"G\"] !== undefined || color[\"B\"] !== undefined))\n            node.setColor(getColor(color));\n        return node;\n    };\n\n    var loadedPlist = {};\n    var loadTexture = function(json, resourcePath, cb){\n        if(json != null){\n            var path = json[\"Path\"];\n            var type;\n            if(json[\"Type\"] === \"Default\" || json[\"Type\"] === \"Normal\")\n                type = 0;\n            else\n                type = 1;\n            var plist = json[\"Plist\"];\n            if(plist){\n                if(cc.loader.getRes(resourcePath + plist)){\n                    loadedPlist[resourcePath + plist] = true;\n                    cc.spriteFrameCache.addSpriteFrames(resourcePath + plist);\n                }else{\n                    if(!loadedPlist[resourcePath + plist] && !cc.spriteFrameCache.getSpriteFrame(path))\n                        cc.log(\"%s need to be preloaded\", resourcePath + plist);\n                }\n            }\n            if(type !== 0){\n                if(cc.spriteFrameCache.getSpriteFrame(path))\n                    cb(path, type);\n                else\n                    cc.log(\"failed to get spriteFrame: %s\", path);\n            }else{\n                if(path && \"\" !== path && jsb.fileUtils.isFileExist(resourcePath + path))\n                    cb(resourcePath + path, type);\n                else\n                    cb(\"\", type);\n            }\n        }\n    };\n\n    var getColor = function(json){\n        if(!json) return;\n        var r = json[\"R\"] != null ? json[\"R\"] : 255;\n        var g = json[\"G\"] != null ? json[\"G\"] : 255;\n        var b = json[\"B\"] != null ? json[\"B\"] : 255;\n        var a = json[\"A\"] != null ? json[\"A\"] : 255;\n        return cc.color(r, g, b, a);\n    };\n\n    var setContentSize = function(node, size){\n        var x = size[\"X\"] || 0;\n        var y = size[\"Y\"] || 0;\n        if(size)\n            node.setContentSize(cc.size(x, y));\n    };\n\n    var get3DVector = function(json, name, defValue){\n        var x = defValue, y = defValue, z = defValue;\n        if(json && name && json[name]){\n            if(undefined !== json[name][\"ValueX\"]) {\n                x = json[name][\"ValueX\"];\n            } else if(undefined !== json[name][\"X\"]) {\n                x = json[name][\"X\"]\n            }\n            if(null === x || isNaN(x))\n                x = defValue;\n\n            if(undefined !== json[name][\"ValueY\"]) {\n                y = json[name][\"ValueY\"];\n            } else if(undefined !== json[name][\"Y\"]) {\n                y = json[name][\"Y\"]\n            }\n            if(null === y || isNaN(y))\n                y = defValue;\n\n            if(undefined !== json[name][\"ValueZ\"]) {\n                z = json[name][\"ValueZ\"];\n            } else if(undefined !== json[name][\"Z\"]) {\n                z = json[name][\"Z\"]\n            }\n            if(null === z || isNaN(z))\n                z = defValue;\n        }\n        var vec3 = cc.math.vec3(x, y, z);\n        return vec3;\n    };\n\n    parser.general3DAttributes = function(node, json){\n        var pos = get3DVector(json, \"Position3D\", 0);\n        node.setPosition3D(pos);\n\n        var rotation = get3DVector(json, \"Rotation3D\", 0);\n        node.setRotation3D(rotation);\n\n        var scale = get3DVector(json, \"Scale3D\", 1.0);\n        node.setScaleX(scale.x);\n        node.setScaleY(scale.y);\n        node.setScaleZ(scale.z);\n\n        var camMask =json[\"CameraFlagMode\"];\n        if(undefined !== camMask && null !== camMask)\n            node.setCameraMask(camMask);\n\n        this.generalAttributes(node, json);\n    };\n\n    /**\n     * Node3D\n     * @param json\n     * @returns {*}\n     */\n    parser.initNode3D = function(json){\n        var node = cc.Node.create();\n        if(node)\n            this.general3DAttributes(node, json);\n        return node;\n    };\n\n    /**\n     * Camera\n     * @param json\n     * @returns {*}\n     */\n    parser.initCamera = function(json,resourcePath){\n        var s = cc.winSize;\n        var fov = json[\"Fov\"] ? json[\"Fov\"] : 60;\n\n        var nearClip = 1;\n        var farClip = 500;\n        if(json[\"ClipPlane\"]){\n            if(undefined !== json[\"ClipPlane\"][\"ValueX\"]) {\n                nearClip = json[\"ClipPlane\"][\"ValueX\"];\n            } else if(undefined !== json[\"ClipPlane\"][\"X\"]) {\n                nearClip = json[\"ClipPlane\"][\"X\"];\n            }\n\n            if(undefined !== json[\"ClipPlane\"][\"ValueY\"]) {\n                farClip = json[\"ClipPlane\"][\"ValueY\"];\n            } else if(undefined !== json[\"ClipPlane\"][\"Y\"]) {\n                farClip = json[\"ClipPlane\"][\"Y\"];\n            }\n\n            if(null === nearClip || isNaN(nearClip))\n                nearClip = 1;\n            if(null === farClip || isNaN(farClip))\n                farClip = 500;\n        }\n\n        var node = cc.Camera.createPerspective(fov, s.width/s.height, nearClip, farClip);\n\n        if(node){\n            this.general3DAttributes(node, json);\n\n            var camMode = json[\"UserCameraFlagMode\"];\n            var cameraFlagData = json[\"CameraFlagData\"];\n            var cameraFlag = cc.CameraFlag.USER1;\n            if(undefined === cameraFlagData || isNaN(cameraFlagData) || 0 === cameraFlagData)\n            {\n                switch(camMode){\n                    case \"USER1\":\n                        cameraFlag = cc.CameraFlag.USER1; break;\n                    case \"USER2\":\n                        cameraFlag = cc.CameraFlag.USER2; break;\n                    case \"USER3\":\n                        cameraFlag = cc.CameraFlag.USER3; break;\n                    case \"USER4\":\n                        cameraFlag = cc.CameraFlag.USER4; break;\n                    case \"USER5\":\n                        cameraFlag = cc.CameraFlag.USER5; break;\n                    case \"USER6\":\n                        cameraFlag = cc.CameraFlag.USER6; break;\n                    case \"USER7\":\n                        cameraFlag = cc.CameraFlag.USER7; break;\n                    case \"USER8\":\n                        cameraFlag = cc.CameraFlag.USER8; break;\n                    case \"DEFAULT\":\n                        cameraFlag = cc.CameraFlag.DEFAULT; break;\n                }\n            } else {\n                cameraFlag = cameraFlagData;\n            }\n            node.setCameraFlag(cameraFlag);\n        }\n\n\tif(json.hasOwnProperty(\"SkyBoxEnabled\") && true == json[\"SkyBoxEnabled\"] &&\n            json.hasOwnProperty(\"SkyBoxValid\") && true == json[\"SkyBoxValid\"])\n        {\n            var leftFileData = resourcePath + getSkyboxRes(json, \"LeftImage\");\n            var rightFileData = resourcePath + getSkyboxRes(json, \"RightImage\");\n            var upFileData = resourcePath + getSkyboxRes(json, \"UpImage\");\n            var downFileData = resourcePath + getSkyboxRes(json, \"DownImage\");\n            var forwardFileData = resourcePath + getSkyboxRes(json, \"ForwardImage\");\n            var backFileData = resourcePath + getSkyboxRes(json, \"BackImage\");\n\n            var fileUtil = jsb.fileUtils;\n            if(fileUtil.isFileExist(leftFileData)&&\n                fileUtil.isFileExist(rightFileData)&&\n                fileUtil.isFileExist(upFileData)&&\n                fileUtil.isFileExist(downFileData)&&\n                fileUtil.isFileExist(forwardFileData)&&\n                fileUtil.isFileExist(backFileData))\n            {\n                var innerBrush = cc.CameraBackgroundSkyBoxBrush.create(leftFileData,rightFileData,upFileData,downFileData,forwardFileData,backFileData);\n                node.setBackgroundBrush(innerBrush);\n            }\n            else\n                node.setBackgroundBrush(skyBoxBrushInstance);\n        }\n\telse if(skyBoxBrushInstance != null)\n\t{\n\t\tnode.setBackgroundBrush(skyBoxBrushInstance);\n\t}\n        return node;\n    };\n\n    /**\n     * Sprite3D\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initSprite3D = function(json, resourcePath){\n        var resFile = null;\n        if(json[\"FileData\"] && json[\"FileData\"][\"Path\"])\n            resFile = resourcePath + json[\"FileData\"][\"Path\"];\n\n        var node = null;\n        if(resFile) {\n            if(jsb.fileUtils.isFileExist(resFile))\n                node = jsb.Sprite3D.create(resFile);\n        }\n        if(null === node)\n            node = jsb.Sprite3D.create();\n\n        if(node) {\n            this.general3DAttributes(node, json);\n\n            if(json[\"CColor\"]) {\n                var col = getColor(json[\"CColor\"]);\n                if(col && col.r !== 255 || col.g !== 255 || col.b !== 255)\n                    node.setColor(col);\n            }\n\n            if(json.hasOwnProperty(\"IsFlipped\") && true == json[\"IsFlipped\"]) {\n                node.setCullFaceEnabled(true);\n                node.setCullFace(gl.FRONT);\n            }\n\n            if(json.hasOwnProperty(\"LightFlag\")){\n                var lightFlagStr = json[\"LightFlag\"];\n                var lightFlag = 0;\n                switch(lightFlagStr){\n                    case \"LIGHT0\":\n                        lightFlag = cc.LightFlag.LIGHT0; break;\n                    case \"LIGHT1\":\n                        lightFlag = cc.LightFlag.LIGHT1; break;\n                    case \"LIGHT2\":\n                        lightFlag = cc.LightFlag.LIGHT2; break;\n                    case \"LIGHT3\":\n                        lightFlag = cc.LightFlag.LIGHT3; break;\n                    case \"LIGHT4\":\n                        lightFlag = cc.LightFlag.LIGHT4; break;\n                    case \"LIGHT5\":\n                        lightFlag = cc.LightFlag.LIGHT5; break;\n                    case \"LIGHT6\":\n                        lightFlag = cc.LightFlag.LIGHT6; break;\n                    case \"LIGHT7\":\n                        lightFlag = cc.LightFlag.LIGHT7; break;\n                    case \"LIGHT8\":\n                        lightFlag = cc.LightFlag.LIGHT8; break;\n                    case \"LIGHT9\":\n                        lightFlag = cc.LightFlag.LIGHT9; break;\n                    case \"LIGHT10\":\n                        lightFlag = cc.LightFlag.LIGHT10; break;\n                    case \"LIGHT11\":\n                        lightFlag = cc.LightFlag.LIGHT11; break;\n                    case \"LIGHT12\":\n                        lightFlag = cc.LightFlag.LIGHT12; break;\n                }\n                node.setLightMask(lightFlag);\n            }\n            var autoAction = getParam(json[\"RunAction3D\"], false);\n            if(autoAction && resFile){\n                var  animation = jsb.Animation3D.create(resFile, \"\");\n                if(animation){\n                    var animate = jsb.Animate3D.create(animation);\n                    var action = cc.RepeatForever.create(animate);\n                    node.runAction(action);\n                }\n            }\n        }\n\n        return node;\n    };\n\n    /**\n     * Particle3D\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initParticle3D = function(json, resourcePath){\n        var node = null;\n\n        var resFile = null;\n        if(json[\"FileData\"] && json[\"FileData\"][\"Path\"])\n            resFile = resourcePath+json[\"FileData\"][\"Path\"];\n\n        if(resFile){\n            if(jsb.fileUtils.isFileExist(resFile))\n                node = jsb.PUParticleSystem3D.create(resFile);\n        }\n\n        if(null === node)\n            node = jsb.PUParticleSystem3D.create();\n\n        if(node){\n            this.general3DAttributes(node, json);\n            node.startParticleSystem();\n        }\n\n        return node;\n    };\n\t\n\t    /**\n     * Light3D\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initLight3D = function(json, resourcePath){\n        var node = new cc.Node();\n\n        var light = jsb.DirectionLight.create(cc.math.vec3(0, 0, 1), cc.color(255,255,255,255));\n        var flag = 0;\n        var intensity = 1;\n        var range = 5.0;\n        var outerAngle = 30.0;\n        var enabled = true;\n\n        if(json.hasOwnProperty(\"Intensity\")){\n            intensity = json[\"Intensity\"];\n        }\n        if(json.hasOwnProperty(\"Enable\")){\n            enabled = json[\"Enable\"];\n        }\n        if(json.hasOwnProperty(\"Range\")){\n            range = json[\"Range\"];\n        }\n        if(json.hasOwnProperty(\"OuterAngle\")){\n            outerAngle = json[\"OuterAngle\"] * 0.5;\n        }\n        if(json.hasOwnProperty(\"Flag\")){\n            var lightFlagStr = json[\"Flag\"];\n            switch(lightFlagStr){\n                case \"LIGHT0\":\n                    flag = cc.LightFlag.LIGHT0; break;\n                case \"LIGHT1\":\n                    flag = cc.LightFlag.LIGHT1; break;\n                case \"LIGHT2\":\n                    flag = cc.LightFlag.LIGHT2; break;\n                case \"LIGHT3\":\n                    flag = cc.LightFlag.LIGHT3; break;\n                case \"LIGHT4\":\n                    flag = cc.LightFlag.LIGHT4; break;\n                case \"LIGHT5\":\n                    flag = cc.LightFlag.LIGHT5; break;\n                case \"LIGHT6\":\n                    flag = cc.LightFlag.LIGHT6; break;\n                case \"LIGHT7\":\n                    flag = cc.LightFlag.LIGHT7; break;\n                case \"LIGHT8\":\n                    flag = cc.LightFlag.LIGHT8; break;\n                case \"LIGHT9\":\n                    flag = cc.LightFlag.LIGHT9; break;\n                case \"LIGHT10\":\n                    flag = cc.LightFlag.LIGHT10; break;\n                case \"LIGHT11\":\n                    flag = cc.LightFlag.LIGHT11; break;\n                case \"LIGHT12\":\n                    flag = cc.LightFlag.LIGHT12; break;\n            }\n        }\n        if(json.hasOwnProperty(\"Type\")){\n            var type = json[\"Type\"];\n            switch(type){\n                case \"DIRECTIONAL\":\n                    light = jsb.DirectionLight.create(cc.math.vec3(0, 0, 1), cc.color(255, 255, 255, 255)); break;\n                case \"POINT\":\n                    light = jsb.PointLight.create(cc.math.vec3(0, 0, 0), cc.color(255, 255, 255, 255), range); break;\n                case \"SPOT\":\n                    light = jsb.SpotLight.create(cc.math.vec3(0, 0, 1), cc.math.vec3(0, 0, 0), cc.color(255, 255, 255, 255), 0, cc.degreesToRadians(outerAngle), range); break;\n                case \"AMBIENT\":\n                    light = jsb.AmbientLight.create(cc.color(255,255,255,255)); break;\n            }\n        }\n\n        light.setIntensity(intensity);\n        light.setEnabled(enabled);\n        light.setLightFlag(flag);\n\n        node.addChild(light);\n        if(node)\n            this.general3DAttributes(node, json);\n\n        if(json[\"CColor\"]) {\n            var col = getColor(json[\"CColor\"]);\n            if(col && col.r !== 255 || col.g !== 255 || col.b !== 255)\n                node.setColor(col);\n        }\n        return node;\n    };\n\n    var register = [\n        {name: \"SingleNodeObjectData\", handle: parser.initSingleNode},\n        {name: \"NodeObjectData\", handle: parser.initSingleNode},\n        {name: \"LayerObjectData\", handle: parser.initSingleNode},\n        {name: \"GameNodeObjectData\", handle: parser.initSingleNode},\n        {name: \"GameLayerObjectData\", handle: parser.initSingleNode},\n        {name: \"SpriteObjectData\", handle: parser.initSprite},\n        {name: \"ParticleObjectData\", handle: parser.initParticle},\n        {name: \"PanelObjectData\", handle: parser.initPanel},\n        {name: \"TextObjectData\", handle: parser.initText},\n        {name: \"ButtonObjectData\", handle: parser.initButton},\n        {name: \"CheckBoxObjectData\", handle: parser.initCheckBox},\n        {name: \"ScrollViewObjectData\", handle: parser.initScrollView},\n        {name: \"ImageViewObjectData\", handle: parser.initImageView},\n        {name: \"LoadingBarObjectData\", handle: parser.initLoadingBar},\n        {name: \"SliderObjectData\", handle: parser.initSlider},\n        {name: \"PageViewObjectData\", handle: parser.initPageView},\n        {name: \"ListViewObjectData\", handle: parser.initListView},\n        {name: \"TextAtlasObjectData\", handle: parser.initTextAtlas},\n        {name: \"TextBMFontObjectData\", handle: parser.initTextBMFont},\n        {name: \"TextFieldObjectData\", handle: parser.initTextField},\n        {name: \"SimpleAudioObjectData\", handle: parser.initSimpleAudio},\n        {name: \"GameMapObjectData\", handle: parser.initGameMap},\n        {name: \"ProjectNodeObjectData\", handle: parser.initProjectNode},\n        {name: \"ArmatureNodeObjectData\", handle: parser.initArmature},\n        {name: \"BoneNodeObjectData\", handle: parser.initBoneNode},\n        {name: \"SkeletonNodeObjectData\", handle: parser.initSkeletonNode},\n\n        {name: \"Sprite3DObjectData\", handle: parser.initSprite3D},\n        {name: \"Particle3DObjectData\", handle: parser.initParticle3D},\n        {name: \"UserCameraObjectData\", handle: parser.initCamera},\n        {name: \"Node3DObjectData\", handle: parser.initNode3D},\n        {name: \"Light3DObjectData\", handle: parser.initLight3D}\n    ];\n\n    register.forEach(function(item){\n        parser.registerParser(item.name, function(options, resourcePath){\n            var node = item.handle.call(this, options, resourcePath);\n            this.parseChild(node, options[\"Children\"], resourcePath);\n            DEBUG && node && (node.__parserName = item.name);\n            return node;\n        });\n    });\n\n\n    load.registerParser(\"timeline\", \"*\", parser);\n\n\n})(ccs._load, ccs._parser);\n"]}