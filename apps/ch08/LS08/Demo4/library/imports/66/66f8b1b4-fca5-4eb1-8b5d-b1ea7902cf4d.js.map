{"version":3,"sources":["../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/assets/frameworks/cocos2d-html5/cocos2d/kazmath/mat3.js"],"names":["window","Uint16Array","Array","Float32Array","cc","math","Matrix3","mat3","mat","kmMat3","_p","prototype","fill","matIn","adjugate","m0","m1","m2","m3","m4","m5","m6","m7","m8","identity","tmpMatrix","inverse","determinate","assignFrom","detInv","multiplyScalar","isIdentity","transpose","determinant","output","multiply","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","factor","rotationAxisAngle","axis","radians","rcos","Math","cos","rsin","sin","retMat","x","z","y","log","equals","EPSILON","i","createByRotationX","createByRotationY","createByRotationZ","createByRotation","createByScale","ret","createByTranslation","createByQuaternion","quaternion","w","rotationToAxisAngle","Quaternion","rotationMatrix","toAxisAndAngle"],"mappings":"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","file":"mat3.js","sourceRoot":"../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath","sourcesContent":["/**\n Copyright (c) 2008-2010 Ricardo Quesada\n Copyright (c) 2011-2012 cocos2d-x.org\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n Copyright (c) 2008, Luke Benstead.\n All rights reserved.\n\n Redistribution and use in source and binary forms, with or without modification,\n are permitted provided that the following conditions are met:\n\n Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n Redistributions in binary form must reproduce the above copyright notice,\n this list of conditions and the following disclaimer in the documentation\n and/or other materials provided with the distribution.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nwindow.Uint16Array = window.Uint16Array || window.Array;\nwindow.Float32Array = window.Float32Array || window.Array;\n(function(cc){\n    /**\n     * <p>\n     * A 3x3 matrix                         </br>\n     * </p>\n     * @class\n     * @param {cc.math.Matrix3} [mat3]\n     */\n    cc.math.Matrix3 = function(mat3) {\n        if (mat3 && mat3.mat) {\n            this.mat = new Float32Array(mat3.mat);\n        } else {\n            this.mat = new Float32Array(9);\n        }\n    };\n    cc.kmMat3 = cc.math.Matrix3;\n    var _p = cc.math.Matrix3.prototype;\n\n    /**\n     * Copy matrix.\n     * @fn fill\n     * @memberof cc.math.Matrix3\n     * @param  {cc.math.Matrix3} mat3 Matrix to copy\n     * @return {cc.math.Matrix3} this\n     */\n    _p.fill = function(mat3) {            //cc.kmMat3Fill\n        var mat = this.mat, matIn = mat3.mat;\n        mat[0] = matIn[0];\n        mat[1] = matIn[1];\n        mat[2] = matIn[2];\n        mat[3] = matIn[3];\n        mat[4] = matIn[4];\n        mat[5] = matIn[5];\n        mat[6] = matIn[6];\n        mat[7] = matIn[7];\n        mat[8] = matIn[8];\n        return this;\n    };\n\n    _p.adjugate = function(){   //= cc.kmMat3Adjugate\n        var mat = this.mat;\n        var m0 = mat[0], m1 = mat[1], m2 = mat[2], m3 = mat[3], m4 = mat[4],\n            m5 = mat[5], m6 = mat[6], m7 = mat[7], m8 = mat[8];\n        mat[0] = m4 * m8 - m5 * m7;\n        mat[1] = m2 * m7 - m1 * m8;\n        mat[2] = m1 * m5 - m2 * m4;\n        mat[3] = m5 * m6 - m3 * m8;\n        mat[4] = m0 * m8 - m2 * m6;\n        mat[5] = m2 * m3 - m0 * m5;\n        mat[6] = m3 * m7 - m4 * m6;\n\n        // XXX: pIn.mat[9] is invalid!\n        //mat[7] = m1 * m6 - pIn.mat[9] * m7;\n        mat[8] = m0 * m4 - m1 * m3;\n        return this;\n    };\n\n    /**\n     * Sets pOut to an identity matrix returns pOut\n     * @memberof cc.math.Matrix3\n     * @param {cc.math.Matrix3} pOut - A pointer to the matrix to set to identity\n     * @return {cc.math.Matrix3} this\n     */\n    _p.identity = function() { //cc.kmMat3Identity\n        var mat = this.mat;\n        mat[1] = mat[2] = mat[3] =\n            mat[5] = mat[6] = mat[7] = 0;\n        mat[0] = mat[4] = mat[8] = 1.0;\n        return this;\n    };\n\n    var tmpMatrix = new cc.math.Matrix3();          // internal matrix\n\n    _p.inverse = function(determinate){         //cc.kmMat3Inverse\n        if (determinate === 0.0)\n            return this;\n        tmpMatrix.assignFrom(this);\n        var detInv = 1.0 / determinate;\n        this.adjugate();\n        this.multiplyScalar(detInv);\n        return this;\n    };\n\n    _p.isIdentity = function(){    //= cc.kmMat3IsIdentity\n        var mat = this.mat;\n        return (mat[0] === 1 && mat[1] === 0 && mat[2] === 0\n        && mat[3] === 0 && mat[4] === 1 && mat[5] === 0\n        && mat[6] === 0 && mat[7] === 0 && mat[8] === 1);\n    };\n\n    _p.transpose = function(){     // cc.kmMat3Transpose\n        var mat = this.mat;\n        var  m1 = mat[1], m2 = mat[2], m3 = mat[3],  m5 = mat[5],\n            m6 = mat[6], m7 = mat[7];\n        // m0 = mat[0],m8 = mat[8], m4 = mat[4];\n        //mat[0] = m0;\n        //mat[8]  = m8;\n        //mat[4] = m4\n        mat[1] = m3;\n        mat[2] = m6;\n        mat[3] = m1;\n        mat[5] = m7;\n        mat[6] = m2;\n        mat[7] = m5;\n        return this;\n    };\n\n    _p.determinant = function(){\n        var mat = this.mat;\n        /*\n         calculating the determinant following the rule of sarus,\n         | 0  3  6 | 0  3 |\n         m = | 1  4  7 | 1  4 |\n         | 2  5  8 | 2  5 |\n         now sum up the products of the diagonals going to the right (i.e. 0,4,8)\n         and subtract the products of the other diagonals (i.e. 2,4,6)\n         */\n        var output = mat[0] * mat[4] * mat[8] + mat[1] * mat[5] * mat[6] + mat[2] * mat[3] * mat[7];\n        output -= mat[2] * mat[4] * mat[6] + mat[0] * mat[5] * mat[7] + mat[1] * mat[3] * mat[8];\n        return output;\n    };\n\n    _p.multiply = function(mat3){\n        var m1 = this.mat, m2 = mat3.mat;\n        var a0 = m1[0], a1 = m1[1], a2 = m1[2], a3 = m1[3], a4 = m1[4], a5 = m1[5],\n            a6 = m1[6], a7 = m1[7], a8 = m1[8];\n        var b0 = m2[0], b1 = m2[1], b2 = m2[2], b3 = m2[3], b4 = m2[4], b5 = m2[5],\n            b6 = m2[6], b7 = m2[7], b8 = m2[8];\n\n        m1[0] = a0 * b0 + a3 * b1 + a6 * b2;\n        m1[1] = a1 * b0 + a4 * b1 + a7 * b2;\n        m1[2] = a2 * b0 + a5 * b1 + a8 * b2;\n\n        m1[3] = a2 * b0 + a5 * b1 + a8 * b2;\n        m1[4] = a1 * b3 + a4 * b4 + a7 * b5;\n        m1[5] = a2 * b3 + a5 * b4 + a8 * b5;\n\n        m1[6] = a0 * b6 + a3 * b7 + a6 * b8;\n        m1[7] = a1 * b6 + a4 * b7 + a7 * b8;\n        m1[8] = a2 * b6 + a5 * b7 + a8 * b8;\n        return this;\n    };\n\n    _p.multiplyScalar = function(factor) {\n        var mat = this.mat;\n        mat[0] *= factor;\n        mat[1] *= factor;\n        mat[2] *= factor;\n        mat[3] *= factor;\n        mat[4] *= factor;\n        mat[5] *= factor;\n        mat[6] *= factor;\n        mat[7] *= factor;\n        mat[8] *= factor;\n        return this;\n    };\n\n    cc.math.Matrix3.rotationAxisAngle = function(axis, radians) {    //cc.kmMat3RotationAxisAngle\n        var rcos = Math.cos(radians), rsin = Math.sin(radians);\n        var retMat = new cc.math.Matrix3();\n        var mat = retMat.mat;\n\n        mat[0] = rcos + axis.x * axis.x * (1 - rcos);\n        mat[1] = axis.z * rsin + axis.y * axis.x * (1 - rcos);\n        mat[2] = -axis.y * rsin + axis.z * axis.x * (1 - rcos);\n\n        mat[3] = -axis.z * rsin + axis.x * axis.y * (1 - rcos);\n        mat[4] = rcos + axis.y * axis.y * (1 - rcos);\n        mat[5] = axis.x * rsin + axis.z * axis.y * (1 - rcos);\n\n        mat[6] = axis.y * rsin + axis.x * axis.z * (1 - rcos);\n        mat[7] = -axis.x * rsin + axis.y * axis.z * (1 - rcos);\n        mat[8] = rcos + axis.z * axis.z * (1 - rcos);\n\n        return retMat;\n    };\n\n    _p.assignFrom = function(matIn){      // cc.kmMat3Assign\n        if(this === matIn) {\n            cc.log(\"cc.math.Matrix3.assign(): current matrix equals matIn\");\n            return this;\n        }\n        var mat = this.mat, m2 = matIn.mat;\n        mat[0] = m2[0];\n        mat[1] = m2[1];\n        mat[2] = m2[2];\n        mat[3] = m2[3];\n        mat[4] = m2[4];\n        mat[5] = m2[5];\n        mat[6] = m2[6];\n        mat[7] = m2[7];\n        mat[8] = m2[8];\n        return this;\n    };\n\n    _p.equals = function(mat3) {\n        if (this === mat3)\n            return true;\n        var EPSILON = cc.math.EPSILON,m1 = this.mat, m2 = mat3.mat;\n        for (var i = 0; i < 9; ++i) {\n            if (!(m1[i] + EPSILON > m2[i] && m1[i] - EPSILON < m2[i]))\n                return false;\n        }\n        return true;\n    };\n\n    cc.math.Matrix3.createByRotationX = function(radians) {\n        var retMat = new cc.math.Matrix3(), mat = retMat.mat;\n        mat[0] = 1.0;\n        mat[1] = 0.0;\n        mat[2] = 0.0;\n\n        mat[3] = 0.0;\n        mat[4] = Math.cos(radians);\n        mat[5] = Math.sin(radians);\n\n        mat[6] = 0.0;\n        mat[7] = -Math.sin(radians);\n        mat[8] = Math.cos(radians);\n        return retMat;\n    };\n\n    cc.math.Matrix3.createByRotationY = function(radians) {\n        /*\n         |  cos(A)  0   sin(A) |\n         M = |  0       1   0      |\n         | -sin(A)  0   cos(A) |\n         */\n        var retMat = new cc.math.Matrix3(), mat = retMat.mat;\n        mat[0] = Math.cos(radians);\n        mat[1] = 0.0;\n        mat[2] = -Math.sin(radians);\n\n        mat[3] = 0.0;\n        mat[4] = 1.0;\n        mat[5] = 0.0;\n\n        mat[6] = Math.sin(radians);\n        mat[7] = 0.0;\n        mat[8] = Math.cos(radians);\n        return retMat;\n    };\n\n    cc.math.Matrix3.createByRotationZ = function(radians) {\n        /*\n         |  cos(A)  -sin(A)   0  |\n         M = |  sin(A)   cos(A)   0  |\n         |  0        0        1  |\n         */\n        var retMat = new cc.math.Matrix3(), mat = retMat.mat;\n        mat[0] = Math.cos(radians);\n        mat[1] = -Math.sin(radians);\n        mat[2] = 0.0;\n\n        mat[3] = Math.sin(radians);\n        mat[4] = Math.cos(radians);\n        mat[5] = 0.0;\n\n        mat[6] = 0.0;\n        mat[7] = 0.0;\n        mat[8] = 1.0;\n        return retMat;\n    };\n\n    cc.math.Matrix3.createByRotation = function(radians) {\n        /*\n         |  cos(A)  -sin(A)   0  |\n         M = |  sin(A)   cos(A)   0  |\n         |  0        0        1  |\n         */\n        var retMat = new cc.math.Matrix3(), mat = retMat.mat;\n        mat[0] = Math.cos(radians);\n        mat[1] = Math.sin(radians);\n        mat[2] = 0.0;\n\n        mat[3] = -Math.sin(radians);\n        mat[4] = Math.cos(radians);\n        mat[5] = 0.0;\n\n        mat[6] = 0.0;\n        mat[7] = 0.0;\n        mat[8] = 1.0;\n        return retMat;\n    };\n\n    cc.math.Matrix3.createByScale = function(x, y) {\n        var ret = new cc.math.Matrix3();\n        ret.identity();\n        ret.mat[0] = x;\n        ret.mat[4] = y;\n        return ret;\n    };\n\n    cc.math.Matrix3.createByTranslation = function(x, y){\n        var ret = new cc.math.Matrix3();\n        ret.identity();\n        ret.mat[6] = x;\n        ret.mat[7] = y;\n        return ret;\n    };\n\n    cc.math.Matrix3.createByQuaternion = function(quaternion) {     //cc.kmMat3RotationQuaternion\n        if(!quaternion)\n            return null;\n\n        var ret = new cc.math.Matrix3(), mat = ret.mat;\n        // First row\n        mat[0] = 1.0 - 2.0 * (quaternion.y * quaternion.y + quaternion.z * quaternion.z);\n        mat[1] = 2.0 * (quaternion.x * quaternion.y - quaternion.w * quaternion.z);\n        mat[2] = 2.0 * (quaternion.x * quaternion.z + quaternion.w * quaternion.y);\n\n        // Second row\n        mat[3] = 2.0 * (quaternion.x * quaternion.y + quaternion.w * quaternion.z);\n        mat[4] = 1.0 - 2.0 * (quaternion.x * quaternion.x + quaternion.z * quaternion.z);\n        mat[5] = 2.0 * (quaternion.y * quaternion.z - quaternion.w * quaternion.x);\n\n        // Third row\n        mat[6] = 2.0 * (quaternion.x * quaternion.z - quaternion.w * quaternion.y);\n        mat[7] = 2.0 * (quaternion.y * quaternion.z + quaternion.w * quaternion.x);\n        mat[8] = 1.0 - 2.0 * (quaternion.x * quaternion.x + quaternion.y * quaternion.y);\n        return ret;\n    };\n\n    _p.rotationToAxisAngle = function() {           //cc.kmMat3RotationToAxisAngle\n        return cc.math.Quaternion.rotationMatrix(this).toAxisAndAngle();\n    }\n})(cc);\n"]}