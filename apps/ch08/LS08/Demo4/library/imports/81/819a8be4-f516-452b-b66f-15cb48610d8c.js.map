{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script/jsb_opengl.js"],"names":["gl","createTexture","ret","_createTexture","texture_id","createBuffer","_createBuffer","buffer_id","createRenderbuffer","_createRenderuffer","renderbuffer_id","createFramebuffer","_createFramebuffer","framebuffer_id","createProgram","_createProgram","program_id","createShader","shaderType","_createShader","shader_id","deleteTexture","texture","_deleteTexture","deleteBuffer","buffer","_deleteBuffer","deleteRenderbuffer","_deleteRenderbuffer","deleteFramebuffer","_deleteFramebuffer","deleteProgram","program","_deleteProgram","deleteShader","shader","_deleteShader","bindTexture","target","_bindTexture","bindBuffer","_bindBuffer","bindRenderBuffer","_bindRenderbuffer","bindFramebuffer","_bindFramebuffer","getUniform","location","location_id","_getUniform","compileShader","_compileShader","shaderSource","source","_shaderSource","getShaderParameter","e","_getShaderParameter","getShaderInfoLog","_getShaderInfoLog","attachShader","_attachShader","linkProgram","_linkProgram","getProgramParameter","_getProgramParameter","useProgram","_useProgram","getAttribLocation","name","_getAttribLocation","getUniformLocation","_getUniformLocation","getActiveAttrib","index","_getActiveAttrib","getActiveUniform","_getActiveUniform","getAttachedShaders","_getAttachedShaders","texImage2D","arguments","length","_texImage2D","apply","texSubImage2D","_texSubImage2D","getExtension","extension","extensions","getSupportedExtensions","indexOf"],"mappings":"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","file":"jsb_opengl.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-x/cocos/scripting/js-bindings/script","sourcesContent":["/*\n * OpenGL ES 2.0 / WebGL helper functions\n *\n * According to the WebGL specification ( For further info see:s http://www.khronos.org/registry/webgl/specs/latest/webgl.idl ),\n * the API should work with objects like WebGLTexture, WebGLBuffer, WebGLRenderBuffer, WebGLFramebuffer, WebGLProgram, WebGLShader.\n * OpenGL ES 2.0 doesn't have \"objects\" concepts: Instead it uses ids (GLints). So, these objects are emulated in this thin wrapper.\n *\n * Copyright (c) 2013-2016 Chukong Technologies Inc.\n * Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nvar gl = gl || {};\n\n//\n// Create functions\n//\ngl.createTexture = function() {\n    // Returns a \"WebGLTexture\" object\n    var ret = gl._createTexture();\n    return { texture_id:ret };\n};\n\ngl.createBuffer = function() {\n    // Returns a \"WebGLBuffer\" object\n    var ret = gl._createBuffer();\n    return { buffer_id:ret };\n};\n\ngl.createRenderbuffer = function() {\n    // Returns a \"WebGLRenderBuffer\" object\n    var ret = gl._createRenderuffer();\n    return { renderbuffer_id:ret};\n};\n\ngl.createFramebuffer = function() {\n    // Returns a \"WebGLFramebuffer\" object\n    var ret = gl._createFramebuffer();\n    return {framebuffer_id:ret};\n};\n\ngl.createProgram = function() {\n    // Returns a \"WebGLProgram\" object\n    var ret = gl._createProgram();\n    return {program_id:ret};\n};\n\ngl.createShader = function(shaderType) {\n    // Returns a \"WebGLShader\" object\n    var ret = gl._createShader(shaderType);\n    return {shader_id:ret};\n};\n\n//\n// Delete Functions\n//\ngl.deleteTexture = function(texture) {\n    var texture_id = texture.texture_id;\n    // Accept numbers too. eg: gl.deleteTexture(0)\n    if( typeof texture === 'number' )\n        texture_id = texture;\n\n    gl._deleteTexture(texture_id);\n};\n\ngl.deleteBuffer = function(buffer) {\n    var buffer_id = buffer.buffer_id;\n    // Accept numbers too. eg: gl.deleteBuffer(0)\n    if( typeof buffer === 'number' )\n        buffer_id = buffer;\n\n    gl._deleteBuffer(buffer_id);\n};\n\ngl.deleteRenderbuffer = function(buffer) {\n    var buffer_id = buffer.renderbuffer_id;\n    // Accept numbers too. eg: gl.deleteRenderbuffer(0)\n    if( typeof buffer === 'number' )\n        buffer_id = buffer;\n\n    gl._deleteRenderbuffer(renderbuffer_id);\n};\n\ngl.deleteFramebuffer = function(buffer) {\n    var buffer_id = buffer.framebuffer_id;\n    // Accept numbers too. eg: gl.deleteFramebuffer(0)\n    if( typeof buffer === 'number' )\n        buffer_id = buffer;\n\n    gl._deleteFramebuffer(buffer_id);\n};\n\ngl.deleteProgram = function(program) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.deleteShader(0)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    gl._deleteProgram(program_id);\n};\n\ngl.deleteShader = function(shader) {\n    var shader_id = shader.shader_id;\n    // Accept numbers too. eg: gl.deleteShader(0)\n    if( typeof shader === 'number' )\n        shader_id = shader;\n\n    gl._deleteShader(shader_id);\n};\n\n//\n// Bind Related\n//\n// void bindTexture(GLenum target, WebGLTexture? texture);\ngl.bindTexture = function(target, texture) {\n\n    var texture_id;\n    // Accept numbers too. eg: gl.bindTexture(0)\n    if( typeof texture === 'number' )\n        texture_id = texture;\n    else if( texture === null )\n        texture_id = 0;\n    else\n        texture_id = texture.texture_id;\n\n    gl._bindTexture( target, texture_id );\n};\n\n// void bindBuffer(GLenum target, WebGLBuffer? buffer);\ngl.bindBuffer = function(target, buffer) {\n    var buffer_id;\n    // Accept numbers too. eg: gl.bindBuffer(0)\n    if( typeof buffer === 'number' )\n        buffer_id = buffer;\n    else if( buffer === null )\n        buffer_id = 0;\n    else\n        buffer_id = buffer.buffer_id;\n\n    gl._bindBuffer(target, buffer_id);\n};\n\n// void bindRenderbuffer(GLenum target, WebGLRenderbuffer? renderbuffer);\ngl.bindRenderBuffer = function(target, buffer) {\n    var buffer_id;\n\n    // Accept numbers too. eg: gl.bindRenderbuffer(0)\n    if( typeof buffer === 'number' )\n        buffer_id = buffer;\n    else if( buffer === null )\n        buffer_id = 0;\n    else\n        buffer_id = buffer.buffer_id;\n\n    gl._bindRenderbuffer(target, buffer_id);\n};\n\n// void bindFramebuffer(GLenum target, WebGLFramebuffer? framebuffer);\ngl.bindFramebuffer = function(target, buffer) {\n    var buffer_id;\n\n    // Accept numbers too. eg: gl.bindFramebuffer(0)\n    if( typeof buffer === 'number' )\n        buffer_id = buffer;\n    else if( buffer === null )\n        buffer_id = 0;\n    else\n        buffer_id = buffer.buffer_id;\n\n    gl._bindFramebuffer(target, buffer_id);\n};\n\n//\n// Uniform related\n//\n// any getUniform(WebGLProgram? program, WebGLUniformLocation? location);\ngl.getUniform = function(program, location) {\n    var program_id;\n    var location_id;\n\n    // Accept numbers too. eg: gl.bindFramebuffer(0)\n    if( typeof program === 'number' )\n        program_id = program;\n    else\n        program_id = program.program_id;\n\n    if( typeof location === 'number' )\n        location_id = location;\n    else\n        location_id = location.location_id;\n\n    return gl._getUniform(program_id, location_id);\n};\n\n// gl.uniformMatrix2fv = function(location, bool, matrix) {\n//  gl._uniformMatrix2fv(program.program_id, bool, matrix);\n// };\n\n// gl.uniformMatrix3fv = function(program, bool, matrix) {\n//  gl._uniformMatrix3fv(program.program_id, bool, matrix);\n// };\n\n// gl.uniformMatrix4fv = function(program, bool, matrix) {\n//  gl._uniformMatrix4fv(program.program_id, bool, matrix);\n// };\n\n\n//\n// Shader related\n//\n// void compileShader(WebGLShader? shader);\ngl.compileShader = function(shader) {\n    gl._compileShader( shader.shader_id);\n};\n\n// void shaderSource(WebGLShader? shader, DOMString source);\ngl.shaderSource = function(shader, source) {\n    gl._shaderSource(shader.shader_id, source);\n};\n\n// any getShaderParameter(WebGLShader? shader, GLenum pname);\ngl.getShaderParameter = function(shader, e) {\n    return gl._getShaderParameter(shader.shader_id,e);\n};\n\n// DOMString? getShaderInfoLog(WebGLShader? shader);\ngl.getShaderInfoLog = function(shader) {\n    return gl._getShaderInfoLog(shader.shader_id);\n};\n\n//\n// program related\n//\n// void attachShader(WebGLProgram? program, WebGLShader? shader);\ngl.attachShader = function(program, shader) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.attachShader(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    gl._attachShader(program_id, shader.shader_id);\n};\n\n// void linkProgram(WebGLProgram? program);\ngl.linkProgram = function(program) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.linkProgram(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    gl._linkProgram(program_id);\n};\n\n\n// any getProgramParameter(WebGLProgram? program, GLenum pname);\ngl.getProgramParameter = function(program, e) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.getProgramParameter(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    return gl._getProgramParameter(program_id, e);\n};\n\n// void useProgram(WebGLProgram? program);\ngl.useProgram = function(program) {\n    var program_id;\n    // Accept numbers too. eg: gl.useProgram(17)\n    if( typeof program === 'number' )\n        program_id = program;\n    else\n        program_id = program.program_id;\n\n    gl._useProgram (program_id);\n};\n\n\n// [WebGLHandlesContextLoss] GLint getAttribLocation(WebGLProgram? program, DOMString name);\ngl.getAttribLocation = function(program, name) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.getAttribLocation(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    return gl._getAttribLocation(program_id, name);\n};\n\n// WebGLUniformLocation? getUniformLocation(WebGLProgram? program, DOMString name);\ngl.getUniformLocation = function(program, name) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.getUniformLocation(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    // XXX: it should return an object, not an integer\n    return gl._getUniformLocation(program_id,name);\n};\n\n\n// WebGLActiveInfo? getActiveAttrib(WebGLProgram? program, GLuint index);\ngl.getActiveAttrib = function(program, index) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.getActiveAttrib(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    return gl._getActiveAttrib(program_id, index);\n};\n\n// WebGLActiveInfo? getActiveUniform(WebGLProgram? program, GLuint index);\ngl.getActiveUniform = function(program, index) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.getActiveUniform(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    return gl._getActiveUniform(program_id, index);\n};\n\n// sequence<WebGLShader>? getAttachedShaders(WebGLProgram? program);\ngl.getAttachedShaders = function(program) {\n    var program_id = program.program_id;\n    // Accept numbers too. eg: gl.getAttachedShaders(17)\n    if( typeof program === 'number' )\n        program_id = program;\n\n    return gl._getAttachedShaders(program_id);\n};\n\n//\n// Texture functions\n//\n\n// XXX: Currently only the 1st one is supported\n// void texImage2D(GLenum target, GLint level, GLenum internalformat, GLsizei width, GLsizei height, GLint border, GLenum format, GLenum type, ArrayBufferView? pixels);\n// void texImage2D(GLenum target, GLint level, GLenum internalformat, GLenum format, GLenum type, ImageData? pixels);\n// void texImage2D(GLenum target, GLint level, GLenum internalformat, GLenum format, GLenum type, HTMLImageElement image); // May throw DOMException\n// void texImage2D(GLenum target, GLint level, GLenum internalformat, GLenum format, GLenum type, HTMLCanvasElement canvas); // May throw DOMException\n// void texImage2D(GLenum target, GLint level, GLenum internalformat, GLenum format, GLenum type, HTMLVideoElement video); // May throw DOMException\ngl.texImage2D = function() {\n    if( arguments.length !=  9)\n        throw \"texImage2D: Unsupported number of parameters:\" + arguments.length;\n\n    gl._texImage2D.apply(this, arguments);\n};\n\n// XXX: Currently only the 1st one is supported\n// void texSubImage2D(GLenum target, GLint level, GLint xoffset, GLint yoffset, GLsizei width, GLsizei height, GLenum format, GLenum type, ArrayBufferView? pixels);\n// void texSubImage2D(GLenum target, GLint level, GLint xoffset, GLint yoffset, GLenum format, GLenum type, ImageData? pixels);\n// void texSubImage2D(GLenum target, GLint level, GLint xoffset, GLint yoffset, GLenum format, GLenum type, HTMLImageElement image); // May throw DOMException\n// void texSubImage2D(GLenum target, GLint level, GLint xoffset, GLint yoffset, GLenum format, GLenum type, HTMLCanvasElement canvas); // May throw DOMException\n// void texSubImage2D(GLenum target, GLint level, GLint xoffset, GLint yoffset, GLenum format, GLenum type, HTMLVideoElement video); // May throw DOMException\ngl.texSubImage2D = function() {\n    if( arguments.length !=  9)\n        throw \"texImage2D: Unsupported number of parameters\";\n\n    gl._texSubImage2D.apply(this, arguments);\n};\n\n//\n// Extensions\n//\n// From the WebGL spec:\n// Returns an object if, and only if, name is an ASCII case-insensitive match [HTML] for one of the names returned from getSupportedExtensions;\n// otherwise, returns null. The object returned from getExtension contains any constants or functions provided by the extension.\n// A returned object may have no constants or functions if the extension does not define any, but a unique object must still be returned.\n// That object is used to indicate that the extension has been enabled.\n// XXX: The returned object must return the functions and constants.\ngl.getExtension = function(extension) {\n    var extensions = gl.getSupportedExtensions();\n    if( extensions.indexOf(extension) > -1 )\n        return {};\n    return null;\n};\n"]}