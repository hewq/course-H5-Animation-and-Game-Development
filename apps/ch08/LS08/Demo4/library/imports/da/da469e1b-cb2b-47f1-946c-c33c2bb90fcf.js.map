{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget/assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget/UIPageViewIndicator.js"],"names":["ccui","PageViewIndicator","ProtectedNode","extend","_direction","_indexNodes","_currentIndexNode","_spaceBetweenIndexNodes","_indexNodesScale","_indexNodesColor","_useDefaultTexture","_indexNodesTextureFile","_indexNodesTexType","Widget","LOCAL_TEXTURE","_className","ctor","cc","prototype","call","ScrollView","DIR_HORIZONTAL","SPACE_BETWEEN_INDEX_NODES_DEFAULT","color","WHITE","helper","_createSpriteFromBase64","CIRCLE_IMAGE","CIRCLE_IMAGE_KEY","setVisible","addProtectedChild","setDirection","direction","_rearrange","reset","numberOfTotalPages","length","_increaseNumberOfPages","_decreaseNumberOfPages","indicate","index","setPosition","getPosition","horizontal","indexNodeSize","getContentSize","sizeValue","width","height","numberOfItems","totalSizeValue","posValue","i","position","p","setSpaceBetweenIndexNodes","spaceBetweenIndexNodes","getSpaceBetweenIndexNodes","setSelectedIndexColor","setColor","getSelectedIndexColor","getColor","setIndexNodesColor","indexNodesColor","getIndexNodesColor","locRealColor","r","g","b","a","setIndexNodesScale","indexNodesScale","setScale","getIndexNodesScale","setIndexNodesTexture","texName","texType","undefined","setTexture","PLIST_TEXTURE","setSpriteFrame","indexNode","Sprite","initWithFile","initWithSpriteFrameName","push","removeProtectedChild","splice","clear","_p","defineGetterSetter"],"mappings":"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","file":"UIPageViewIndicator.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget","sourcesContent":["/****************************************************************************\n Copyright (c) 2015 Neo Kim (neo.kim@neofect.com)\n Copyright (c) 2015 Nikita Besshaposhnikov (nikita.besshaposhnikov@gmail.com)\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n/**\n * The PageViewIndicator control of Cocos UI <br/>\n * Indicator being attached to page view.\n * @class\n * @extends ccui.ProtectedNode\n * @property {Number}               spaceBetweenIndexNodes             - Space between index nodes in PageViewIndicator\n */\nccui.PageViewIndicator = ccui.ProtectedNode.extend(/** @lends ccui.PageViewIndicator# */{\n    _direction: null,\n    _indexNodes: null,\n    _currentIndexNode: null,\n    _spaceBetweenIndexNodes: 0,\n    _indexNodesScale: 1.0,\n    _indexNodesColor: null,\n    _useDefaultTexture: true,\n    _indexNodesTextureFile: \"\",\n    _indexNodesTexType: ccui.Widget.LOCAL_TEXTURE,\n\n    _className: \"PageViewIndicator\",\n\n    /**\n     * Allocates and initializes a PageViewIndicator.\n     * Constructor of ccui.PageViewIndicator. override it to extend the construction behavior, remember to call \"this._super()\" in the extended \"ctor\" function.\n     */\n    ctor: function () {\n        cc.ProtectedNode.prototype.ctor.call(this);\n\n        this._direction = ccui.ScrollView.DIR_HORIZONTAL;\n        this._indexNodes = [];\n        this._spaceBetweenIndexNodes = ccui.PageViewIndicator.SPACE_BETWEEN_INDEX_NODES_DEFAULT;\n        this._indexNodesColor = cc.color.WHITE;\n\n        this._currentIndexNode = ccui.helper._createSpriteFromBase64(ccui.PageViewIndicator.CIRCLE_IMAGE, ccui.PageViewIndicator.CIRCLE_IMAGE_KEY);\n        this._currentIndexNode.setVisible(false);\n        this.addProtectedChild(this._currentIndexNode, 1);\n\n        // this.setCascadeColorEnabled(true);\n        // this.setCascadeOpacityEnabled(true);\n    },\n\n    /**\n     * Sets direction of indicator\n     * @param {ccui.ScrollView.DIR_NONE | ccui.ScrollView.DIR_VERTICAL | ccui.ScrollView.DIR_HORIZONTAL | ccui.ScrollView.DIR_BOTH} direction\n     */\n    setDirection: function (direction) {\n        this._direction = direction;\n        this._rearrange();\n    },\n\n    /**\n     * resets indicator with new page count.\n     * @param {number} numberOfTotalPages\n     */\n    reset: function (numberOfTotalPages) {\n        while (this._indexNodes.length < numberOfTotalPages) {\n            this._increaseNumberOfPages();\n        }\n        while (this._indexNodes.length > numberOfTotalPages) {\n            this._decreaseNumberOfPages();\n        }\n        this._rearrange();\n        this._currentIndexNode.setVisible(this._indexNodes.length > 0);\n    },\n\n    /**\n     * Indicates node by index\n     * @param {number} index\n     */\n    indicate: function (index) {\n        if (index < 0 || index >= this._indexNodes.length) {\n            return;\n        }\n        this._currentIndexNode.setPosition(this._indexNodes[index].getPosition());\n    },\n\n    _rearrange: function () {\n        if (this._indexNodes.length === 0) {\n            return;\n        }\n\n        var horizontal = (this._direction === ccui.ScrollView.DIR_HORIZONTAL);\n\n        // Calculate total size\n        var indexNodeSize = this._indexNodes[0].getContentSize();\n        var sizeValue = (horizontal ? indexNodeSize.width : indexNodeSize.height);\n\n        var numberOfItems = this._indexNodes.length;\n        var totalSizeValue = sizeValue * numberOfItems + this._spaceBetweenIndexNodes * (numberOfItems - 1);\n\n        var posValue = -(totalSizeValue / 2) + (sizeValue / 2);\n        for (var i = 0; i < this._indexNodes.length; ++i) {\n            var position;\n            if (horizontal) {\n                position = cc.p(posValue, indexNodeSize.height / 2.0);\n            }\n            else {\n                position = cc.p(indexNodeSize.width / 2.0, -posValue);\n            }\n            this._indexNodes[i].setPosition(position);\n            posValue += sizeValue + this._spaceBetweenIndexNodes;\n        }\n    },\n\n    /**\n     * Sets space between index nodes.\n     * @param {number} spaceBetweenIndexNodes\n     */\n    setSpaceBetweenIndexNodes: function (spaceBetweenIndexNodes) {\n        if (this._spaceBetweenIndexNodes === spaceBetweenIndexNodes) {\n            return;\n        }\n        this._spaceBetweenIndexNodes = spaceBetweenIndexNodes;\n        this._rearrange();\n    },\n\n    /**\n     * Gets space between index nodes.\n     * @returns {number}\n     */\n    getSpaceBetweenIndexNodes: function () {\n        return this._spaceBetweenIndexNodes;\n    },\n\n    /**\n     * Sets color of selected index node\n     * @param {cc.Color} color\n     */\n    setSelectedIndexColor: function (color) {\n        this._currentIndexNode.setColor(color);\n    },\n\n    /**\n     * Gets color of selected index node\n     * @returns {cc.Color}\n     */\n    getSelectedIndexColor: function () {\n        return this._currentIndexNode.getColor();\n    },\n\n    /**\n     * Sets color of index nodes\n     * @param {cc.Color} indexNodesColor\n     */\n    setIndexNodesColor: function (indexNodesColor) {\n        this._indexNodesColor = indexNodesColor;\n\n        for (var i = 0; i < this._indexNodes.length; ++i) {\n            this._indexNodes[i].setColor(indexNodesColor);\n        }\n    },\n\n    /**\n     * Gets color of index nodes\n     * @returns {cc.Color}\n     */\n    getIndexNodesColor: function () {\n        var locRealColor = this._indexNodesColor;\n        return cc.color(locRealColor.r, locRealColor.g, locRealColor.b, locRealColor.a);\n    },\n\n    /**\n     * Sets scale of index nodes\n     * @param {Number} indexNodesScale\n     */\n    setIndexNodesScale: function (indexNodesScale) {\n        if (this._indexNodesScale === indexNodesScale) {\n            return;\n        }\n        this._indexNodesScale = indexNodesScale;\n\n        this._currentIndexNode.setScale(indexNodesScale);\n\n        for (var i = 0; i < this._indexNodes.length; ++i) {\n            this._indexNodes[i].setScale(this, _indexNodesScale);\n        }\n\n        this._rearrange();\n    },\n\n    /**\n     * Gets scale of index nodes\n     * @returns {Number}\n     */\n    getIndexNodesScale: function () {\n        return this._indexNodesScale;\n    },\n\n    /**\n     * Sets texture of index nodes\n     * @param {String} texName\n     * @param {ccui.Widget.LOCAL_TEXTURE | ccui.Widget.PLIST_TEXTURE} [texType = ccui.Widget.LOCAL_TEXTURE]\n     */\n    setIndexNodesTexture: function (texName, texType) {\n        if (texType === undefined)\n            texType = ccui.Widget.LOCAL_TEXTURE;\n        \n        this._useDefaultTexture = false;\n        this._indexNodesTextureFile = texName;\n        this._indexNodesTexType = texType;\n\n        switch (texType) {\n            case ccui.Widget.LOCAL_TEXTURE:\n                this._currentIndexNode.setTexture(texName);\n                for (var i = 0; i < this._indexNodes.length; ++i) {\n                    this._indexNodes[i].setTexture(texName);\n                }\n                break;\n            case ccui.Widget.PLIST_TEXTURE:\n                this._currentIndexNode.setSpriteFrame(texName);\n                for (var i = 0; i < this._indexNodes.length; ++i) {\n                    this._indexNodes[i].setSpriteFrame(texName);\n                }\n                break;\n            default:\n                break;\n        }\n\n        this._rearrange();\n    },\n\n    _increaseNumberOfPages: function () {\n        var indexNode;\n\n        if (this._useDefaultTexture) {\n            indexNode = ccui.helper._createSpriteFromBase64(ccui.PageViewIndicator.CIRCLE_IMAGE, ccui.PageViewIndicator.CIRCLE_IMAGE_KEY);\n        }\n        else {\n            indexNode = new cc.Sprite();\n            switch (this._indexNodesTexType) {\n                case ccui.Widget.LOCAL_TEXTURE:\n                    indexNode.initWithFile(this._indexNodesTextureFile);\n                    break;\n                case  ccui.Widget.PLIST_TEXTURE:\n                    indexNode.initWithSpriteFrameName(this._indexNodesTextureFile);\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        indexNode.setColor(this._indexNodesColor);\n        indexNode.setScale(this._indexNodesScale);\n\n        this.addProtectedChild(indexNode);\n        this._indexNodes.push(indexNode);\n    },\n\n    _decreaseNumberOfPages: function () {\n        if (this._indexNodes.length === 0) {\n            return;\n        }\n        this.removeProtectedChild(this._indexNodes[0]);\n        this._indexNodes.splice(0, 1);\n    },\n\n    /**\n     * Removes all index nodes.\n     */\n    clear: function () {\n        for (var i = 0; i < this._indexNodes.length; ++i) {\n            this.removeProtectedChild(this._indexNodes[i]);\n        }\n        this._indexNodes.length = 0;\n        this._currentIndexNode.setVisible(false);\n    }\n\n});\n\nvar _p = ccui.PageViewIndicator.prototype;\n\n// Extended properties\n/** @expose */\n_p.spaceBetweenIndexNodes;\ncc.defineGetterSetter(_p, \"spaceBetweenIndexNodes\", _p.getSpaceBetweenIndexNodes, _p.setSpaceBetweenIndexNodes);\n/**\n * @ignore\n */\nccui.PageViewIndicator.SPACE_BETWEEN_INDEX_NODES_DEFAULT = 23;\nccui.PageViewIndicator.CIRCLE_IMAGE_KEY = \"/__circle_image\";\nccui.PageViewIndicator.CIRCLE_IMAGE = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAA8ElEQVRIx62VyRGCQBBF+6gWRCEmYDIQkhiBCgHhSclC8YqWzOV5oVzKAYZp3r1/9fpbxAIBMTsKrjx5cqVgR0wgLhCRUWOjJiPqD56xoaGPhpRZV/iSEy6crHmw5oIrF9b/lVeMofrJgjlnxlIy/wik+JB+mme8BExbBhm+5CJC2LE2LtSEQoyGWDioBA5CoRIohJtK4CYDxzNEM4GAugR1E9VjVC+SZpXvhCJCrjomESLvc17pDGX7bWmlh6UtpjPVCWy9zaJ0TD7qfm3pwERMz2trRVZk3K3BD/L34AY+dEDCniMVBkPFkT2J/b2/AIV+dRpFLOYoAAAAAElFTkSuQmCC\";\n"]}