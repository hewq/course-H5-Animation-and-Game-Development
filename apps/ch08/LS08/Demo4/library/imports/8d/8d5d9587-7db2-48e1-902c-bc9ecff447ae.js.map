{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark/assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark/kmMat4AreEqual.js"],"names":["kernelConfig","kernelName","kernelInit","init","kernelCleanup","cleanup","kernelSimd","simd","kernelNonSimd","nonSimd","kernelIterations","benchmarks","add","Benchmark","T1","cc","kmMat4","T2","T1x4","T2x4","areEqual","areEqualSIMD","equals","A","B","i","mat","n","equalsSIMD"],"mappings":";;;;;;AAAA;;AAEC,aAAY;;AAEX;AACA,MAAIA,eAAe;AACjBC,gBAAkB,gBADD;AAEjBC,gBAAkBC,IAFD;AAGjBC,mBAAkBC,OAHD;AAIjBC,gBAAkBC,IAJD;AAKjBC,mBAAkBC,OALD;AAMjBC,sBAAkB;AAND,GAAnB;;AASA;AACAC,aAAWC,GAAX,CAAe,IAAIC,SAAJ,CAAcb,YAAd,CAAf;;AAEA;AACA,MAAIc,KAAK,IAAIC,GAAGC,MAAP,EAAT;AACA,MAAIC,KAAK,IAAIF,GAAGC,MAAP,EAAT;AACA,MAAIE,OAAO,IAAIH,GAAGC,MAAP,EAAX;AACA,MAAIG,OAAO,IAAIJ,GAAGC,MAAP,EAAX;AACA,MAAII,QAAJ,EAAcC,YAAd;;AAEA,WAASC,MAAT,CAAgBC,CAAhB,EAAmBC,CAAnB,EAAsB;AACpB,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;AAC3B,UAAIF,EAAEE,CAAF,KAAQD,EAAEC,CAAF,CAAZ,EACE,OAAO,KAAP;AACH;AACD,WAAO,IAAP;AACD;;AAED,WAAStB,IAAT,GAAgB;AACdW,OAAGY,GAAH,CAAO,CAAP,IAAY,GAAZ;AACAZ,OAAGY,GAAH,CAAO,CAAP,IAAY,GAAZ;AACAZ,OAAGY,GAAH,CAAO,EAAP,IAAa,GAAb;AACAZ,OAAGY,GAAH,CAAO,EAAP,IAAa,GAAb;;AAEAT,OAAGS,GAAH,CAAO,CAAP,IAAY,GAAZ;AACAT,OAAGS,GAAH,CAAO,CAAP,IAAY,GAAZ;AACAT,OAAGS,GAAH,CAAO,EAAP,IAAa,GAAb;AACAT,OAAGS,GAAH,CAAO,EAAP,IAAa,GAAb;;AAEAR,SAAKQ,GAAL,CAAS,CAAT,IAAc,GAAd;AACAR,SAAKQ,GAAL,CAAS,CAAT,IAAc,GAAd;AACAR,SAAKQ,GAAL,CAAS,EAAT,IAAe,GAAf;AACAR,SAAKQ,GAAL,CAAS,EAAT,IAAe,GAAf;;AAEAP,SAAKO,GAAL,CAAS,CAAT,IAAc,GAAd;AACAP,SAAKO,GAAL,CAAS,CAAT,IAAc,GAAd;AACAP,SAAKO,GAAL,CAAS,EAAT,IAAe,GAAf;AACAP,SAAKO,GAAL,CAAS,EAAT,IAAe,GAAf;;AAEAjB,YAAQ,CAAR;AACAF,SAAK,CAAL;;AAEA,WAAOe,OAAOR,GAAGY,GAAV,EAAeR,KAAKQ,GAApB,KAA4BJ,OAAOL,GAAGS,GAAV,EAAeP,KAAKO,GAApB,CAA5B,IAAyDN,aAAaC,YAA7E;AAED;;AAED,WAAShB,OAAT,GAAmB;AACjB,WAAOF,MAAP,CADiB,CACF;AAChB;;AAED,WAASM,OAAT,CAAiBkB,CAAjB,EAAoB;AAClB,SAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAIE,CAApB,EAAuBF,GAAvB,EAA4B;AAC1BL,iBAAWN,GAAGQ,MAAH,CAAUL,EAAV,CAAX;AACD;AACF;;AAED,WAASV,IAAT,CAAcoB,CAAd,EAAiB;AACf,SAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAIE,CAApB,EAAuBF,GAAvB,EAA4B;AAC1BJ,qBAAeH,KAAKU,UAAL,CAAgBT,IAAhB,CAAf;AACD;AACF;AAEF,CA1EA,GAAD","file":"kmMat4AreEqual.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/cocos2d/kazmath/simd_benchmark","sourcesContent":["// kmMat4AreEqual\n\n(function () {\n\n  // Kernel configuration\n  var kernelConfig = {\n    kernelName:       \"kmMat4AreEqual\",\n    kernelInit:       init,\n    kernelCleanup:    cleanup,\n    kernelSimd:       simd,\n    kernelNonSimd:    nonSimd,\n    kernelIterations: 10000\n  };\n\n  // Hook up to the harness\n  benchmarks.add(new Benchmark(kernelConfig));\n\n  // Benchmark data, initialization and kernel functions\n  var T1 = new cc.kmMat4();\n  var T2 = new cc.kmMat4();\n  var T1x4 = new cc.kmMat4();\n  var T2x4 = new cc.kmMat4();\n  var areEqual, areEqualSIMD;\n\n  function equals(A, B) {\n    for (var i = 0; i < 16; ++i) {\n      if (A[i] != B[i])\n        return false;\n    }\n    return true;\n  }\n\n  function init() {\n    T1.mat[0] = 1.0;\n    T1.mat[5] = 1.0;\n    T1.mat[10] = 1.0;\n    T1.mat[15] = 1.0;\n\n    T2.mat[0] = 1.0;\n    T2.mat[5] = 1.0;\n    T2.mat[10] = 1.0;\n    T2.mat[15] = 1.0;\n\n    T1x4.mat[0] = 1.0;\n    T1x4.mat[5] = 1.0;\n    T1x4.mat[10] = 1.0;\n    T1x4.mat[15] = 1.0;\n\n    T2x4.mat[0] = 1.0;\n    T2x4.mat[5] = 1.0;\n    T2x4.mat[10] = 1.0;\n    T2x4.mat[15] = 1.0;\n\n    nonSimd(1);\n    simd(1);\n\n    return equals(T1.mat, T1x4.mat) && equals(T2.mat, T2x4.mat) && (areEqual === areEqualSIMD);\n    \n  }\n\n  function cleanup() {\n    return init(); // Sanity checking before and after are the same\n  }\n\n  function nonSimd(n) {\n    for (var i = 0; i < n; i++) {\n      areEqual = T1.equals(T2);\n    }\n  }\n\n  function simd(n) {\n    for (var i = 0; i < n; i++) {\n      areEqualSIMD = T1x4.equalsSIMD(T2x4);\n    }\n  }\n\n} ());\n"]}