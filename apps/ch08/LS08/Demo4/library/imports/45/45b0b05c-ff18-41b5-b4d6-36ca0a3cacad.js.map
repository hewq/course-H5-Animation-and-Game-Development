{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/extensions/gui/control-extension/assets/frameworks/cocos2d-html5/extensions/gui/control-extension/CCControlStepper.js"],"names":["cc","CONTROL_STEPPER_PARTMINUS","CONTROL_STEPPER_PARTPLUS","CONTROL_STEPPER_PARTNONE","CONTROL_STEPPER_LABELCOLOR_ENABLED","color","CONTROL_STEPPER_LABELCOLOR_DISABLED","CONTROL_STEPPER_LABELFONT","AUTOREPEAT_DELTATIME","AUTOREPEAT_INCREASETIME_INCREMENT","ControlStepper","Control","extend","_minusSprite","_plusSprite","_minusLabel","_plusLabel","_value","_continuous","_autorepeat","_wraps","_minimumValue","_maximumValue","_stepValue","_touchInsideFlag","_touchedPart","_autorepeatCount","_className","ctor","minusSprite","plusSprite","prototype","call","initWithMinusSpriteAndPlusSprite","Error","init","ignoreAnchorPointForPosition","setMinusSprite","setPosition","getContentSize","width","height","addChild","setMinusLabel","LabelTTF","size","TEXT_ALIGNMENT_CENTER","VERTICAL_TEXT_ALIGNMENT_CENTER","setColor","setPlusSprite","setPlusLabel","maxRect","ControlUtils","CCRectUnion","getBoundingBox","setContentSize","setWraps","wraps","setValue","getWraps","setMinimumValue","minimumValue","getMinimumValue","setMaximumValue","maximumValue","getMaximumValue","value","setValueWithSendingEvent","getValue","setStepValue","stepValue","getStepValue","isContinuous","send","sendActionsForControlEvents","CONTROL_EVENT_VALUECHANGED","startAutorepeat","schedule","update","REPEAT_FOREVER","stopAutorepeat","unschedule","dt","updateLayoutUsingTouchLocation","location","x","GRAY","WHITE","onTouchBegan","touch","event","isTouchInside","isEnabled","isVisible","getTouchLocation","onTouchMoved","onTouchEnded","sprite","getMinusSprite","getPlusSprite","getMinusLabel","getPlusLabel","_p","defineGetterSetter","minValue","maxValue","continuous","minusLabel","plusLabel","create"],"mappings":"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","file":"CCControlStepper.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/extensions/gui/control-extension","sourcesContent":["/**\n * Copyright (c) 2008-2010 Ricardo Quesada\n * Copyright (c) 2011-2012 cocos2d-x.org\n * Copyright (c) 2013-2014 Chukong Technologies Inc.\n *\n * http://www.cocos2d-x.org\n *\n * Copyright 2012 Yannick Loriot. All rights reserved.\n * http://yannickloriot.com\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n/**\n * @ignore\n */\ncc.CONTROL_STEPPER_PARTMINUS = 0;\ncc.CONTROL_STEPPER_PARTPLUS = 1;\ncc.CONTROL_STEPPER_PARTNONE = 2;\ncc.CONTROL_STEPPER_LABELCOLOR_ENABLED = cc.color(55, 55, 55);\ncc.CONTROL_STEPPER_LABELCOLOR_DISABLED = cc.color(147, 147, 147);\ncc.CONTROL_STEPPER_LABELFONT = \"CourierNewPSMT\";\ncc.AUTOREPEAT_DELTATIME = 0.15;\ncc.AUTOREPEAT_INCREASETIME_INCREMENT = 12;\n\n/**\n * ControlStepper: Stepper ui component.\n * @class\n * @extends cc.Control\n *\n * @property {Boolean}      wraps       - Indicate whether the stepper wraps\n * @property {Number}       value       - The value of the stepper control\n * @property {Number}       minValue    - The minimum value of the stepper control\n * @property {Number}       maxValue    - The maximum value of the stepper control\n * @property {Number}       stepValue   - The interval value for each step of the stepper control\n * @property {Boolean}      continuous  - <@readonly> Indicate whether the stepper value is continuous\n * @property {cc.Sprite}    minusSprite - The sprite for minus button of the stepper control\n * @property {cc.Sprite}    plusSprite  - The sprite for plus button of the stepper control\n * @property {cc.LabelTTF}  minusLabel  - The label for minus button of the stepper control\n * @property {cc.LabelTTF}  plusSLabel  - The label for plus button of the stepper control\n */\ncc.ControlStepper = cc.Control.extend(/** @lends cc.ControlStepper# */{\n    _minusSprite:null,\n    _plusSprite:null,\n    _minusLabel:null,\n    _plusLabel:null,\n    _value:0,\n    _continuous:false,\n    _autorepeat:false,\n    _wraps:false,\n    _minimumValue:0,\n    _maximumValue:0,\n    _stepValue:0,\n    _touchInsideFlag:false,\n    _touchedPart:cc.CONTROL_STEPPER_PARTNONE,\n    _autorepeatCount:0,\n    _className:\"ControlStepper\",\n    ctor:function (minusSprite, plusSprite) {\n        cc.Control.prototype.ctor.call(this);\n        this._minusSprite = null;\n        this._plusSprite = null;\n        this._minusLabel = null;\n        this._plusLabel = null;\n        this._value = 0;\n        this._continuous = false;\n        this._autorepeat = false;\n        this._wraps = false;\n        this._minimumValue = 0;\n        this._maximumValue = 0;\n        this._stepValue = 0;\n        this._touchInsideFlag = false;\n        this._touchedPart = cc.CONTROL_STEPPER_PARTNONE;\n        this._autorepeatCount = 0;\n\n        plusSprite && this.initWithMinusSpriteAndPlusSprite(minusSprite, plusSprite);\n\n    },\n\n    initWithMinusSpriteAndPlusSprite:function (minusSprite, plusSprite) {\n        if(!minusSprite)\n            throw new Error(\"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.\");\n        if(!plusSprite)\n            throw new Error(\"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.\");\n\n        if (this.init()) {\n            // Set the default values\n            this._autorepeat = true;\n            this._continuous = true;\n            this._minimumValue = 0;\n            this._maximumValue = 100;\n            this._value = 0;\n            this._stepValue = 1;\n            this._wraps = false;\n            this.ignoreAnchorPointForPosition(false);\n\n            // Add the minus components\n            this.setMinusSprite(minusSprite);\n            this._minusSprite.setPosition(minusSprite.getContentSize().width / 2, minusSprite.getContentSize().height / 2);\n            this.addChild(this._minusSprite);\n\n            this.setMinusLabel(new cc.LabelTTF(\"-\", cc.CONTROL_STEPPER_LABELFONT, 40, cc.size(40, 40), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_CENTER));\n            this._minusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_DISABLED);\n            this._minusLabel.setPosition(this._minusSprite.getContentSize().width / 2, this._minusSprite.getContentSize().height / 2);\n            this._minusSprite.addChild(this._minusLabel);\n\n            // Add the plus components\n            this.setPlusSprite(plusSprite);\n            this._plusSprite.setPosition(minusSprite.getContentSize().width + plusSprite.getContentSize().width / 2,\n                minusSprite.getContentSize().height / 2);\n            this.addChild(this._plusSprite);\n\n            this.setPlusLabel(new cc.LabelTTF(\"+\", cc.CONTROL_STEPPER_LABELFONT, 40, cc.size(40, 40), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_CENTER));\n            this._plusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);\n            this._plusLabel.setPosition(this._plusSprite.getContentSize().width / 2, this._plusSprite.getContentSize().height / 2);\n            this._plusSprite.addChild(this._plusLabel);\n\n            // Defines the content size\n            var maxRect = cc.ControlUtils.CCRectUnion(this._minusSprite.getBoundingBox(), this._plusSprite.getBoundingBox());\n            this.setContentSize(this._minusSprite.getContentSize().width + this._plusSprite.getContentSize().height, maxRect.height);\n            return true;\n        }\n        return false;\n    },\n\n//#pragma mark Properties\n\n    setWraps: function (wraps) {\n        this._wraps = wraps;\n\n        if (this._wraps) {\n            this._minusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);\n            this._plusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);\n        }\n\n        this.setValue(this._value);\n    },\n\n\tgetWraps: function () {\n\t\treturn this._wraps;\n\t},\n\n    setMinimumValue:function (minimumValue) {\n        if (minimumValue >= this._maximumValue)\n            throw new Error(\"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.\");\n\n        this._minimumValue = minimumValue;\n        this.setValue(this._value);\n    },\n\tgetMinimumValue: function () {\n\t\treturn this._minimumValue;\n\t},\n\n    setMaximumValue:function (maximumValue) {\n        if (maximumValue <= this._minimumValue)\n            throw new Error(\"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.\");\n\n        this._maximumValue = maximumValue;\n        this.setValue(this._value);\n    },\n\tgetMaximumValue: function () {\n\t\treturn this._maximumValue;\n\t},\n\n    setValue:function (value) {\n        this.setValueWithSendingEvent(value, true);\n    },\n\n    getValue:function () {\n        return this._value;\n    },\n\n    setStepValue:function (stepValue) {\n        if (stepValue <= 0)\n            throw new Error(\"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.\");\n        this._stepValue = stepValue;\n    },\n\n\tgetStepValue:function () {\n\t\treturn this._stepValue;\n\t},\n\n    isContinuous:function () {\n        return this._continuous;\n    },\n\n    setValueWithSendingEvent:function (value, send) {\n        if (value < this._minimumValue) {\n            value = this._wraps ? this._maximumValue : this._minimumValue;\n        } else if (value > this._maximumValue) {\n            value = this._wraps ? this._minimumValue : this._maximumValue;\n        }\n\n        this._value = value;\n\n        if (!this._wraps) {\n            this._minusLabel.setColor((value === this._minimumValue) ? cc.CONTROL_STEPPER_LABELCOLOR_DISABLED : cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);\n            this._plusLabel.setColor((value === this._maximumValue) ? cc.CONTROL_STEPPER_LABELCOLOR_DISABLED : cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);\n        }\n\n        if (send) {\n            this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED);\n        }\n    },\n\n    startAutorepeat:function () {\n        this._autorepeatCount = -1;\n        this.schedule(this.update, cc.AUTOREPEAT_DELTATIME, cc.REPEAT_FOREVER, cc.AUTOREPEAT_DELTATIME * 3);\n    },\n\n    /** Stop the autorepeat. */\n    stopAutorepeat:function () {\n        this.unschedule(this.update);\n    },\n\n    update:function (dt) {\n        this._autorepeatCount++;\n\n        if ((this._autorepeatCount < cc.AUTOREPEAT_INCREASETIME_INCREMENT) && (this._autorepeatCount % 3) !== 0)\n            return;\n\n        if (this._touchedPart === cc.CONTROL_STEPPER_PARTMINUS) {\n            this.setValueWithSendingEvent(this._value - this._stepValue, this._continuous);\n        } else if (this._touchedPart === cc.CONTROL_STEPPER_PARTPLUS) {\n            this.setValueWithSendingEvent(this._value + this._stepValue, this._continuous);\n        }\n    },\n\n//#pragma mark CCControlStepper Private Methods\n\n    updateLayoutUsingTouchLocation:function (location) {\n        if (location.x < this._minusSprite.getContentSize().width\n            && this._value > this._minimumValue) {\n            this._touchedPart = cc.CONTROL_STEPPER_PARTMINUS;\n            this._minusSprite.setColor(cc.color.GRAY);\n            this._plusSprite.setColor(cc.color.WHITE);\n\n        } else if (location.x >= this._minusSprite.getContentSize().width\n            && this._value < this._maximumValue) {\n            this._touchedPart = cc.CONTROL_STEPPER_PARTPLUS;\n            this._minusSprite.setColor(cc.color.WHITE);\n            this._plusSprite.setColor(cc.color.GRAY);\n\n        } else {\n            this._touchedPart = cc.CONTROL_STEPPER_PARTNONE;\n            this._minusSprite.setColor(cc.color.WHITE);\n            this._plusSprite.setColor(cc.color.WHITE);\n        }\n    },\n\n\n    onTouchBegan:function (touch, event) {\n        if (!this.isTouchInside(touch) || !this.isEnabled() || !this.isVisible()) {\n            return false;\n        }\n\n        var location = this.getTouchLocation(touch);\n        this.updateLayoutUsingTouchLocation(location);\n        this._touchInsideFlag = true;\n\n        if (this._autorepeat) {\n            this.startAutorepeat();\n        }\n\n        return true;\n    },\n\n    onTouchMoved:function (touch, event) {\n        if (this.isTouchInside(touch)) {\n            var location = this.getTouchLocation(touch);\n            this.updateLayoutUsingTouchLocation(location);\n\n            if (!this._touchInsideFlag) {\n                this._touchInsideFlag = true;\n\n                if (this._autorepeat) {\n                    this.startAutorepeat();\n                }\n            }\n        } else {\n            this._touchInsideFlag = false;\n            this._touchedPart = cc.CONTROL_STEPPER_PARTNONE;\n            this._minusSprite.setColor(cc.color.WHITE);\n            this._plusSprite.setColor(cc.color.WHITE);\n            if (this._autorepeat) {\n                this.stopAutorepeat();\n            }\n        }\n    },\n\n    onTouchEnded:function (touch, event) {\n        this._minusSprite.setColor(cc.color.WHITE);\n        this._plusSprite.setColor(cc.color.WHITE);\n\n        if (this._autorepeat) {\n            this.stopAutorepeat();\n        }\n\n        if (this.isTouchInside(touch)) {\n            var location = this.getTouchLocation(touch);\n            this.setValue(this._value + ((location.x < this._minusSprite.getContentSize().width) ? (0.0 - this._stepValue) : this._stepValue));\n        }\n    },\n    setMinusSprite:function (sprite) {\n        this._minusSprite = sprite;\n    },\n    getMinusSprite:function () {\n        return this._minusSprite;\n    },\n    setPlusSprite:function (sprite) {\n        this._plusSprite = sprite;\n    },\n    getPlusSprite:function () {\n        return this._plusSprite;\n    },\n    setMinusLabel:function (sprite) {\n        this._minusLabel = sprite;\n    },\n    getMinusLabel:function () {\n        return this._minusLabel;\n    },\n    setPlusLabel:function (sprite) {\n        this._plusLabel = sprite;\n    },\n    getPlusLabel:function () {\n        return this._plusLabel;\n    }\n});\n\nvar _p = cc.ControlStepper.prototype;\n\n// Extedned properties\n/** @expose */\n_p.wraps;\ncc.defineGetterSetter(_p, \"wraps\", _p.getWraps, _p.setWraps);\n/** @expose */\n_p.value;\ncc.defineGetterSetter(_p, \"value\", _p.getValue, _p.setValue);\n/** @expose */\n_p.minValue;\ncc.defineGetterSetter(_p, \"minValue\", _p.getMinimumValue, _p.setMinimumValue);\n/** @expose */\n_p.maxValue;\ncc.defineGetterSetter(_p, \"maxValue\", _p.getMaximumValue, _p.setMaximumValue);\n/** @expose */\n_p.stepValue;\ncc.defineGetterSetter(_p, \"stepValue\", _p.getStepValue, _p.setStepValue);\n/** @expose */\n_p.continuous;\ncc.defineGetterSetter(_p, \"continuous\", _p.isContinuous);\n/** @expose */\n_p.minusSprite;\ncc.defineGetterSetter(_p, \"minusSprite\", _p.getMinusSprite, _p.setMinusSprite);\n/** @expose */\n_p.plusSprite;\ncc.defineGetterSetter(_p, \"plusSprite\", _p.getPlusSprite, _p.setPlusSprite);\n/** @expose */\n_p.minusLabel;\ncc.defineGetterSetter(_p, \"minusLabel\", _p.getMinusLabel, _p.setMinusLabel);\n/** @expose */\n_p.plusLabel;\ncc.defineGetterSetter(_p, \"plusLabel\", _p.getPlusLabel, _p.setPlusLabel);\n\n_p = null;\n\n/**\n * Creates a cc.ControlStepper\n * @param {cc.Sprite} minusSprite\n * @param {cc.Sprite} plusSprite\n * @returns {ControlStepper}\n */\ncc.ControlStepper.create = function (minusSprite, plusSprite) {\n    return new cc.ControlStepper(minusSprite, plusSprite);\n};"]}