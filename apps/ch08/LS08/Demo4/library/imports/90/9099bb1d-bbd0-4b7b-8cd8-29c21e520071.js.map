{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/layouts/assets/frameworks/cocos2d-html5/extensions/ccui/layouts/UILayoutManager.js"],"names":["ccui","getLayoutManager","type","Layout","LINEAR_VERTICAL","linearVerticalLayoutManager","LINEAR_HORIZONTAL","linearHorizontalLayoutManager","RELATIVE","relativeLayoutManager","_doLayout","layout","layoutSize","_getLayoutContentSize","container","_getLayoutElements","topBoundary","height","i","len","length","child","layoutParameter","getLayoutParameter","childGravity","getGravity","ap","getAnchorPoint","cs","getContentSize","finalPosX","x","width","finalPosY","y","LinearLayoutParameter","NONE","LEFT","RIGHT","CENTER_HORIZONTAL","mg","getMargin","left","top","setPosition","getPositionY","bottom","leftBoundary","TOP","BOTTOM","CENTER_VERTICAL","getRightBoundary","right","_unlayoutChildCount","_widgetChildren","_widget","_finalPositionX","_finalPositionY","_relativeWidgetLP","_getAllWidgets","locChildren","_put","ret","_calculateFinalPositionWithRelativeWidget","_calculateFinalPositionWithRelativeAlign","locWidgetChildren","Widget","push","_getRelativeWidget","widget","relativeWidget","relativeName","getRelativeToWidgetName","rlayoutParameter","getRelativeName","locWidget","align","getAlign","RelativeLayoutParameter","PARENT_TOP_LEFT","PARENT_TOP_CENTER_HORIZONTAL","PARENT_TOP_RIGHT","PARENT_LEFT_CENTER_VERTICAL","CENTER_IN_PARENT","PARENT_RIGHT_CENTER_VERTICAL","PARENT_LEFT_BOTTOM","PARENT_BOTTOM_CENTER_HORIZONTAL","PARENT_RIGHT_BOTTOM","LOCATION_ABOVE_LEFTALIGN","getTopBoundary","getLeftBoundary","LOCATION_ABOVE_CENTER","rbs","LOCATION_ABOVE_RIGHTALIGN","LOCATION_LEFT_OF_TOPALIGN","LOCATION_LEFT_OF_CENTER","getBottomBoundary","LOCATION_LEFT_OF_BOTTOMALIGN","LOCATION_RIGHT_OF_TOPALIGN","LOCATION_RIGHT_OF_CENTER","locationRight","LOCATION_RIGHT_OF_BOTTOMALIGN","LOCATION_BELOW_LEFTALIGN","LOCATION_BELOW_CENTER","LOCATION_BELOW_RIGHTALIGN"],"mappings":"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","file":"UILayoutManager.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/layouts","sourcesContent":["/****************************************************************************\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n/**\n * Gets the layout manager by ccui.Layout's layout type.\n * @param {Number} type\n * @returns {ccui.linearVerticalLayoutManager|ccui.linearHorizontalLayoutManager|ccui.relativeLayoutManager|null}\n */\nccui.getLayoutManager = function (type) {\n    switch (type) {\n        case ccui.Layout.LINEAR_VERTICAL:\n            return ccui.linearVerticalLayoutManager;\n        case ccui.Layout.LINEAR_HORIZONTAL:\n            return ccui.linearHorizontalLayoutManager;\n        case ccui.Layout.RELATIVE:\n            return ccui.relativeLayoutManager;\n    }\n    return null;\n};\n\n/**\n * ccui.linearVerticalLayoutManager is a singleton object which is the linear vertical layout manager for ccui.Layout.\n * @class\n * @name ccui.linearVerticalLayoutManager\n */\nccui.linearVerticalLayoutManager = /** @lends ccui.linearVerticalLayoutManager# */{\n    _doLayout: function (layout) {\n        var layoutSize = layout._getLayoutContentSize();\n        var container = layout._getLayoutElements();\n        var topBoundary = layoutSize.height;\n\n        for (var i = 0, len = container.length; i < len; i++) {\n            var child = container[i];\n            if (child) {\n                var layoutParameter = child.getLayoutParameter();\n\n                if (layoutParameter) {\n                    var childGravity = layoutParameter.getGravity();\n                    var ap = child.getAnchorPoint();\n                    var cs = child.getContentSize();\n                    var finalPosX = ap.x * cs.width;\n                    var finalPosY = topBoundary - ((1.0 - ap.y) * cs.height);\n                    switch (childGravity) {\n                        case ccui.LinearLayoutParameter.NONE:\n                        case ccui.LinearLayoutParameter.LEFT:\n                            break;\n                        case ccui.LinearLayoutParameter.RIGHT:\n                            finalPosX = layoutSize.width - ((1.0 - ap.x) * cs.width);\n                            break;\n                        case ccui.LinearLayoutParameter.CENTER_HORIZONTAL:\n                            finalPosX = layoutSize.width / 2.0 - cs.width * (0.5 - ap.x);\n                            break;\n                        default:\n                            break;\n                    }\n                    var mg = layoutParameter.getMargin();\n                    finalPosX += mg.left;\n                    finalPosY -= mg.top;\n                    child.setPosition(finalPosX, finalPosY);\n                    topBoundary = child.getPositionY() - ap.y * cs.height - mg.bottom;\n                }\n            }\n        }\n    }\n};\n\n/**\n * ccui.linearHorizontalLayoutManager is a singleton object which is the linear horizontal layout manager for ccui.Layout\n * @class\n * @name ccui.linearHorizontalLayoutManager\n */\nccui.linearHorizontalLayoutManager = /** @lends ccui.linearHorizontalLayoutManager# */{\n    _doLayout: function (layout) {\n        var layoutSize = layout._getLayoutContentSize();\n        var container = layout._getLayoutElements();\n        var leftBoundary = 0.0;\n        for (var i = 0, len = container.length; i < len; i++) {\n            var child = container[i];\n            if (child) {\n                var layoutParameter = child.getLayoutParameter();\n                if (layoutParameter) {\n                    var childGravity = layoutParameter.getGravity();\n                    var ap = child.getAnchorPoint();\n                    var cs = child.getContentSize();\n                    var finalPosX = leftBoundary + (ap.x * cs.width);\n                    var finalPosY = layoutSize.height - (1.0 - ap.y) * cs.height;\n                    switch (childGravity) {\n                        case ccui.LinearLayoutParameter.NONE:\n                        case ccui.LinearLayoutParameter.TOP:\n                            break;\n                        case ccui.LinearLayoutParameter.BOTTOM:\n                            finalPosY = ap.y * cs.height;\n                            break;\n                        case ccui.LinearLayoutParameter.CENTER_VERTICAL:\n                            finalPosY = layoutSize.height / 2.0 - cs.height * (0.5 - ap.y);\n                            break;\n                        default:\n                            break;\n                    }\n                    var mg = layoutParameter.getMargin();\n                    finalPosX += mg.left;\n                    finalPosY -= mg.top;\n                    child.setPosition(finalPosX, finalPosY);\n                    leftBoundary = child.getRightBoundary() + mg.right;\n                }\n            }\n        }\n    }\n};\n\n/**\n * ccui.relativeLayoutManager is the singleton object which is the relative layout manager for ccui.Layout, it has a _doLayout function to do layout.\n * @class\n * @name ccui.relativeLayoutManager\n */\nccui.relativeLayoutManager = /** @lends ccui.relativeLayoutManager# */{\n    _unlayoutChildCount: 0,\n    _widgetChildren: [],\n    _widget: null,\n    _finalPositionX: 0,\n    _finalPositionY: 0,\n    _relativeWidgetLP: null,\n\n    _doLayout: function (layout) {\n        this._widgetChildren = this._getAllWidgets(layout);\n\n        var locChildren = this._widgetChildren;\n        while (this._unlayoutChildCount > 0) {\n            for (var i = 0, len = locChildren.length; i < len; i++) {\n                this._widget = locChildren[i];\n\n                var layoutParameter = this._widget.getLayoutParameter();\n                if (layoutParameter){\n                    if (layoutParameter._put)\n                        continue;\n\n                    var ret = this._calculateFinalPositionWithRelativeWidget(layout);\n                    if (!ret)\n                        continue;\n\n                    this._calculateFinalPositionWithRelativeAlign();\n\n                    this._widget.setPosition(this._finalPositionX, this._finalPositionY);\n                    layoutParameter._put = true;\n                }\n            }\n            this._unlayoutChildCount--;\n        }\n        this._widgetChildren.length = 0;\n    },\n\n    _getAllWidgets: function (layout) {\n        var container = layout._getLayoutElements();\n        var locWidgetChildren = this._widgetChildren;\n        locWidgetChildren.length = 0;\n        for (var i = 0, len = container.length; i < len; i++) {\n            var child = container[i];\n            if (child && child instanceof ccui.Widget) {\n                var layoutParameter = child.getLayoutParameter();\n                layoutParameter._put = false;\n                this._unlayoutChildCount++;\n                locWidgetChildren.push(child);\n            }\n        }\n        return locWidgetChildren;\n    },\n\n    _getRelativeWidget: function (widget) {\n        var relativeWidget = null;\n        var layoutParameter = widget.getLayoutParameter();\n        var relativeName = layoutParameter.getRelativeToWidgetName();\n\n        if (relativeName && relativeName.length !== 0) {\n            var locChildren = this._widgetChildren;\n            for (var i = 0, len = locChildren.length; i < len; i++) {\n                var child = locChildren[i];\n                if (child){\n                    var rlayoutParameter = child.getLayoutParameter();\n                    if (rlayoutParameter && rlayoutParameter.getRelativeName() === relativeName) {\n                        relativeWidget = child;\n                        this._relativeWidgetLP = rlayoutParameter;\n                        break;\n                    }\n                }\n            }\n        }\n        return relativeWidget;\n    },\n\n    _calculateFinalPositionWithRelativeWidget: function (layout) {\n        var locWidget = this._widget;\n        var ap = locWidget.getAnchorPoint();\n        var cs = locWidget.getContentSize();\n\n        this._finalPositionX = 0.0;\n        this._finalPositionY = 0.0;\n\n        var relativeWidget = this._getRelativeWidget(locWidget);\n        var layoutParameter = locWidget.getLayoutParameter();\n        var align = layoutParameter.getAlign();\n        var layoutSize = layout._getLayoutContentSize();\n\n        switch (align) {\n            case ccui.RelativeLayoutParameter.NONE:\n            case ccui.RelativeLayoutParameter.PARENT_TOP_LEFT:\n                this._finalPositionX = ap.x * cs.width;\n                this._finalPositionY = layoutSize.height - ((1.0 - ap.y) * cs.height);\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL:\n                this._finalPositionX = layoutSize.width * 0.5 - cs.width * (0.5 - ap.x);\n                this._finalPositionY = layoutSize.height - ((1.0 - ap.y) * cs.height);\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT:\n                this._finalPositionX = layoutSize.width - ((1.0 - ap.x) * cs.width);\n                this._finalPositionY = layoutSize.height - ((1.0 - ap.y) * cs.height);\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL:\n                this._finalPositionX = ap.x * cs.width;\n                this._finalPositionY = layoutSize.height * 0.5 - cs.height * (0.5 - ap.y);\n                break;\n            case ccui.RelativeLayoutParameter.CENTER_IN_PARENT:\n                this._finalPositionX = layoutSize.width * 0.5 - cs.width * (0.5 - ap.x);\n                this._finalPositionY = layoutSize.height * 0.5 - cs.height * (0.5 - ap.y);\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL:\n                this._finalPositionX = layoutSize.width - ((1.0 - ap.x) * cs.width);\n                this._finalPositionY = layoutSize.height * 0.5 - cs.height * (0.5 - ap.y);\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM:\n                this._finalPositionX = ap.x * cs.width;\n                this._finalPositionY = ap.y * cs.height;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL:\n                this._finalPositionX = layoutSize.width * 0.5 - cs.width * (0.5 - ap.x);\n                this._finalPositionY = ap.y * cs.height;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM:\n                this._finalPositionX = layoutSize.width - ((1.0 - ap.x) * cs.width);\n                this._finalPositionY = ap.y * cs.height;\n                break;\n\n            case ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getTopBoundary() + ap.y * cs.height;\n                    this._finalPositionX = relativeWidget.getLeftBoundary() + ap.x * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    var rbs = relativeWidget.getContentSize();\n                    this._finalPositionY = relativeWidget.getTopBoundary() + ap.y * cs.height;\n                    this._finalPositionX = relativeWidget.getLeftBoundary() + rbs.width * 0.5 + ap.x * cs.width - cs.width * 0.5;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getTopBoundary() + ap.y * cs.height;\n                    this._finalPositionX = relativeWidget.getRightBoundary() - (1.0 - ap.x) * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getTopBoundary() - (1.0 - ap.y) * cs.height;\n                    this._finalPositionX = relativeWidget.getLeftBoundary() - (1.0 - ap.x) * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    var rbs = relativeWidget.getContentSize();\n                    this._finalPositionX = relativeWidget.getLeftBoundary() - (1.0 - ap.x) * cs.width;\n                    this._finalPositionY = relativeWidget.getBottomBoundary() + rbs.height * 0.5 + ap.y * cs.height - cs.height * 0.5;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getBottomBoundary() + ap.y * cs.height;\n                    this._finalPositionX = relativeWidget.getLeftBoundary() - (1.0 - ap.x) * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getTopBoundary() - (1.0 - ap.y) * cs.height;\n                    this._finalPositionX = relativeWidget.getRightBoundary() + ap.x * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    var rbs = relativeWidget.getContentSize();\n                    var locationRight = relativeWidget.getRightBoundary();\n                    this._finalPositionX = locationRight + ap.x * cs.width;\n                    this._finalPositionY = relativeWidget.getBottomBoundary() + rbs.height * 0.5 + ap.y * cs.height - cs.height * 0.5;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getBottomBoundary() + ap.y * cs.height;\n                    this._finalPositionX = relativeWidget.getRightBoundary() + ap.x * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getBottomBoundary() - (1.0 - ap.y) * cs.height;\n                    this._finalPositionX = relativeWidget.getLeftBoundary() + ap.x * cs.width;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    var rbs = relativeWidget.getContentSize();\n                    this._finalPositionY = relativeWidget.getBottomBoundary() - (1.0 - ap.y) * cs.height;\n                    this._finalPositionX = relativeWidget.getLeftBoundary() + rbs.width * 0.5 + ap.x * cs.width - cs.width * 0.5;\n                }\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN:\n                if (relativeWidget) {\n                    if (this._relativeWidgetLP && !this._relativeWidgetLP._put)\n                        return false;\n                    this._finalPositionY = relativeWidget.getBottomBoundary() - (1.0 - ap.y) * cs.height;\n                    this._finalPositionX = relativeWidget.getRightBoundary() - (1.0 - ap.x) * cs.width;\n                }\n                break;\n            default:\n                break;\n        }\n        return true;\n    },\n\n    _calculateFinalPositionWithRelativeAlign: function () {\n        var layoutParameter = this._widget.getLayoutParameter();\n\n        var mg = layoutParameter.getMargin();\n        var align = layoutParameter.getAlign();\n\n        //handle margin\n        switch (align) {\n            case ccui.RelativeLayoutParameter.NONE:\n            case ccui.RelativeLayoutParameter.PARENT_TOP_LEFT:\n                this._finalPositionX += mg.left;\n                this._finalPositionY -= mg.top;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL:\n                this._finalPositionY -= mg.top;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT:\n                this._finalPositionX -= mg.right;\n                this._finalPositionY -= mg.top;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL:\n                this._finalPositionX += mg.left;\n                break;\n            case ccui.RelativeLayoutParameter.CENTER_IN_PARENT:\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL:\n                this._finalPositionX -= mg.right;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM:\n                this._finalPositionX += mg.left;\n                this._finalPositionY += mg.bottom;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL:\n                this._finalPositionY += mg.bottom;\n                break;\n            case ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM:\n                this._finalPositionX -= mg.right;\n                this._finalPositionY += mg.bottom;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN:\n                this._finalPositionY += mg.bottom;\n                this._finalPositionX += mg.left;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN:\n                this._finalPositionY += mg.bottom;\n                this._finalPositionX -= mg.right;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER:\n                this._finalPositionY += mg.bottom;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN:\n                this._finalPositionX -= mg.right;\n                this._finalPositionY -= mg.top;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN:\n                this._finalPositionX -= mg.right;\n                this._finalPositionY += mg.bottom;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER:\n                this._finalPositionX -= mg.right;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN:\n                this._finalPositionX += mg.left;\n                this._finalPositionY -= mg.top;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN:\n                this._finalPositionX += mg.left;\n                this._finalPositionY += mg.bottom;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER:\n                this._finalPositionX += mg.left;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN:\n                this._finalPositionY -= mg.top;\n                this._finalPositionX += mg.left;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN:\n                this._finalPositionY -= mg.top;\n                this._finalPositionX -= mg.right;\n                break;\n            case ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER:\n                this._finalPositionY -= mg.top;\n                break;\n            default:\n                break;\n        }\n    }\n};\n"]}