{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/cocostudio/loader/parsers/assets/frameworks/cocos2d-html5/extensions/cocostudio/loader/parsers/timelineParser-2.x.js"],"names":["load","baseParser","DEBUG","Parser","extend","parse","file","json","path","resourcePath","undefined","_dirname","pretreatment","node","parseNode","getNodeJson","deferred","content","getClass","parser","getParam","value","dValue","generalAttributes","setName","position","setPosition","cc","p","scale","setScaleX","setScaleY","rotationSkewX","setRotationX","rotationSkewY","setRotationY","anchor","setAnchorPoint","setLocalZOrder","visible","setVisible","size","setContentSize","setOpacity","setTag","actionTag","extensionData","ccs","ComExtensionData","customProperty","setCustomProperty","setActionTag","getComponent","removeComponent","addComponent","setCascadeColorEnabled","setCascadeOpacityEnabled","setLayoutComponent","parseChild","children","i","length","child","ccui","PageView","Layout","addPage","ListView","Widget","pushBackCustomItem","getPositionType","POSITION_PERCENT","getPositionPercent","getAnchorPoint","setPositionPercent","x","y","addChild","initSingleNode","Node","color","setColor","getColor","initSprite","Sprite","loadTexture","type","setTexture","spriteFrame","spriteFrameCache","getSpriteFrame","setSpriteFrame","blendData","blendFunc","BlendFunc","ALPHA_PREMULTIPLIED","src","dst","setBlendFunc","setFlippedX","setFlippedY","initParticle","self","loader","getRes","log","ParticleSystem","setPositionType","TYPE_GROUPED","sys","isNative","setDrawMode","TEXTURE_MODE","widgetAttributes","widget","enableContent","setUnifySizeEnabled","ignoreContentAdaptWithSize","name","flipX","flipY","zOrder","alpha","touchEnabled","setTouchEnabled","callBackType","setCallbackType","callBackName","setCallbackName","scaleX","scaleY","anchorPoint","bindCallback","callBack","e","addClickEventListener","addTouchEventListener","addCCSEventListener","layoutComponent","LayoutComponent","bindLayoutComponent","positionXPercentEnabled","positionYPercentEnabled","positionXPercent","positionYPercent","PrePosition","sizeXPercentEnable","sizeYPercentEnable","sizeXPercent","sizeYPercent","PreSize","stretchHorizontalEnabled","stretchVerticalEnabled","horizontalEdge","verticalEdge","leftMargin","rightMargin","topMargin","bottomMargin","setPositionPercentXEnabled","setPositionPercentYEnabled","setPositionPercentX","setPositionPercentY","setPercentWidthEnabled","setPercentHeightEnabled","setPercentWidth","setPercentHeight","setStretchWidthEnabled","setStretchHeightEnabled","horizontalEdgeType","NONE","LEFT","RIGHT","CENTER","setHorizontalEdge","verticalEdgeType","TOP","BOTTOM","setVerticalEdge","setTopMargin","setBottomMargin","setLeftMargin","setRightMargin","setLayoutBackground","layout","single","first","end","getBackGroundColorType","setBackGroundColor","setLayoutBackgroundVector","vector","setBackGroundColorVector","initPanel","clipEnabled","setClippingEnabled","colorType","setBackGroundColorType","bgColorOpacity","setBackGroundColorOpacity","backGroundScale9Enabled","setBackGroundImageScale9Enabled","opacity","setBackGroundImage","scale9OriginX","scale9OriginY","scale9Width","scale9Height","setBackGroundImageCapInsets","rect","isIgnoreContentAdaptWithSize","initText","Text","touchScaleEnabled","setTouchScaleChangeEnabled","text","setString","fontSize","setFontSize","fontName","setFontName","areaWidth","areaHeight","setTextAreaSize","h_alignment","setTextHorizontalAlignment","v_alignment","setTextVerticalAlignment","fontResource","join","resPath","match","enableOutline","enableShadow","isCustomSize","setTextColor","initButton","Button","loadTextureNormal","loadTexturePressed","loadTextureDisabled","scale9Enabled","setScale9Enabled","setTitleText","setTitleFontSize","setTitleFontName","textColor","setTitleColor","displaystate","setBright","setEnabled","label","getTitleRenderer","enableStroke","capInsets","setCapInsets","initCheckBox","CheckBox","dataList","handle","loadTextureBackGround","loadTextureBackGroundSelected","loadTextureFrontCross","loadTextureBackGroundDisabled","loadTextureFrontCrossDisabled","forEach","item","call","selectedState","setSelected","initScrollView","ScrollView","innerNodeSize","innerSize","setInnerContainerSize","direction","setDirection","bounceEnabled","setBounceEnabled","initImageView","ImageView","initLoadingBar","LoadingBar","percent","setPercent","initSlider","Slider","textureList","loadBarTexture","loadSlidBallTextureNormal","loadSlidBallTexturePressed","loadSlidBallTextureDisabled","loadProgressBarTexture","initPageView","initListView","directionType","DIR_HORIZONTAL","verticalType","horizontalType","setGravity","GRAVITY_BOTTOM","GRAVITY_CENTER_VERTICAL","GRAVITY_TOP","DIR_VERTICAL","GRAVITY_LEFT","GRAVITY_RIGHT","GRAVITY_CENTER_HORIZONTAL","itemMargin","setItemsMargin","initTextAtlas","TextAtlas","stringValue","itemWidth","itemHeight","startCharMap","setProperty","initTextBMFont","TextBMFont","setFntFile","initTextField","TextField","passwordEnabled","setPasswordEnabled","passwordStyleText","setPasswordStyleText","placeHolder","setPlaceHolder","maxLengthEnabled","setMaxLengthEnabled","maxLength","setMaxLength","getVirtualRenderer","setLineBreakWithoutSpace","initSimpleAudio","ComAudio","loop","setLoop","setFile","initGameMap","TMXTiledMap","initProjectNode","projectFile","obj","action","tag","InnerActionSpeed","setTimeSpeed","runAction","gotoFrameAndPause","getFileName","arr","initArmature","Armature","isLoop","isAutoPlay","currentAnimationName","plists","pngs","armJson","plist","index","addSpriteFrames","armatureDataManager","addArmatureFileInfo","init","getAnimation","play","gotoAndPause","initBoneNode","BoneNode","setDebugDrawLength","initSkeletonNode","SkeletonNode","loadedPlist","cb","r","g","b","a","register","registerParser","options","__parserName","_load","_parser"],"mappings":"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","file":"timelineParser-2.x.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/cocostudio/loader/parsers","sourcesContent":["/****************************************************************************\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\n(function (load, baseParser) {\n\n    var DEBUG = false;\n\n    var Parser = baseParser.extend({\n\n        parse: function (file, json, path) {\n            var resourcePath;\n            if (path !== undefined)\n                resourcePath = path;\n            else\n                resourcePath = this._dirname(file);\n            this.pretreatment(json, resourcePath, file);\n            var node = this.parseNode(this.getNodeJson(json), resourcePath);\n            this.deferred(json, resourcePath, node, file);\n            return node;\n        },\n\n        getNodeJson: function (json) {\n            var content = json[\"Content\"];\n            if (content[\"ObjectData\"])\n                return content[\"ObjectData\"];\n\n            return content[\"Content\"][\"ObjectData\"];\n        },\n\n        getClass: function (json) {\n            return json[\"ctype\"];\n        }\n\n    });\n    var parser = new Parser();\n\n\n    var getParam = function (value, dValue) {\n        if (value === undefined)\n            return dValue;\n        else\n            return value;\n    };\n\n    //////////\n    // NODE //\n    //////////\n\n    parser.generalAttributes = function (node, json) {\n        if (json[\"Name\"] != null)\n            node.setName(json[\"Name\"]);\n\n        var position = json[\"Position\"];\n        if (position != null && (position[\"X\"] != null || position[\"Y\"] != null))\n            node.setPosition(cc.p(position[\"X\"] || 0, position[\"Y\"] || 0));\n\n        var scale = json[\"Scale\"];\n        if (scale != null) {\n            if (scale[\"ScaleX\"] != null)\n                node.setScaleX(scale[\"ScaleX\"]);\n            if (scale[\"ScaleY\"] != null)\n                node.setScaleY(scale[\"ScaleY\"]);\n        }\n\n        var rotationSkewX = json[\"RotationSkewX\"];\n        if (rotationSkewX != null)\n            node.setRotationX(rotationSkewX);\n\n        var rotationSkewY = json[\"RotationSkewY\"];\n        if (json[\"RotationSkewY\"] != null)\n            node.setRotationY(rotationSkewY);\n\n\n        var anchor = json[\"AnchorPoint\"];\n        if (anchor != null) {\n            if (anchor[\"ScaleX\"] == null)\n                anchor[\"ScaleX\"] = 0;\n            if (anchor[\"ScaleY\"] == null)\n                anchor[\"ScaleY\"] = 0;\n            if (anchor[\"ScaleX\"] != 0.5 || anchor[\"ScaleY\"] != 0.5)\n                node.setAnchorPoint(cc.p(anchor[\"ScaleX\"], anchor[\"ScaleY\"]));\n        }\n\n        if (json[\"ZOrder\"] != null)\n            node.setLocalZOrder(json[\"ZOrder\"]);\n\n        var visible = getParam(json[\"VisibleForFrame\"], true);\n        node.setVisible(visible);\n\n        var size = json[\"Size\"];\n        if (size)\n            setContentSize(node, size);\n\n        if (json[\"Alpha\"] != null)\n            node.setOpacity(json[\"Alpha\"]);\n\n        node.setTag(json[\"Tag\"] || 0);\n\n        var actionTag = json[\"ActionTag\"] || 0;\n        var extensionData = new ccs.ComExtensionData();\n        var customProperty = json[\"UserData\"];\n        if (customProperty !== undefined)\n            extensionData.setCustomProperty(customProperty);\n        extensionData.setActionTag(actionTag);\n        if (node.getComponent(\"ComExtensionData\"))\n            node.removeComponent(\"ComExtensionData\");\n        node.addComponent(extensionData);\n\n        node.setCascadeColorEnabled(true);\n        node.setCascadeOpacityEnabled(true);\n\n        setLayoutComponent(node, json);\n    };\n\n    parser.parseChild = function (node, children, resourcePath) {\n        if (!node || !children) return;\n        for (var i = 0; i < children.length; i++) {\n            var child = this.parseNode(children[i], resourcePath);\n            if (child) {\n                if (node instanceof ccui.PageView) {\n                    if (child instanceof ccui.Layout)\n                        node.addPage(child);\n                } else {\n                    if (node instanceof ccui.ListView) {\n                        if (child instanceof ccui.Widget)\n                            node.pushBackCustomItem(child);\n                    } else {\n                        if (!(node instanceof ccui.Layout) && child instanceof ccui.Widget) {\n                            if (child.getPositionType() === ccui.Widget.POSITION_PERCENT) {\n                                var position = child.getPositionPercent();\n                                var anchor = node.getAnchorPoint();\n                                child.setPositionPercent(cc.p(position.x + anchor.x, position.y + anchor.y));\n                            }\n                        }\n                        node.addChild(child);\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * SingleNode\n     * @param json\n     * @returns {cc.Node}\n     */\n    parser.initSingleNode = function (json) {\n        var node = new cc.Node();\n\n        this.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if (color != null)\n            node.setColor(getColor(color));\n\n        return node;\n    };\n\n    /**\n     * Sprite\n     * @param json\n     * @param resourcePath\n     * @returns {cc.Sprite}\n     */\n    parser.initSprite = function (json, resourcePath) {\n        var node = new cc.Sprite();\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            if (type === 0)\n                node.setTexture(path);\n            else if (type === 1) {\n                var spriteFrame = cc.spriteFrameCache.getSpriteFrame(path);\n                if (spriteFrame)\n                    node.setSpriteFrame(spriteFrame);\n            }\n        });\n\n        var blendData = json[\"BlendFunc\"];\n        if (json[\"BlendFunc\"]) {\n            var blendFunc = cc.BlendFunc.ALPHA_PREMULTIPLIED;\n            if (blendData[\"Src\"] !== undefined)\n                blendFunc.src = blendData[\"Src\"];\n            if (blendData[\"Dst\"] !== undefined)\n                blendFunc.dst = blendData[\"Dst\"];\n            node.setBlendFunc(blendFunc);\n        }\n\n        if (json[\"FlipX\"])\n            node.setFlippedX(true);\n        if (json[\"FlipY\"])\n            node.setFlippedY(true);\n\n        this.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if (color != null)\n            node.setColor(getColor(color));\n\n        return node;\n    };\n\n    /**\n     * Particle\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initParticle = function (json, resourcePath) {\n        var node,\n            self = this;\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            if (!cc.loader.getRes(path))\n                cc.log(\"%s need to be preloaded\", path);\n            node = new cc.ParticleSystem(path);\n            self.generalAttributes(node, json);\n            node.setPositionType(cc.ParticleSystem.TYPE_GROUPED);\n            !cc.sys.isNative && node.setDrawMode(cc.ParticleSystem.TEXTURE_MODE);\n\n            var blendData = json[\"BlendFunc\"];\n            if (json[\"BlendFunc\"]) {\n                var blendFunc = cc.BlendFunc.ALPHA_PREMULTIPLIED;\n                if (blendData[\"Src\"] !== undefined)\n                    blendFunc.src = blendData[\"Src\"];\n                if (blendData[\"Dst\"] !== undefined)\n                    blendFunc.dst = blendData[\"Dst\"];\n                node.setBlendFunc(blendFunc);\n            }\n        });\n        return node;\n    };\n\n\n    ////////////\n    // WIDGET //\n    ////////////\n\n    parser.widgetAttributes = function (widget, json, enableContent) {\n        widget.setCascadeColorEnabled(true);\n        widget.setCascadeOpacityEnabled(true);\n\n        widget.setUnifySizeEnabled(false);\n        //widget.setLayoutComponentEnabled(true);\n        widget.ignoreContentAdaptWithSize(false);\n        !enableContent && setContentSize(widget, json[\"Size\"]);\n\n        var name = json[\"Name\"];\n        if (name)\n            widget.setName(name);\n\n        var actionTag = json[\"ActionTag\"] || 0;\n        widget.setActionTag(actionTag);\n        var extensionData = new ccs.ComExtensionData();\n        var customProperty = json[\"UserData\"];\n        if (customProperty !== undefined)\n            extensionData.setCustomProperty(customProperty);\n        extensionData.setActionTag(actionTag);\n        if (widget.getComponent(\"ComExtensionData\"))\n            widget.removeComponent(\"ComExtensionData\");\n        widget.addComponent(extensionData);\n\n        var rotationSkewX = json[\"RotationSkewX\"];\n        if (rotationSkewX)\n            widget.setRotationX(rotationSkewX);\n\n        var rotationSkewY = json[\"RotationSkewY\"];\n        if (rotationSkewY)\n            widget.setRotationY(rotationSkewY);\n\n        //var rotation = json[\"Rotation\"];\n\n        var flipX = json[\"FlipX\"];\n        if (flipX)\n            widget.setFlippedX(true);\n\n        var flipY = json[\"FlipY\"];\n        if (flipY)\n            widget.setFlippedY(true);\n\n        var zOrder = json[\"zOrder\"];\n        if (zOrder != null)\n            widget.setLocalZOrder(zOrder);\n\n        //var visible = json[\"Visible\"];\n\n        var visible = getParam(json[\"VisibleForFrame\"], true);\n        widget.setVisible(visible);\n\n        var alpha = json[\"Alpha\"];\n        if (alpha != null)\n            widget.setOpacity(alpha);\n\n        widget.setTag(json[\"Tag\"] || 0);\n\n        var touchEnabled = json[\"TouchEnable\"] || false;\n        widget.setTouchEnabled(touchEnabled);\n\n        // -- var frameEvent = json[\"FrameEvent\"];\n\n        var callBackType = json[\"CallBackType\"];\n        if (callBackType != null)\n            widget.setCallbackType(callBackType);\n\n        var callBackName = json[\"CallBackName\"];\n        if (callBackName)\n            widget.setCallbackName(callBackName);\n\n        var position = json[\"Position\"];\n        if (position != null)\n            widget.setPosition(position[\"X\"] || 0, position[\"Y\"] || 0);\n\n        var scale = json[\"Scale\"];\n        if (scale != null) {\n            var scaleX = getParam(scale[\"ScaleX\"], 1);\n            var scaleY = getParam(scale[\"ScaleY\"], 1);\n            widget.setScaleX(scaleX);\n            widget.setScaleY(scaleY);\n        }\n\n        var anchorPoint = json[\"AnchorPoint\"];\n        if (anchorPoint != null)\n            widget.setAnchorPoint(anchorPoint[\"ScaleX\"] || 0, anchorPoint[\"ScaleY\"] || 0);\n\n        var color = json[\"CColor\"];\n        if (color != null)\n            widget.setColor(getColor(color));\n\n        setLayoutComponent(widget, json);\n        bindCallback(widget, json);\n    };\n\n    var bindCallback = function (widget, json) {\n        var callBackType = json[\"CallBackType\"];\n        var callBackName = json[\"CallBackName\"];\n        var callBack = function (e) {\n            if (typeof widget[callBackName] === \"function\")\n                widget[callBackName](e);\n        };\n        if (callBackType === \"Click\") {\n            widget.addClickEventListener(callBack);\n        } else if (callBackType === \"Touch\") {\n            widget.addTouchEventListener(callBack);\n        } else if (callBackType === \"Event\") {\n            widget.addCCSEventListener(callBack);\n        }\n    };\n\n    var setLayoutComponent = function (widget, json) {\n\n        var layoutComponent = ccui.LayoutComponent.bindLayoutComponent(widget);\n        if (!layoutComponent)\n            return;\n\n        var positionXPercentEnabled = json[\"PositionPercentXEnable\"] || json[\"PositionPercentXEnabled\"] || false;\n        var positionYPercentEnabled = json[\"PositionPercentYEnable\"] || json[\"PositionPercentYEnabled\"] || false;\n        var positionXPercent = 0,\n            positionYPercent = 0,\n            PrePosition = json[\"PrePosition\"];\n        if (PrePosition != null) {\n            positionXPercent = PrePosition[\"X\"] || 0;\n            positionYPercent = PrePosition[\"Y\"] || 0;\n        }\n        var sizeXPercentEnable = json[\"PercentWidthEnable\"] || json[\"PercentWidthEnabled\"] || false;\n        var sizeYPercentEnable = json[\"PercentHeightEnable\"] || json[\"PercentHeightEnabled\"] || false;\n        var sizeXPercent = 0,\n            sizeYPercent = 0,\n            PreSize = json[\"PreSize\"];\n        if (PrePosition != null) {\n            sizeXPercent = PreSize[\"X\"] || 0;\n            sizeYPercent = PreSize[\"Y\"] || 0;\n        }\n        var stretchHorizontalEnabled = json[\"StretchWidthEnable\"] || false;\n        var stretchVerticalEnabled = json[\"StretchHeightEnable\"] || false;\n        var horizontalEdge = json[\"HorizontalEdge\"];// = ccui.LayoutComponent.horizontalEdge.LEFT;\n        var verticalEdge = json[\"VerticalEdge\"]; // = ccui.LayoutComponent.verticalEdge.TOP;\n        var leftMargin = json[\"LeftMargin\"] || 0;\n        var rightMargin = json[\"RightMargin\"] || 0;\n        var topMargin = json[\"TopMargin\"] || 0;\n        var bottomMargin = json[\"BottomMargin\"] || 0;\n\n        layoutComponent.setPositionPercentXEnabled(positionXPercentEnabled);\n        layoutComponent.setPositionPercentYEnabled(positionYPercentEnabled);\n        layoutComponent.setPositionPercentX(positionXPercent);\n        layoutComponent.setPositionPercentY(positionYPercent);\n        layoutComponent.setPercentWidthEnabled(sizeXPercentEnable);\n        layoutComponent.setPercentHeightEnabled(sizeYPercentEnable);\n        layoutComponent.setPercentWidth(sizeXPercent);\n        layoutComponent.setPercentHeight(sizeYPercent);\n        layoutComponent.setPercentWidthEnabled(sizeXPercentEnable || sizeYPercentEnable);\n        layoutComponent.setStretchWidthEnabled(stretchHorizontalEnabled);\n        layoutComponent.setStretchHeightEnabled(stretchVerticalEnabled);\n\n        var horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.NONE;\n        if (horizontalEdge === \"LeftEdge\") {\n            horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.LEFT;\n        } else if (horizontalEdge === \"RightEdge\") {\n            horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.RIGHT;\n        } else if (horizontalEdge === \"BothEdge\") {\n            horizontalEdgeType = ccui.LayoutComponent.horizontalEdge.CENTER;\n        }\n        layoutComponent.setHorizontalEdge(horizontalEdgeType);\n\n        var verticalEdgeType = ccui.LayoutComponent.verticalEdge.NONE;\n        if (verticalEdge === \"TopEdge\") {\n            verticalEdgeType = ccui.LayoutComponent.verticalEdge.TOP;\n        } else if (verticalEdge === \"BottomEdge\") {\n            verticalEdgeType = ccui.LayoutComponent.verticalEdge.BOTTOM;\n        } else if (verticalEdge === \"BothEdge\") {\n            verticalEdgeType = ccui.LayoutComponent.verticalEdge.CENTER;\n        }\n        layoutComponent.setVerticalEdge(verticalEdgeType);\n\n        layoutComponent.setTopMargin(topMargin);\n        layoutComponent.setBottomMargin(bottomMargin);\n        layoutComponent.setLeftMargin(leftMargin);\n        layoutComponent.setRightMargin(rightMargin);\n\n        layoutComponent.setVerticalEdge(verticalEdgeType);\n\n        layoutComponent.setTopMargin(topMargin);\n        layoutComponent.setBottomMargin(bottomMargin);\n        layoutComponent.setLeftMargin(leftMargin);\n        layoutComponent.setRightMargin(rightMargin);\n    };\n\n    var setLayoutBackground = function (layout, single, first, end) {\n        if (layout.getBackGroundColorType() === 2) {\n            first = first || {};\n            end = end || {};\n            layout.setBackGroundColor(getColor(first), getColor(end));\n        } else {\n            single = single || {};\n            layout.setBackGroundColor(getColor(single));\n        }\n    };\n\n    var setLayoutBackgroundVector = function (widget, vector) {\n        var x = vector[\"ScaleX\"] || 0;\n        var y = vector[\"ScaleY\"] || 0;\n        widget.setBackGroundColorVector(cc.p(x, y));\n    };\n\n    /**\n     * Layout\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.Layout}\n     */\n    parser.initPanel = function (json, resourcePath) {\n        var widget = new ccui.Layout();\n\n        this.widgetAttributes(widget, json);\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        if (clipEnabled != null)\n            widget.setClippingEnabled(clipEnabled);\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        var bgColorOpacity = getParam(json[\"BackColorAlpha\"], 255);\n        if (bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if (backGroundScale9Enabled != null)\n            widget.setBackGroundImageScale9Enabled(backGroundScale9Enabled);\n\n        var opacity = getParam(json[\"Alpha\"], 255);\n        widget.setOpacity(opacity);\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            widget.setBackGroundImage(path, type);\n        });\n\n        if (backGroundScale9Enabled) {\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX, scale9OriginY, scale9Width, scale9Height\n            ));\n\n            setContentSize(widget, json[\"Size\"]);\n        } else {\n            if (!widget.isIgnoreContentAdaptWithSize()) {\n                setContentSize(widget, json[\"Size\"]);\n            }\n\n        }\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        return widget;\n    };\n\n    /**\n     * Text\n     * @param json\n     * @param resourcePath\n     */\n    parser.initText = function (json, resourcePath) {\n\n        var widget = new ccui.Text();\n\n        var touchScaleEnabled = json[\"TouchScaleChangeAble\"];\n        if (touchScaleEnabled != null)\n            widget.setTouchScaleChangeEnabled(touchScaleEnabled);\n\n        var text = json[\"LabelText\"];\n        if (text != null)\n            widget.setString(text);\n\n        var fontSize = json[\"FontSize\"];\n        if (fontSize != null)\n            widget.setFontSize(fontSize);\n\n        var fontName = json[\"FontName\"];\n        if (fontName != null)\n            widget.setFontName(fontName);\n\n        var areaWidth = json[\"AreaWidth\"];\n        var areaHeight = json[\"areaHeight\"];\n        if (areaWidth && areaHeight)\n            widget.setTextAreaSize(cc.size(areaWidth, areaHeight));\n\n        var h_alignment = json[\"HorizontalAlignmentType\"] || \"HT_Left\";\n        switch (h_alignment) {\n            case \"HT_Right\":\n                h_alignment = 2;\n                break;\n            case \"HT_Center\":\n                h_alignment = 1;\n                break;\n            case \"HT_Left\":\n            default:\n                h_alignment = 0;\n        }\n        widget.setTextHorizontalAlignment(h_alignment);\n\n        var v_alignment = json[\"VerticalAlignmentType\"] || \"VT_Top\";\n        switch (v_alignment) {\n            case \"VT_Bottom\":\n                v_alignment = 2;\n                break;\n            case \"VT_Center\":\n                v_alignment = 1;\n                break;\n            case \"VT_Top\":\n            default:\n                v_alignment = 0;\n        }\n        widget.setTextVerticalAlignment(v_alignment);\n\n        var fontResource = json[\"FontResource\"];\n        if (fontResource != null) {\n            var path = fontResource[\"Path\"];\n            //resoutceType = fontResource[\"Type\"];\n            if (path != null) {\n                if (cc.sys.isNative) {\n                    fontName = cc.path.join(cc.loader.resPath, resourcePath, path);\n                } else {\n                    fontName = path.match(/([^\\/]+)\\.(\\S+)/);\n                    fontName = fontName ? fontName[1] : \"\";\n                }\n                widget.setFontName(fontName);\n            }\n        }\n\n        if (json[\"OutlineEnabled\"] && json[\"OutlineColor\"] && widget.enableOutline)\n            widget.enableOutline(getColor(json[\"OutlineColor\"]), getParam(json[\"OutlineSize\"], 1));\n\n        if (json[\"ShadowEnabled\"] && json[\"ShadowColor\"] && widget.enableShadow)\n            widget.enableShadow(\n                getColor(json[\"ShadowColor\"]),\n                cc.size(getParam(json[\"ShadowOffsetX\"], 2), getParam(json[\"ShadowOffsetY\"], -2)),\n                json[\"ShadowBlurRadius\"] || 0\n            );\n\n        var isCustomSize = json[\"IsCustomSize\"];\n        if (isCustomSize != null)\n            widget.ignoreContentAdaptWithSize(!isCustomSize);\n\n        widget.setUnifySizeEnabled(false);\n\n        var color = json[\"CColor\"];\n        json[\"CColor\"] = null;\n        widget.setTextColor(getColor(color));\n        this.widgetAttributes(widget, json, widget.isIgnoreContentAdaptWithSize());\n        json[\"CColor\"] = color;\n        return widget;\n\n    };\n\n    /**\n     * Button\n     * @param json\n     * @param resourcePath\n     */\n    parser.initButton = function (json, resourcePath) {\n\n        var widget = new ccui.Button();\n\n        loadTexture(json[\"NormalFileData\"], resourcePath, function (path, type) {\n            widget.loadTextureNormal(path, type);\n        });\n        loadTexture(json[\"PressedFileData\"], resourcePath, function (path, type) {\n            widget.loadTexturePressed(path, type);\n        });\n        loadTexture(json[\"DisabledFileData\"], resourcePath, function (path, type) {\n            widget.loadTextureDisabled(path, type);\n        });\n\n        var scale9Enabled = getParam(json[\"Scale9Enable\"], false);\n        if (scale9Enabled) {\n            widget.setScale9Enabled(scale9Enabled);\n        }\n\n        var text = json[\"ButtonText\"];\n        if (text != null)\n            widget.setTitleText(text);\n\n        var fontSize = json[\"FontSize\"];\n        if (fontSize != null)\n            widget.setTitleFontSize(fontSize);\n\n        var fontName = json[\"FontName\"];\n        if (fontName != null)\n            widget.setTitleFontName(fontName);\n\n        var textColor = json[\"TextColor\"];\n        if (textColor != null)\n            widget.setTitleColor(getColor(textColor));\n\n        var displaystate = getParam(json[\"DisplayState\"], true);\n        widget.setBright(displaystate);\n        widget.setEnabled(displaystate);\n\n        var fontResource = json[\"FontResource\"];\n        if (fontResource != null) {\n            var path = fontResource[\"Path\"];\n            //resoutceType = fontResource[\"Type\"];\n            if (path != null) {\n                if (cc.sys.isNative) {\n                    fontName = cc.path.join(cc.loader.resPath, resourcePath, path);\n                } else {\n                    fontName = path.match(/([^\\/]+)\\.(\\S+)/);\n                    fontName = fontName ? fontName[1] : \"\";\n                }\n                widget.setTitleFontName(fontName);\n            }\n        }\n\n        var label = widget.getTitleRenderer();\n        if (label && json[\"ShadowEnabled\"] && json[\"ShadowColor\"] && label.enableShadow) {\n            label.enableShadow(\n                getColor(json[\"ShadowColor\"]),\n                cc.size(getParam(json[\"ShadowOffsetX\"], 2), getParam(json[\"ShadowOffsetY\"], -2)),\n                json[\"ShadowBlurRadius\"] || 0\n            );\n        }\n        if (label && json[\"OutlineEnabled\"] && json[\"OutlineColor\"] && label.enableStroke)\n            label.enableStroke(getColor(json[\"OutlineColor\"]), getParam(json[\"OutlineSize\"], 1));\n\n        this.widgetAttributes(widget, json);\n\n        if (scale9Enabled) {\n            widget.setUnifySizeEnabled(false);\n            widget.ignoreContentAdaptWithSize(false);\n            var capInsets = cc.rect(\n                json[\"Scale9OriginX\"] || 0,\n                json[\"Scale9OriginY\"] || 0,\n                json[\"Scale9Width\"] || 0,\n                json[\"Scale9Height\"] || 0\n            );\n            widget.setCapInsets(capInsets);\n\n        }\n\n        setContentSize(widget, json[\"Size\"]);\n\n        return widget;\n\n    };\n\n    /**\n     * CheckBox\n     * @param json\n     * @param resourcePath\n     */\n    parser.initCheckBox = function (json, resourcePath) {\n\n        var widget = new ccui.CheckBox();\n\n        this.widgetAttributes(widget, json);\n\n        var dataList = [\n            {name: \"NormalBackFileData\", handle: widget.loadTextureBackGround},\n            {name: \"PressedBackFileData\", handle: widget.loadTextureBackGroundSelected},\n            {name: \"NodeNormalFileData\", handle: widget.loadTextureFrontCross},\n            {name: \"DisableBackFileData\", handle: widget.loadTextureBackGroundDisabled},\n            {name: \"NodeDisableFileData\", handle: widget.loadTextureFrontCrossDisabled}\n        ];\n\n        dataList.forEach(function (item) {\n            loadTexture(json[item.name], resourcePath, function (path, type) {\n                item.handle.call(widget, path, type);\n            });\n        });\n\n        var selectedState = getParam(json[\"CheckedState\"], false);\n        widget.setSelected(selectedState);\n\n        var displaystate = getParam(json[\"DisplayState\"], true);\n        widget.setBright(displaystate);\n        widget.setEnabled(displaystate);\n\n        return widget;\n    };\n\n    /**\n     * ScrollView\n     * @param json\n     * @param resourcePath\n     */\n    parser.initScrollView = function (json, resourcePath) {\n        var widget = new ccui.ScrollView();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            widget.setBackGroundImage(path, type);\n        });\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        widget.setClippingEnabled(clipEnabled);\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        var bgColorOpacity = json[\"BackColorAlpha\"];\n        if (bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if (backGroundScale9Enabled) {\n            widget.setBackGroundImageScale9Enabled(true);\n\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX, scale9OriginY, scale9Width, scale9Height\n            ));\n            setContentSize(widget, json[\"Size\"]);\n        } else if (!widget.isIgnoreContentAdaptWithSize()) {\n            setContentSize(widget, json[\"Size\"]);\n        }\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        var innerNodeSize = json[\"InnerNodeSize\"];\n        var innerSize = cc.size(\n            innerNodeSize[\"Width\"] || 0,\n            innerNodeSize[\"Height\"] || 0\n        );\n        widget.setInnerContainerSize(innerSize);\n\n        var direction = 0;\n        if (json[\"ScrollDirectionType\"] === \"Vertical\") direction = 1;\n        if (json[\"ScrollDirectionType\"] === \"Horizontal\") direction = 2;\n        if (json[\"ScrollDirectionType\"] === \"Vertical_Horizontal\") direction = 3;\n        widget.setDirection(direction);\n\n        var bounceEnabled = getParam(json[\"IsBounceEnabled\"], false);\n        widget.setBounceEnabled(bounceEnabled);\n\n        return widget;\n    };\n\n    /**\n     * ImageView\n     * @param json\n     * @param resourcePath\n     */\n    parser.initImageView = function (json, resourcePath) {\n\n        var widget = new ccui.ImageView();\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            widget.loadTexture(path, type);\n        });\n        loadTexture(json[\"ImageFileData\"], resourcePath, function (path, type) {\n            widget.loadTexture(path, type);\n        });\n\n        var scale9Enabled = json[\"Scale9Enable\"];\n        if (scale9Enabled) {\n            widget.setScale9Enabled(true);\n            widget.setUnifySizeEnabled(false);\n            widget.ignoreContentAdaptWithSize(false);\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setCapInsets(cc.rect(\n                scale9OriginX,\n                scale9OriginY,\n                scale9Width,\n                scale9Height\n            ));\n        } else\n            setContentSize(widget, json[\"Size\"]);\n\n        this.widgetAttributes(widget, json);\n\n        return widget;\n    };\n\n    /**\n     * LoadingBar\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.LoadingBar}\n     */\n    parser.initLoadingBar = function (json, resourcePath) {\n\n        var widget = new ccui.LoadingBar();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"ImageFileData\"], resourcePath, function (path, type) {\n            widget.loadTexture(path, type);\n        });\n\n        var direction = json[\"ProgressType\"] === \"Right_To_Left\" ? 1 : 0;\n        widget.setDirection(direction);\n\n        var percent = getParam(json[\"ProgressInfo\"], 80);\n        if (percent != null)\n            widget.setPercent(percent);\n\n        return widget;\n\n    };\n\n    /**\n     * Slider\n     * @param json\n     * @param resourcePath\n     */\n    parser.initSlider = function (json, resourcePath) {\n\n        var widget = new ccui.Slider();\n        var loader = cc.loader;\n\n        this.widgetAttributes(widget, json);\n\n        var textureList = [\n            {name: \"BackGroundData\", handle: widget.loadBarTexture},\n            {name: \"BallNormalData\", handle: widget.loadSlidBallTextureNormal},\n            {name: \"BallPressedData\", handle: widget.loadSlidBallTexturePressed},\n            {name: \"BallDisabledData\", handle: widget.loadSlidBallTextureDisabled},\n            {name: \"ProgressBarData\", handle: widget.loadProgressBarTexture}\n        ];\n        textureList.forEach(function (item) {\n            loadTexture(json[item.name], resourcePath, function (path, type) {\n                if (type === 0 && !loader.getRes(path))\n                    cc.log(\"%s need to be preloaded\", path);\n                item.handle.call(widget, path, type);\n            });\n        });\n\n        var percent = json[\"PercentInfo\"] || 0;\n        widget.setPercent(percent);\n\n        var displaystate = getParam(json[\"DisplayState\"], true);\n        widget.setBright(displaystate);\n        widget.setEnabled(displaystate);\n\n        return widget;\n    };\n\n    /**\n     * PageView\n     * @param json\n     * @param resourcePath\n     */\n    parser.initPageView = function (json, resourcePath) {\n\n        var widget = new ccui.PageView();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            widget.setBackGroundImage(path, type);\n        });\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        widget.setClippingEnabled(clipEnabled);\n\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if (backGroundScale9Enabled) {\n            widget.setBackGroundImageScale9Enabled(true);\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX,\n                scale9OriginY,\n                scale9Width,\n                scale9Height\n            ));\n        }\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        var bgColorOpacity = json[\"BackColorAlpha\"];\n        if (bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        setContentSize(widget, json[\"Size\"]);\n\n        return widget;\n\n    };\n\n    /**\n     * ListView\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.ListView}\n     */\n    parser.initListView = function (json, resourcePath) {\n\n        var widget = new ccui.ListView();\n\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            widget.setBackGroundImage(path, type);\n        });\n\n        var clipEnabled = json[\"ClipAble\"] || false;\n        widget.setClippingEnabled(clipEnabled);\n\n        var colorType = getParam(json[\"ComboBoxIndex\"], 0);\n        widget.setBackGroundColorType(colorType);\n\n        var bgColorOpacity = getParam(json[\"BackColorAlpha\"], 255);\n        var backGroundScale9Enabled = json[\"Scale9Enable\"];\n        if (backGroundScale9Enabled) {\n            widget.setBackGroundImageScale9Enabled(true);\n\n            var scale9OriginX = json[\"Scale9OriginX\"] || 0;\n            var scale9OriginY = json[\"Scale9OriginY\"] || 0;\n            var scale9Width = json[\"Scale9Width\"] || 0;\n            var scale9Height = json[\"Scale9Height\"] || 0;\n            widget.setBackGroundImageCapInsets(cc.rect(\n                scale9OriginX,\n                scale9OriginY,\n                scale9Width,\n                scale9Height\n            ));\n        }\n\n        var directionType = getParam(json[\"DirectionType\"], ccui.ListView.DIR_HORIZONTAL);\n        var verticalType = getParam(json[\"VerticalType\"], \"Align_Left\");\n        var horizontalType = getParam(json[\"HorizontalType\"], \"Align_Top\");\n        if (!directionType) {\n            widget.setDirection(ccui.ScrollView.DIR_HORIZONTAL);\n            if (verticalType === \"Align_Bottom\")\n                widget.setGravity(ccui.ListView.GRAVITY_BOTTOM);\n            else if (verticalType === \"Align_VerticalCenter\")\n                widget.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);\n            else\n                widget.setGravity(ccui.ListView.GRAVITY_TOP);\n        } else if (directionType === \"Vertical\") {\n            widget.setDirection(ccui.ScrollView.DIR_VERTICAL);\n            if (horizontalType === \"\")\n                widget.setGravity(ccui.ListView.GRAVITY_LEFT);\n            else if (horizontalType === \"Align_Right\")\n                widget.setGravity(ccui.ListView.GRAVITY_RIGHT);\n            else if (horizontalType === \"Align_HorizontalCenter\")\n                widget.setGravity(ccui.ListView.GRAVITY_CENTER_HORIZONTAL);\n        }\n\n\n        var bounceEnabled = getParam(json[\"IsBounceEnabled\"], false);\n        widget.setBounceEnabled(bounceEnabled);\n\n        var itemMargin = json[\"ItemMargin\"] || 0;\n        widget.setItemsMargin(itemMargin);\n\n        var innerSize = json[\"InnerNodeSize\"];\n        //Width\n        if (innerSize != null)\n            widget.setInnerContainerSize(cc.size(innerSize[\"Widget\"] || 0, innerSize[\"Height\"] || 0));\n\n        setLayoutBackground(widget, json[\"SingleColor\"], json[\"FirstColor\"], json[\"EndColor\"]);\n        setLayoutBackgroundVector(widget, json[\"ColorVector\"]);\n\n        if (bgColorOpacity != null)\n            widget.setBackGroundColorOpacity(bgColorOpacity);\n\n        setContentSize(widget, json[\"Size\"]);\n\n        return widget;\n    };\n\n    /**\n     * TextAtlas\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.TextAtlas}\n     */\n    parser.initTextAtlas = function (json, resourcePath) {\n\n        var widget = new ccui.TextAtlas();\n\n        var stringValue = json[\"LabelText\"];\n        var itemWidth = json[\"CharWidth\"];\n        var itemHeight = json[\"CharHeight\"];\n\n        var startCharMap = json[\"StartChar\"];\n\n        loadTexture(json[\"LabelAtlasFileImage_CNB\"], resourcePath, function (path, type) {\n            if (!cc.loader.getRes(path))\n                cc.log(\"%s need to be preloaded\", path);\n            if (type === 0) {\n                widget.setProperty(stringValue, path, itemWidth, itemHeight, startCharMap);\n            }\n        });\n        this.widgetAttributes(widget, json);\n\n        // the TextAtlas must be ignore ContentSize[Size] in the ccs file.\n        widget.ignoreContentAdaptWithSize(true);\n\n        return widget;\n    };\n\n    /**\n     * TextBMFont\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.TextBMFont}\n     */\n    parser.initTextBMFont = function (json, resourcePath) {\n        var widget = new ccui.TextBMFont();\n        this.widgetAttributes(widget, json);\n\n        loadTexture(json[\"LabelBMFontFile_CNB\"], resourcePath, function (path, type) {\n            if (!cc.loader.getRes(path))\n                cc.log(\"%s need to be pre loaded\", path);\n            widget.setFntFile(path);\n        });\n\n        var text = json[\"LabelText\"];\n        widget.setString(text);\n\n        widget.ignoreContentAdaptWithSize(true);\n        return widget;\n    };\n\n    /**\n     * TextField\n     * @param json\n     * @param resourcePath\n     * @returns {ccui.TextField}\n     */\n    parser.initTextField = function (json, resourcePath) {\n        var widget = new ccui.TextField();\n\n        var passwordEnabled = json[\"PasswordEnable\"];\n        if (passwordEnabled) {\n            widget.setPasswordEnabled(true);\n            var passwordStyleText = json[\"PasswordStyleText\"] || \"*\";\n            widget.setPasswordStyleText(passwordStyleText);\n        }\n\n        var placeHolder = json[\"PlaceHolderText\"];\n        if (placeHolder != null)\n            widget.setPlaceHolder(placeHolder);\n\n        var fontSize = json[\"FontSize\"];\n        if (fontSize != null)\n            widget.setFontSize(fontSize);\n\n        var fontName = json[\"FontName\"];\n        if (fontName != null)\n            widget.setFontName(fontName);\n\n        var maxLengthEnabled = json[\"MaxLengthEnable\"];\n        if (maxLengthEnabled) {\n            widget.setMaxLengthEnabled(true);\n            var maxLength = json[\"MaxLengthText\"] || 0;\n            widget.setMaxLength(maxLength);\n        }\n\n        //var isCustomSize = json[\"IsCustomSize\"];\n        this.widgetAttributes(widget, json);\n\n        var text = json[\"LabelText\"];\n        if (text != null)\n            widget.setString(text);\n\n        var fontResource = json[\"FontResource\"];\n        if (fontResource != null) {\n            var path = fontResource[\"Path\"];\n            //resoutceType = fontResource[\"Type\"];\n            if (path != null) {\n                if (cc.sys.isNative) {\n                    fontName = cc.path.join(cc.loader.resPath, resourcePath, path);\n                } else {\n                    fontName = path.match(/([^\\/]+)\\.(\\S+)/);\n                    fontName = fontName ? fontName[1] : \"\";\n                }\n                widget.setFontName(fontName);\n            }\n        }\n\n        widget.setUnifySizeEnabled(false);\n        widget.ignoreContentAdaptWithSize(false);\n\n        var color = json[\"CColor\"];\n        if (color != null)\n            widget.setTextColor(getColor(color));\n\n        if (!widget.isIgnoreContentAdaptWithSize()) {\n            setContentSize(widget, json[\"Size\"]);\n            if (cc.sys.isNative)\n                widget.getVirtualRenderer().setLineBreakWithoutSpace(true);\n        }\n\n\n        return widget;\n\n    };\n\n    /**\n     * SimpleAudio\n     * @param json\n     * @param resourcePath\n     */\n    parser.initSimpleAudio = function (json, resourcePath) {\n\n        var node = new ccs.ComAudio();\n        var loop = json[\"Loop\"] || false;\n        //var volume = json[\"Volume\"] || 0;\n        //cc.audioEngine.setMusicVolume(volume);\n        node.setLoop(loop);\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            node.setFile(path);\n        });\n\n    };\n\n    /**\n     * GameMap\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initGameMap = function (json, resourcePath) {\n\n        var node = null;\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            if (type === 0)\n                node = new cc.TMXTiledMap(path);\n\n            parser.generalAttributes(node, json);\n        });\n\n        return node;\n    };\n\n    /**\n     * ProjectNode\n     * @param json\n     * @param resourcePath\n     * @returns {*}\n     */\n    parser.initProjectNode = function (json, resourcePath) {\n        var projectFile = json[\"FileData\"];\n        if (projectFile != null && projectFile[\"Path\"]) {\n            var file = resourcePath + projectFile[\"Path\"];\n            if (cc.loader.getRes(file)) {\n                var obj = ccs.load(file, resourcePath);\n                parser.generalAttributes(obj.node, json);\n                if (obj.action && obj.node) {\n                    obj.action.tag = obj.node.tag;\n                    var InnerActionSpeed = json[\"InnerActionSpeed\"];\n                    if (InnerActionSpeed !== undefined)\n                        obj.action.setTimeSpeed(InnerActionSpeed);\n                    obj.node.runAction(obj.action);\n                    obj.action.gotoFrameAndPause(0);\n                }\n                return obj.node;\n            } else\n                cc.log(\"%s need to be preloaded\", file);\n        }\n    };\n\n    var getFileName = function (name) {\n        if (!name) return \"\";\n        var arr = name.match(/([^\\/]+)\\.[^\\/]+$/);\n        if (arr && arr[1])\n            return arr[1];\n        else\n            return \"\";\n    };\n\n    /**\n     * Armature\n     * @param json\n     * @param resourcePath\n     */\n    parser.initArmature = function (json, resourcePath) {\n\n        var node = new ccs.Armature();\n\n        var isLoop = json[\"IsLoop\"];\n\n        var isAutoPlay = json[\"IsAutoPlay\"];\n\n        var currentAnimationName = json[\"CurrentAnimationName\"];\n\n        loadTexture(json[\"FileData\"], resourcePath, function (path, type) {\n            var plists, pngs;\n            var armJson = cc.loader.getRes(path);\n            if (!armJson)\n                cc.log(\"%s need to be preloaded\", path);\n            else {\n                plists = armJson[\"config_file_path\"];\n                pngs = armJson[\"config_png_path\"];\n                plists.forEach(function (plist, index) {\n                    if (pngs[index])\n                        cc.spriteFrameCache.addSpriteFrames(plist, pngs[index]);\n                });\n            }\n            ccs.armatureDataManager.addArmatureFileInfo(path);\n            node.init(getFileName(path));\n            if (isAutoPlay)\n                node.getAnimation().play(currentAnimationName, -1, isLoop);\n            else {\n                node.getAnimation().play(currentAnimationName);\n                node.getAnimation().gotoAndPause(0);\n            }\n\n        });\n\n        delete json[\"AnchorPoint\"];\n        delete json[\"Size\"];\n        parser.generalAttributes(node, json);\n\n        node.setColor(getColor(json[\"CColor\"]));\n        return node;\n    };\n\n    parser.initBoneNode = function (json, resourcePath) {\n\n        var node = new ccs.BoneNode();\n\n        var length = json[\"Length\"];\n        if (length !== undefined)\n            node.setDebugDrawLength(length);\n\n        var blendFunc = json[\"BlendFunc\"];\n        if (blendFunc && blendFunc[\"Src\"] !== undefined && blendFunc[\"Dst\"] !== undefined)\n            node.setBlendFunc(new cc.BlendFunc(blendFunc[\"Src\"], blendFunc[\"Dst\"]));\n\n        parser.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if (color && (color[\"R\"] !== undefined || color[\"G\"] !== undefined || color[\"B\"] !== undefined))\n            node.setColor(getColor(color));\n        return node;\n    };\n\n    parser.initSkeletonNode = function (json) {\n        var node = new ccs.SkeletonNode();\n        parser.generalAttributes(node, json);\n        var color = json[\"CColor\"];\n        if (color && (color[\"R\"] !== undefined || color[\"G\"] !== undefined || color[\"B\"] !== undefined))\n            node.setColor(getColor(color));\n        return node;\n    };\n\n    var loadedPlist = {};\n    var loadTexture = function (json, resourcePath, cb) {\n        if (json != null) {\n            var path = json[\"Path\"];\n            var type;\n            if (json[\"Type\"] === \"Default\" || json[\"Type\"] === \"Normal\")\n                type = 0;\n            else\n                type = 1;\n            var plist = json[\"Plist\"];\n            if (plist) {\n                if (cc.loader.getRes(resourcePath + plist)) {\n                    loadedPlist[resourcePath + plist] = true;\n                    cc.spriteFrameCache.addSpriteFrames(resourcePath + plist);\n                } else {\n                    if (!loadedPlist[resourcePath + plist] && !cc.spriteFrameCache.getSpriteFrame(path))\n                        cc.log(\"%s need to be preloaded\", resourcePath + plist);\n                }\n            }\n            if (type !== 0) {\n                if (cc.spriteFrameCache.getSpriteFrame(path))\n                    cb(path, type);\n                else\n                    cc.log(\"failed to get spriteFrame: %s\", path);\n            } else\n                cb(resourcePath + path, type);\n        }\n    };\n\n    var getColor = function (json) {\n        if (!json) return;\n        var r = json[\"R\"] != null ? json[\"R\"] : 255;\n        var g = json[\"G\"] != null ? json[\"G\"] : 255;\n        var b = json[\"B\"] != null ? json[\"B\"] : 255;\n        var a = json[\"A\"] != null ? json[\"A\"] : 255;\n        return cc.color(r, g, b, a);\n    };\n\n    var setContentSize = function (node, size) {\n        var x = size[\"X\"] || 0;\n        var y = size[\"Y\"] || 0;\n        if (size)\n            node.setContentSize(cc.size(x, y));\n    };\n\n    var register = [\n        {name: \"SingleNodeObjectData\", handle: parser.initSingleNode},\n        {name: \"NodeObjectData\", handle: parser.initSingleNode},\n        {name: \"LayerObjectData\", handle: parser.initSingleNode},\n        {name: \"GameNodeObjectData\", handle: parser.initSingleNode},\n        {name: \"GameLayerObjectData\", handle: parser.initSingleNode},\n        {name: \"SpriteObjectData\", handle: parser.initSprite},\n        {name: \"ParticleObjectData\", handle: parser.initParticle},\n        {name: \"PanelObjectData\", handle: parser.initPanel},\n        {name: \"TextObjectData\", handle: parser.initText},\n        {name: \"ButtonObjectData\", handle: parser.initButton},\n        {name: \"CheckBoxObjectData\", handle: parser.initCheckBox},\n        {name: \"ScrollViewObjectData\", handle: parser.initScrollView},\n        {name: \"ImageViewObjectData\", handle: parser.initImageView},\n        {name: \"LoadingBarObjectData\", handle: parser.initLoadingBar},\n        {name: \"SliderObjectData\", handle: parser.initSlider},\n        {name: \"PageViewObjectData\", handle: parser.initPageView},\n        {name: \"ListViewObjectData\", handle: parser.initListView},\n        {name: \"TextAtlasObjectData\", handle: parser.initTextAtlas},\n        {name: \"TextBMFontObjectData\", handle: parser.initTextBMFont},\n        {name: \"TextFieldObjectData\", handle: parser.initTextField},\n        {name: \"SimpleAudioObjectData\", handle: parser.initSimpleAudio},\n        {name: \"GameMapObjectData\", handle: parser.initGameMap},\n        {name: \"ProjectNodeObjectData\", handle: parser.initProjectNode},\n        {name: \"ArmatureNodeObjectData\", handle: parser.initArmature},\n        {name: \"BoneNodeObjectData\", handle: parser.initBoneNode},\n        {name: \"SkeletonNodeObjectData\", handle: parser.initSkeletonNode}\n    ];\n\n    register.forEach(function (item) {\n        parser.registerParser(item.name, function (options, resourcePath) {\n            var node = item.handle.call(this, options, resourcePath);\n            this.parseChild(node, options[\"Children\"], resourcePath);\n            DEBUG && node && (node.__parserName = item.name);\n            return node;\n        });\n    });\n\n\n    load.registerParser(\"timeline\", \"2.*\", parser);\n    load.registerParser(\"timeline\", \"*\", parser);\n\n\n})(ccs._load, ccs._parser);\n"]}