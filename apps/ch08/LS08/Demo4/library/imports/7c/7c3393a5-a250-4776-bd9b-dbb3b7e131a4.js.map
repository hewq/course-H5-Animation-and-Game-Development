{"version":3,"sources":["../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/layouts/assets/frameworks/cocos2d-html5/extensions/ccui/layouts/UILayoutComponent.js"],"names":["ccui","LayoutComponent_ReferencePoint","BOTTOM_LEFT","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","LayoutComponent_PositionType","Position","RelativePosition","PreRelativePosition","PreRelativePositionEnable","LayoutComponent_SizeType","Size","PreSize","PreSizeEnable","LayoutComponent","cc","Component","extend","_horizontalEdge","_verticalEdge","_leftMargin","_rightMargin","_bottomMargin","_topMargin","_usingPositionPercentX","_positionPercentX","_usingPositionPercentY","_positionPercentY","_usingStretchWidth","_usingStretchHeight","_percentWidth","_usingPercentWidth","_percentHeight","_usingPercentHeight","_actived","_isPercentOnly","ctor","_name","NAME","init","ret","prototype","call","getPercentContentSize","p","setPercentContentSize","percent","setPercentWidth","x","setPercentHeight","y","setUsingPercentContentSize","isUsed","SetActiveEnable","enable","getUsingPercentContentSize","getAnchorPosition","_owner","getAnchorPoint","setAnchorPosition","point","oldRect","getBoundingBox","setAnchorPoint","newRect","offSetX","offSetY","ownerPosition","getPosition","setPosition","position","parent","_getOwnerParent","undefined","parentSize","getContentSize","width","height","_refreshHorizontalMargin","_refreshVerticalMargin","isPositionPercentXEnabled","setPositionPercentXEnabled","horizontalEdge","NONE","getPositionPercentX","setPositionPercentX","percentMargin","setPositionX","isPositionPercentYEnabled","setPositionPercentYEnabled","verticalEdge","getPositionPercentY","setPositionPercentY","setPositionY","getHorizontalEdge","setHorizontalEdge","hEdge","ownerPoint","getVerticalEdge","setVerticalEdge","vEdge","getLeftMargin","setLeftMargin","margin","getRightMargin","setRightMargin","getTopMargin","setTopMargin","getBottomMargin","setBottomMargin","getSize","getOwner","setSize","size","ownerSize","setContentSize","isPercentWidthEnabled","setPercentWidthEnabled","getSizeWidth","setSizeWidth","getPercentWidth","percentWidth","isPercentHeightEnabled","setPercentHeightEnabled","getSizeHeight","setSizeHeight","getPercentHeight","percentHeight","isStretchWidthEnabled","setStretchWidthEnabled","isStretchHeightEnabled","setStretchHeightEnabled","setPercentOnlyEnabled","setActiveEnabled","refreshLayout","locOwner","ownerAnchor","LEFT","RIGHT","CENTER","BOTTOM","TOP","PageView","forceDoLayout","layoutVector","getPages","i","length","helper","doLayout","getParent","bindLayoutComponent","node","layout","getComponent","addComponent","Widget","addEventListener"],"mappings":"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","file":"UILayoutComponent.js","sourceRoot":"../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/layouts","sourcesContent":["/****************************************************************************\n Copyright (c) 2011-2012 cocos2d-x.org\n Copyright (c) 2013-2014 Chukong Technologies Inc.\n\n http://www.cocos2d-x.org\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in\n all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n THE SOFTWARE.\n ****************************************************************************/\n\nccui.LayoutComponent_ReferencePoint = {\n    BOTTOM_LEFT: 0,\n    TOP_LEFT: 1,\n    BOTTOM_RIGHT: 2,\n    TOP_RIGHT: 3\n};\nccui.LayoutComponent_PositionType = {\n    Position: 0,\n    RelativePosition: 1,\n    PreRelativePosition: 2,\n    PreRelativePositionEnable: 3\n};\nccui.LayoutComponent_SizeType = {\n    Size: 0,\n    PreSize: 1,\n    PreSizeEnable: 2\n};\n\n//refactor since v3.3\nccui.LayoutComponent = cc.Component.extend({\n    _horizontalEdge: 0,\n    _verticalEdge: 0,\n\n    _leftMargin: 0,\n    _rightMargin: 0,\n    _bottomMargin: 0,\n    _topMargin: 0,\n\n    _usingPositionPercentX: false,\n    _positionPercentX: 0,\n    _usingPositionPercentY: false,\n    _positionPercentY: 0,\n\n    _usingStretchWidth: false,\n    _usingStretchHeight: false,\n\n    _percentWidth: 0,\n    _usingPercentWidth: false,\n\n    _percentHeight: 0,\n    _usingPercentHeight: false,\n\n    _actived: true,\n    _isPercentOnly: false,\n\n    ctor: function () {\n        this._name = ccui.LayoutComponent.NAME;\n    },\n\n    init: function () {\n        var ret = true;\n\n        if (!cc.Component.prototype.init.call(this)) {\n            return false;\n        }\n\n        //put layout component initalized code here\n\n        return ret;\n    },\n\n    getPercentContentSize: function () {\n        return cc.p(this._percentWidth, this._percentHeight);\n    },\n    setPercentContentSize: function (percent) {\n        this.setPercentWidth(percent.x);\n        this.setPercentHeight(percent.y);\n    },\n\n    setUsingPercentContentSize: function (isUsed) {\n        this._usingPercentWidth = this._usingPercentHeight = isUsed;\n    },\n\n    //old\n    SetActiveEnable: function (enable) {\n        this._actived = enable;\n    },\n\n    //v3.3\n    getUsingPercentContentSize: function () {\n        return this._usingPercentWidth && this._usingPercentHeight;\n    },\n\n    //position & margin\n    getAnchorPosition: function () {\n        return this._owner.getAnchorPoint();\n    },\n\n    setAnchorPosition: function (point, y) {\n        var oldRect = this._owner.getBoundingBox();\n        this._owner.setAnchorPoint(point, y);\n        var newRect = this._owner.getBoundingBox();\n        var offSetX = oldRect.x - newRect.x, offSetY = oldRect.y - newRect.y;\n\n        var ownerPosition = this._owner.getPosition();\n        ownerPosition.x += offSetX;\n        ownerPosition.y += offSetY;\n        this.setPosition(ownerPosition);\n    },\n\n    getPosition: function () {\n        return this._owner.getPosition();\n    },\n\n    setPosition: function (position, y) {\n        var parent = this._getOwnerParent(), x;\n        if (parent != null) {\n            if (y === undefined) {\n                x = position.x;\n                y = position.y;\n            } else\n                x = position;\n            var parentSize = parent.getContentSize();\n\n            if (parentSize.width !== 0)\n                this._positionPercentX = x / parentSize.width;\n            else {\n                this._positionPercentX = 0;\n                if (this._usingPositionPercentX)\n                    x = 0;\n            }\n\n            if (parentSize.height !== 0)\n                this._positionPercentY = y / parentSize.height;\n            else {\n                this._positionPercentY = 0;\n                if (this._usingPositionPercentY)\n                    y = 0;\n            }\n\n            this._owner.setPosition(x, y);\n            this._refreshHorizontalMargin();\n            this._refreshVerticalMargin();\n        } else\n            this._owner.setPosition(position, y);\n    },\n\n    isPositionPercentXEnabled: function () {\n        return this._usingPositionPercentX;\n    },\n    setPositionPercentXEnabled: function (isUsed) {\n        this._usingPositionPercentX = isUsed;\n        if (this._usingPositionPercentX)\n            this._horizontalEdge = ccui.LayoutComponent.horizontalEdge.NONE;\n    },\n\n    getPositionPercentX: function () {\n        return this._positionPercentX;\n    },\n    setPositionPercentX: function (percentMargin) {\n        this._positionPercentX = percentMargin;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            this._owner.setPositionX(parent.width * this._positionPercentX);\n            this._refreshHorizontalMargin();\n        }\n    },\n\n    isPositionPercentYEnabled: function () {\n        return this._usingPositionPercentY;\n    },\n    setPositionPercentYEnabled: function (isUsed) {\n        this._usingPositionPercentY = isUsed;\n        if (this._usingPositionPercentY)\n            this._verticalEdge = ccui.LayoutComponent.verticalEdge.NONE;\n    },\n\n    getPositionPercentY: function () {\n        return this._positionPercentY;\n    },\n    setPositionPercentY: function (percentMargin) {\n        this._positionPercentY = percentMargin;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            this._owner.setPositionY(parent.height * this._positionPercentY);\n            this._refreshVerticalMargin();\n        }\n    },\n\n    getHorizontalEdge: function () {\n        return this._horizontalEdge;\n    },\n    setHorizontalEdge: function (hEdge) {\n        this._horizontalEdge = hEdge;\n        if (this._horizontalEdge !== ccui.LayoutComponent.horizontalEdge.NONE)\n            this._usingPositionPercentX = false;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var ownerPoint = this._owner.getPosition();\n            var parentSize = parent.getContentSize();\n            if (parentSize.width !== 0)\n                this._positionPercentX = ownerPoint.x / parentSize.width;\n            else {\n                this._positionPercentX = 0;\n                ownerPoint.x = 0;\n                if (this._usingPositionPercentX)\n                    this._owner.setPosition(ownerPoint);\n            }\n            this._refreshHorizontalMargin();\n        }\n    },\n\n    getVerticalEdge: function () {\n        return this._verticalEdge;\n    },\n    setVerticalEdge: function (vEdge) {\n        this._verticalEdge = vEdge;\n        if (this._verticalEdge !== ccui.LayoutComponent.verticalEdge.NONE)\n            this._usingPositionPercentY = false;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var ownerPoint = this._owner.getPosition();\n            var parentSize = parent.getContentSize();\n            if (parentSize.height !== 0)\n                this._positionPercentY = ownerPoint.y / parentSize.height;\n            else {\n                this._positionPercentY = 0;\n                ownerPoint.y = 0;\n                if (this._usingPositionPercentY)\n                    this._owner.setPosition(ownerPoint);\n            }\n            this._refreshVerticalMargin();\n        }\n    },\n\n    getLeftMargin: function () {\n        return this._leftMargin;\n    },\n    setLeftMargin: function (margin) {\n        this._leftMargin = margin;\n    },\n\n    getRightMargin: function () {\n        return this._rightMargin;\n    },\n    setRightMargin: function (margin) {\n        this._rightMargin = margin;\n    },\n\n    getTopMargin: function () {\n        return this._topMargin;\n    },\n    setTopMargin: function (margin) {\n        this._topMargin = margin;\n    },\n\n    getBottomMargin: function () {\n        return this._bottomMargin;\n    },\n    setBottomMargin: function (margin) {\n        this._bottomMargin = margin;\n    },\n\n    //size &\n    getSize: function () {\n        return this.getOwner().getContentSize();\n    },\n    setSize: function (size) {\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var ownerSize = size, parentSize = parent.getContentSize();\n\n            if (parentSize.width !== 0)\n                this._percentWidth = ownerSize.width / parentSize.width;\n            else {\n                this._percentWidth = 0;\n                if (this._usingPercentWidth)\n                    ownerSize.width = 0;\n            }\n\n            if (parentSize.height !== 0)\n                this._percentHeight = ownerSize.height / parentSize.height;\n            else {\n                this._percentHeight = 0;\n                if (this._usingPercentHeight)\n                    ownerSize.height = 0;\n            }\n\n            this._owner.setContentSize(ownerSize);\n\n            this._refreshHorizontalMargin();\n            this._refreshVerticalMargin();\n        }\n        else\n            this._owner.setContentSize(size);\n    },\n\n    isPercentWidthEnabled: function () {\n        return this._usingPercentWidth;\n    },\n    setPercentWidthEnabled: function (isUsed) {\n        this._usingPercentWidth = isUsed;\n        if (this._usingPercentWidth)\n            this._usingStretchWidth = false;\n    },\n\n    getSizeWidth: function () {\n        return this._owner.width;\n    },\n    setSizeWidth: function (width) {\n        var ownerSize = this._owner.getContentSize();\n        ownerSize.width = width;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var parentSize = parent.getContentSize();\n            if (parentSize.width !== 0)\n                this._percentWidth = ownerSize.width / parentSize.width;\n            else {\n                this._percentWidth = 0;\n                if (this._usingPercentWidth)\n                    ownerSize.width = 0;\n            }\n            this._owner.setContentSize(ownerSize);\n            this._refreshHorizontalMargin();\n        } else\n            this._owner.setContentSize(ownerSize);\n    },\n\n    getPercentWidth: function () {\n        return this._percentWidth;\n    },\n    setPercentWidth: function (percentWidth) {\n        this._percentWidth = percentWidth;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var ownerSize = this._owner.getContentSize();\n            ownerSize.width = parent.width * this._percentWidth;\n            this._owner.setContentSize(ownerSize);\n            this._refreshHorizontalMargin();\n        }\n    },\n\n    isPercentHeightEnabled: function () {\n        return this._usingPercentHeight;\n    },\n    setPercentHeightEnabled: function (isUsed) {\n        this._usingPercentHeight = isUsed;\n        if (this._usingPercentHeight)\n            this._usingStretchHeight = false;\n    },\n\n    getSizeHeight: function () {\n        return this._owner.height;\n    },\n    setSizeHeight: function (height) {\n        var ownerSize = this._owner.getContentSize();\n        ownerSize.height = height;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var parentSize = parent.getContentSize();\n            if (parentSize.height !== 0)\n                this._percentHeight = ownerSize.height / parentSize.height;\n            else {\n                this._percentHeight = 0;\n                if (this._usingPercentHeight)\n                    ownerSize.height = 0;\n            }\n            this._owner.setContentSize(ownerSize);\n            this._refreshVerticalMargin();\n        }\n        else\n            this._owner.setContentSize(ownerSize);\n    },\n\n    getPercentHeight: function () {\n        return this._percentHeight;\n    },\n    setPercentHeight: function (percentHeight) {\n        this._percentHeight = percentHeight;\n\n        var parent = this._getOwnerParent();\n        if (parent !== null) {\n            var ownerSize = this._owner.getContentSize();\n            ownerSize.height = parent.height * this._percentHeight;\n            this._owner.setContentSize(ownerSize);\n            this._refreshVerticalMargin();\n        }\n    },\n\n    isStretchWidthEnabled: function () {\n        return this._usingStretchWidth;\n    },\n    setStretchWidthEnabled: function (isUsed) {\n        this._usingStretchWidth = isUsed;\n        if (this._usingStretchWidth)\n            this._usingPercentWidth = false;\n    },\n\n    isStretchHeightEnabled: function () {\n        return this._usingStretchHeight;\n    },\n    setStretchHeightEnabled: function (isUsed) {\n        this._usingStretchHeight = isUsed;\n        if (this._usingStretchHeight)\n            this._usingPercentHeight = false;\n    },\n\n    setPercentOnlyEnabled: function(enable){\n        this._isPercentOnly = enable;\n    },\n\n    setActiveEnabled: function (enable) {\n        this._actived = enable;\n    },\n    refreshLayout: function () {\n        if(!this._actived)\n            return;\n\n        var parent = this._getOwnerParent();\n        if (parent === null)\n            return;\n\n        var parentSize = parent.getContentSize(), locOwner = this._owner;\n        var ownerAnchor = locOwner.getAnchorPoint(), ownerSize = locOwner.getContentSize();\n        var ownerPosition = locOwner.getPosition();\n\n        switch (this._horizontalEdge) {\n            case ccui.LayoutComponent.horizontalEdge.NONE:\n                if (this._usingStretchWidth && !this._isPercentOnly) {\n                    ownerSize.width = parentSize.width * this._percentWidth;\n                    ownerPosition.x = this._leftMargin + ownerAnchor.x * ownerSize.width;\n                } else {\n                    if (this._usingPositionPercentX)\n                        ownerPosition.x = parentSize.width * this._positionPercentX;\n                    if (this._usingPercentWidth)\n                        ownerSize.width = parentSize.width * this._percentWidth;\n                }\n                break;\n            case ccui.LayoutComponent.horizontalEdge.LEFT:\n                if(this._isPercentOnly)\n                    break;\n                if (this._usingPercentWidth || this._usingStretchWidth)\n                    ownerSize.width = parentSize.width * this._percentWidth;\n                ownerPosition.x = this._leftMargin + ownerAnchor.x * ownerSize.width;\n                break;\n            case ccui.LayoutComponent.horizontalEdge.RIGHT:\n                if(this._isPercentOnly)\n                    break;\n                if (this._usingPercentWidth || this._usingStretchWidth)\n                    ownerSize.width = parentSize.width * this._percentWidth;\n                ownerPosition.x = parentSize.width - (this._rightMargin + (1 - ownerAnchor.x) * ownerSize.width);\n                break;\n            case ccui.LayoutComponent.horizontalEdge.CENTER:\n                if(this._isPercentOnly)\n                    break;\n                if (this._usingStretchWidth) {\n                    ownerSize.width = parentSize.width - this._leftMargin - this._rightMargin;\n                    if (ownerSize.width < 0)\n                        ownerSize.width = 0;\n                    ownerPosition.x = this._leftMargin + ownerAnchor.x * ownerSize.width;\n                } else {\n                    if (this._usingPercentWidth)\n                        ownerSize.width = parentSize.width * this._percentWidth;\n                    ownerPosition.x = parentSize.width * this._positionPercentX;\n                }\n                break;\n            default:\n                break;\n        }\n\n        switch (this._verticalEdge) {\n            case ccui.LayoutComponent.verticalEdge.NONE:\n                if (this._usingStretchHeight && !this._isPercentOnly) {\n                    ownerSize.height = parentSize.height * this._percentHeight;\n                    ownerPosition.y = this._bottomMargin + ownerAnchor.y * ownerSize.height;\n                } else {\n                    if (this._usingPositionPercentY)\n                        ownerPosition.y = parentSize.height * this._positionPercentY;\n                    if (this._usingPercentHeight)\n                        ownerSize.height = parentSize.height * this._percentHeight;\n                }\n                break;\n            case ccui.LayoutComponent.verticalEdge.BOTTOM:\n                if(this._isPercentOnly)\n                    break;\n                if (this._usingPercentHeight || this._usingStretchHeight)\n                    ownerSize.height = parentSize.height * this._percentHeight;\n                ownerPosition.y = this._bottomMargin + ownerAnchor.y * ownerSize.height;\n                break;\n            case ccui.LayoutComponent.verticalEdge.TOP:\n                if(this._isPercentOnly)\n                    break;\n                if (this._usingPercentHeight || this._usingStretchHeight)\n                    ownerSize.height = parentSize.height * this._percentHeight;\n                ownerPosition.y = parentSize.height - (this._topMargin + (1 - ownerAnchor.y) * ownerSize.height);\n                break;\n            case ccui.LayoutComponent.verticalEdge.CENTER:\n                if(this._isPercentOnly)\n                    break;\n                if (this._usingStretchHeight) {\n                    ownerSize.height = parentSize.height - this._topMargin - this._bottomMargin;\n                    if (ownerSize.height < 0)\n                        ownerSize.height = 0;\n                    ownerPosition.y = this._bottomMargin + ownerAnchor.y * ownerSize.height;\n                } else {\n                    if(this._usingPercentHeight)\n                        ownerSize.height = parentSize.height * this._percentHeight;\n                    ownerPosition.y = parentSize.height * this._positionPercentY;\n                }\n                break;\n            default:\n                break;\n        }\n\n        locOwner.setPosition(ownerPosition);\n        locOwner.setContentSize(ownerSize);\n\n        if(locOwner instanceof ccui.PageView){\n            locOwner.forceDoLayout();\n\n            var layoutVector = locOwner.getPages();\n            for(var i=0; i<layoutVector.length; i++){\n                ccui.helper.doLayout(layoutVector[i]);\n            }\n        }else{\n            ccui.helper.doLayout(locOwner);\n        }\n    },\n\n    _getOwnerParent: function () {\n        return this._owner ? this._owner.getParent() : null;\n    },\n    _refreshHorizontalMargin: function () {\n        var parent = this._getOwnerParent();\n        if (parent === null)\n            return;\n\n        var ownerPoint = this._owner.getPosition(), ownerAnchor = this._owner.getAnchorPoint();\n        var ownerSize = this._owner.getContentSize(), parentSize = parent.getContentSize();\n\n        this._leftMargin = ownerPoint.x - ownerAnchor.x * ownerSize.width;\n        this._rightMargin = parentSize.width - (ownerPoint.x + (1 - ownerAnchor.x) * ownerSize.width);\n    },\n    _refreshVerticalMargin: function () {\n        var parent = this._getOwnerParent();\n        if (parent === null)\n            return;\n\n        var ownerPoint = this._owner.getPosition(), ownerAnchor = this._owner.getAnchorPoint();\n        var ownerSize = this._owner.getContentSize(), parentSize = parent.getContentSize();\n\n        this._bottomMargin = ownerPoint.y - ownerAnchor.y * ownerSize.height;\n        this._topMargin = parentSize.height - (ownerPoint.y + (1 - ownerAnchor.y) * ownerSize.height);\n    }\n});\n\nccui.LayoutComponent.horizontalEdge = {NONE: 0, LEFT: 1, RIGHT: 2, CENTER: 3};\nccui.LayoutComponent.verticalEdge = {NONE: 0, BOTTOM: 1, TOP: 2, CENTER: 3};\n\nccui.LayoutComponent.NAME = \"__ui_layout\";\nccui.LayoutComponent.bindLayoutComponent = function (node) {\n    var layout = node.getComponent(ccui.LayoutComponent.NAME);\n    if (layout !== undefined)\n        return layout;\n\n    layout = new ccui.LayoutComponent();\n    layout.init();\n    node.addComponent(layout);\n    if (!(node instanceof ccui.Widget)) {\n        node.addEventListener && node.addEventListener(\"load\", function () {\n            layout.refreshLayout();\n        }, this);\n    }\n\n    return layout;\n};"]}