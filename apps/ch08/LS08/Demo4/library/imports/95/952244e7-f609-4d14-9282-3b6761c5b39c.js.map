{"version":3,"sources":["../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget/assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget/UIScrollViewWebGLRenderCmd.js"],"names":["ccui","ProtectedNode","WebGLRenderCmd","ScrollView","renderable","_layoutCmdCtor","_needDraw","_dirty","proto","prototype","Object","create","Layout","constructor","rendering","ctx","currentID","_node","__instanceId","locCmds","cc","renderer","_cacheToBufferCmds","i","len","checkNode","cmd","context","_renderContext","updateChildren","bindBuffer","gl","ARRAY_BUFFER","length","_parent","_inViewRect","uploadData","_uploadBufferData","_batchingSize","_batchRendering"],"mappings":";;;;;;AAAA,CAAC,YAAY;AACT,QAAI,CAACA,KAAKC,aAAL,CAAmBC,cAAxB,EACI;AACJF,SAAKG,UAAL,CAAgBD,cAAhB,GAAiC,UAAUE,UAAV,EAAsB;AACnD,aAAKC,cAAL,CAAoBD,UAApB;AACA,aAAKE,SAAL,GAAiB,IAAjB;AACA,aAAKC,MAAL,GAAc,KAAd;AACH,KAJD;;AAMA,QAAIC,QAAQR,KAAKG,UAAL,CAAgBD,cAAhB,CAA+BO,SAA/B,GAA2CC,OAAOC,MAAP,CAAcX,KAAKY,MAAL,CAAYV,cAAZ,CAA2BO,SAAzC,CAAvD;AACAD,UAAMK,WAAN,GAAoBb,KAAKG,UAAL,CAAgBD,cAApC;;AAEAM,UAAMM,SAAN,GAAkB,UAAUC,GAAV,EAAe;AAC7B,YAAIC,YAAY,KAAKC,KAAL,CAAWC,YAA3B;AAAA,YACIC,UAAUC,GAAGC,QAAH,CAAYC,kBAAZ,CAA+BN,SAA/B,CADd;AAAA,YAEIO,CAFJ;AAAA,YAEOC,GAFP;AAAA,YAEYC,SAFZ;AAAA,YAEuBC,GAFvB;AAAA,YAGIC,UAAUZ,OAAOK,GAAGQ,cAHxB;AAIA,YAAI,CAACT,OAAL,EAAc;AACV;AACH;;AAED,aAAKF,KAAL,CAAWY,cAAX;;AAEA;AACAF,gBAAQG,UAAR,CAAmBC,GAAGC,YAAtB,EAAoC,IAApC;;AAEA,aAAKT,IAAI,CAAJ,EAAOC,MAAML,QAAQc,MAA1B,EAAkCV,IAAIC,GAAtC,EAA2CD,GAA3C,EAAgD;AAC5CG,kBAAMP,QAAQI,CAAR,CAAN;AACAE,wBAAYC,IAAIT,KAAhB;AACA,gBAAIQ,aAAaA,UAAUS,OAAvB,IAAkCT,UAAUS,OAAV,CAAkBC,WAAlB,KAAkC,KAAxE,EACI;;AAEJ,gBAAIT,IAAIU,UAAR,EAAoB;AAChBhB,mBAAGC,QAAH,CAAYgB,iBAAZ,CAA8BX,GAA9B;AACH,aAFD,MAGK;AACD,oBAAIA,IAAIY,aAAJ,GAAoB,CAAxB,EAA2B;AACvBlB,uBAAGC,QAAH,CAAYkB,eAAZ;AACH;AACDb,oBAAIZ,SAAJ,CAAca,OAAd;AACH;AACDP,eAAGC,QAAH,CAAYkB,eAAZ;AACH;AACJ,KA/BD;AAgCH,CA5CD","file":"UIScrollViewWebGLRenderCmd.js","sourceRoot":"../../../../../../../../../assets/frameworks/cocos2d-html5/extensions/ccui/uiwidgets/scroll-widget","sourcesContent":["(function () {\n    if (!ccui.ProtectedNode.WebGLRenderCmd)\n        return;\n    ccui.ScrollView.WebGLRenderCmd = function (renderable) {\n        this._layoutCmdCtor(renderable);\n        this._needDraw = true;\n        this._dirty = false;\n    };\n\n    var proto = ccui.ScrollView.WebGLRenderCmd.prototype = Object.create(ccui.Layout.WebGLRenderCmd.prototype);\n    proto.constructor = ccui.ScrollView.WebGLRenderCmd;\n\n    proto.rendering = function (ctx) {\n        var currentID = this._node.__instanceId,\n            locCmds = cc.renderer._cacheToBufferCmds[currentID],\n            i, len, checkNode, cmd,\n            context = ctx || cc._renderContext;\n        if (!locCmds) {\n            return;\n        }\n\n        this._node.updateChildren();\n\n        // Reset buffer for rendering\n        context.bindBuffer(gl.ARRAY_BUFFER, null);\n\n        for (i = 0, len = locCmds.length; i < len; i++) {\n            cmd = locCmds[i];\n            checkNode = cmd._node;\n            if (checkNode && checkNode._parent && checkNode._parent._inViewRect === false)\n                continue;\n\n            if (cmd.uploadData) {\n                cc.renderer._uploadBufferData(cmd);\n            }\n            else {\n                if (cmd._batchingSize > 0) {\n                    cc.renderer._batchRendering();\n                }\n                cmd.rendering(context);\n            }\n            cc.renderer._batchRendering();\n        }\n    };\n})();\n"]}